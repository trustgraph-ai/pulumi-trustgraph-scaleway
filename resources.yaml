apiVersion: v1
items:
- apiVersion: v1
  kind: Namespace
  metadata:
    name: trustgraph
  spec: {}
- apiVersion: storage.k8s.io/v1
  kind: StorageClass
  metadata:
    name: tg
  provisioner: csi.scaleway.com
  reclaimPolicy: Delete
  volumeBindingMode: WaitForFirstConsumer
- apiVersion: storage.k8s.io/v1
  kind: StorageClass
  metadata:
    name: tg
  provisioner: csi.scaleway.com
  reclaimPolicy: Delete
  volumeBindingMode: WaitForFirstConsumer
- apiVersion: v1
  kind: Namespace
  metadata:
    name: trustgraph
  spec: {}
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: agent-manager
    name: agent-manager
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: agent-manager
    template:
      metadata:
        labels:
          app: agent-manager
      spec:
        containers:
        - command:
          - agent-manager-react
          - -p
          - pulsar://pulsar:6650
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: agent-manager
          resources:
            limits:
              cpu: '0.5'
              memory: 128M
            requests:
              cpu: '0.1'
              memory: 128M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: agent-manager
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: agent-manager
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: api-gateway
    name: api-gateway
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: api-gateway
    template:
      metadata:
        labels:
          app: api-gateway
      spec:
        containers:
        - command:
          - api-gateway
          - -p
          - pulsar://pulsar:6650
          - --timeout
          - '600'
          - --port
          - '8088'
          - --log-level
          - DEBUG
          env:
          - name: GATEWAY_SECRET
            valueFrom:
              secretKeyRef:
                key: gateway-secret
                name: gateway-secret
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: api-gateway
          ports:
          - containerPort: 8088
            hostPort: 8088
          resources:
            limits:
              cpu: '0.5'
              memory: 512M
            requests:
              cpu: '0.1'
              memory: 512M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: api-gateway
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    - name: api
      port: 8088
      targetPort: 8088
    selector:
      app: api-gateway
- apiVersion: v1
  kind: PersistentVolumeClaim
  metadata:
    name: cassandra
    namespace: trustgraph
  spec:
    accessModes:
    - ReadWriteOnce
    resources:
      requests:
        storage: 20G
    storageClassName: tg
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: cassandra
    name: cassandra
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: cassandra
    template:
      metadata:
        labels:
          app: cassandra
      spec:
        containers:
        - env:
          - name: JVM_OPTS
            value: -Xms300M -Xmx300M -Dcassandra.skip_wait_for_gossip_to_settle=0
          image: docker.io/cassandra:4.1.10
          name: cassandra
          ports:
          - containerPort: 9042
            hostPort: 9042
          resources:
            limits:
              cpu: '1.0'
              memory: 1000M
            requests:
              cpu: '0.5'
              memory: 1000M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
          volumeMounts:
          - mountPath: /var/lib/cassandra
            name: cassandra
        volumes:
        - name: cassandra
          persistentVolumeClaim:
            claimName: cassandra
- apiVersion: v1
  kind: Service
  metadata:
    name: cassandra
    namespace: trustgraph
  spec:
    ports:
    - name: api
      port: 9042
      targetPort: 9042
    selector:
      app: cassandra
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: chunker
    name: chunker
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: chunker
    template:
      metadata:
        labels:
          app: chunker
      spec:
        containers:
        - command:
          - chunker-recursive
          - -p
          - pulsar://pulsar:6650
          - --chunk-size
          - '2000'
          - --chunk-overlap
          - '100'
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: chunker
          resources:
            limits:
              cpu: '0.5'
              memory: 128M
            requests:
              cpu: '0.1'
              memory: 128M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: chunker
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: chunker
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: config-svc
    name: config-svc
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: config-svc
    template:
      metadata:
        labels:
          app: config-svc
      spec:
        containers:
        - command:
          - config-svc
          - -p
          - pulsar://pulsar:6650
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: config-svc
          resources:
            limits:
              cpu: '0.5'
              memory: 128M
            requests:
              cpu: '0.1'
              memory: 128M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: config-svc
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: config-svc
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: ddg-mcp-server
    name: ddg-mcp-server
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: ddg-mcp-server
    template:
      metadata:
        labels:
          app: ddg-mcp-server
      spec:
        containers:
        - image: docker.io/trustgraph/ddg-mcp-server:0.1.0
          name: ddg-mcp-server
          ports:
          - containerPort: 9870
            hostPort: 9870
          resources:
            limits:
              cpu: '0.5'
              memory: 256M
            requests:
              cpu: '0.1'
              memory: 256M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: ddg-mcp-server
    namespace: trustgraph
  spec:
    ports:
    - name: mcp
      port: 9870
      targetPort: 9870
    selector:
      app: ddg-mcp-server
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: document-embeddings
    name: document-embeddings
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: document-embeddings
    template:
      metadata:
        labels:
          app: document-embeddings
      spec:
        containers:
        - command:
          - document-embeddings
          - -p
          - pulsar://pulsar:6650
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: document-embeddings
          resources:
            limits:
              cpu: '1.0'
              memory: 512M
            requests:
              cpu: '0.5'
              memory: 512M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: document-embeddings
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: document-embeddings
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: document-rag
    name: document-rag
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: document-rag
    template:
      metadata:
        labels:
          app: document-rag
      spec:
        containers:
        - command:
          - document-rag
          - -p
          - pulsar://pulsar:6650
          - --doc-limit
          - '20'
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: document-rag
          resources:
            limits:
              cpu: '0.5'
              memory: 128M
            requests:
              cpu: '0.1'
              memory: 128M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: document-rag
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: document-rag
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: embeddings
    name: embeddings
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: embeddings
    template:
      metadata:
        labels:
          app: embeddings
      spec:
        containers:
        - command:
          - embeddings-fastembed
          - -p
          - pulsar://pulsar:6650
          - --concurrency
          - '1'
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: embeddings
          resources:
            limits:
              cpu: '1.0'
              memory: 400M
            requests:
              cpu: '0.5'
              memory: 400M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: embeddings
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: embeddings
- apiVersion: v1
  data:
    garage.toml: 'metadata_dir = "/var/lib/garage/meta"

      data_dir = "/var/lib/garage/data"


      db_engine = "lmdb"


      replication_factor = 1


      compression_level = 1


      rpc_bind_addr = "[::]:3901"

      rpc_public_addr = "[::]:3901"

      rpc_secret = "bbba746a9e289bad64a9e7a36a4299dac8d6e0b8cc2a6c2937fe756df4492008"


      [s3_api]

      s3_region = "garage"

      api_bind_addr = "[::]:3900"

      root_domain = ".s3.garage.local"


      [s3_web]

      bind_addr = "[::]:3902"

      root_domain = ".web.garage.local"

      index = "index.html"


      [k2v_api]

      api_bind_addr = "[::]:3904"


      [admin]

      api_bind_addr = "[::]:3903"

      admin_token = "batts-rockhearted-unpartially"

      '
  kind: ConfigMap
  metadata:
    name: garage-cfg
    namespace: trustgraph
- apiVersion: v1
  kind: PersistentVolumeClaim
  metadata:
    name: garage-meta
    namespace: trustgraph
  spec:
    accessModes:
    - ReadWriteOnce
    resources:
      requests:
        storage: 2G
    storageClassName: tg
- apiVersion: v1
  kind: PersistentVolumeClaim
  metadata:
    name: garage-data
    namespace: trustgraph
  spec:
    accessModes:
    - ReadWriteOnce
    resources:
      requests:
        storage: 5G
    storageClassName: tg
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: garage
    name: garage
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: garage
    template:
      metadata:
        labels:
          app: garage
      spec:
        containers:
        - command:
          - /garage
          - -c
          - /etc/garage/garage.toml
          - server
          env:
          - name: RUST_LOG
            value: garage=info
          image: docker.io/dxflrs/garage:v2.1.0
          name: garage
          ports:
          - containerPort: 3900
            hostPort: 3900
          - containerPort: 3901
            hostPort: 3901
          - containerPort: 3902
            hostPort: 3902
          - containerPort: 3903
            hostPort: 3903
          - containerPort: 3904
            hostPort: 3904
          resources:
            limits:
              cpu: '1.0'
              memory: 512M
            requests:
              cpu: '0.5'
              memory: 512M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
          volumeMounts:
          - mountPath: /etc/garage/
            name: garage-cfg
          - mountPath: /var/lib/garage/meta
            name: garage-meta
          - mountPath: /var/lib/garage/data
            name: garage-data
        volumes:
        - configMap:
            name: garage-cfg
          name: garage-cfg
        - name: garage-meta
          persistentVolumeClaim:
            claimName: garage-meta
        - name: garage-data
          persistentVolumeClaim:
            claimName: garage-data
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: garage-init
    name: garage-init
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: garage-init
    template:
      metadata:
        labels:
          app: garage-init
      spec:
        containers:
        - command:
          - sh
          - -c
          - "set -e\n\n# Install required tools\necho \"Installing curl, jq and downloading\
            \ garage CLI...\"\napk add --no-cache curl jq\n\n# Download garage binary\
            \ (v2.1.0) for remote management\ncurl -fsSL \"https://garagehq.deuxfleurs.fr/_releases/v2.1.0/x86_64-unknown-linux-musl/garage\"\
            \ \\\n    -o /usr/local/bin/garage\nchmod +x /usr/local/bin/garage\n\n\
            echo \"Waiting for Garage daemon to be ready...\"\nMAX_ATTEMPTS=60\nATTEMPT=0\n\
            # Wait for /health to respond (even 503 is fine - means daemon is up)\n\
            until curl -s http://garage:3903/health >/dev/null 2>&1; do\n    ATTEMPT=$((ATTEMPT+1))\n\
            \    if [ $ATTEMPT -ge $MAX_ATTEMPTS ]; then\n        echo \"ERROR: Garage\
            \ failed to become ready after ${MAX_ATTEMPTS} attempts\"\n        exit\
            \ 1\n    fi\n    echo \"Attempt ${ATTEMPT}/${MAX_ATTEMPTS}: Garage not\
            \ ready, retrying in 2s...\"\n    sleep 2\ndone\necho \"Garage daemon\
            \ is ready.\"\n\n# Get the node ID via v2 Admin API\necho \"Getting Garage\
            \ node ID via Admin API...\"\ncurl -s -H \"Authorization: Bearer ${GARAGE_ADMIN_TOKEN}\"\
            \ \\\n    \"http://garage:3903/v2/GetNodeInfo?node=self\" > /tmp/garage-node-info.json\n\
            \n# Extract node ID from response (the key in success map is the node\
            \ ID)\nNODE_ID=$(jq -r '.success | to_entries[0].value.nodeId' /tmp/garage-node-info.json)\n\
            echo \"Node ID: ${NODE_ID}\"\n\nif [ -z \"$NODE_ID\" ] || [ \"$NODE_ID\"\
            \ = \"null\" ]; then\n    echo \"ERROR: Failed to retrieve node ID\"\n\
            \    exit 1\nfi\n\n# ===== LAYOUT MANAGEMENT VIA REMOTE RPC =====\n# Use\
            \ garage CLI with -h and -s flags to connect remotely\n# -h requires format:\
            \ <node-id>@<host>:<port>\n# -s provides the RPC secret\n\n# Construct\
            \ full RPC identifier\nRPC_HOST=\"${NODE_ID}@garage:3901\"\necho \"RPC\
            \ Host: ${RPC_HOST}\"\n\n# Check current layout to see if node is already\
            \ assigned (idempotent)\necho \"Checking current cluster layout...\"\n\
            LAYOUT_OUTPUT=$(garage -h \"${RPC_HOST}\" -s \"${GARAGE_RPC_SECRET}\"\
            \ layout show 2>&1)\n\n# Check if node already has a role assigned\n#\
            \ Layout output shows abbreviated node ID (first 16 chars)\nNODE_ID_SHORT=\"\
            ${NODE_ID:0:16}\"\nif echo \"$LAYOUT_OUTPUT\" | grep -q \"$NODE_ID_SHORT\"\
            ; then\n    echo \"Node ${NODE_ID_SHORT}... already assigned in layout,\
            \ skipping.\"\nelse\n    echo \"Assigning node to cluster layout...\"\n\
            \    # Assign node to zone dc1 with configured capacity\n    garage -h\
            \ \"${RPC_HOST}\" -s \"${GARAGE_RPC_SECRET}\" \\\n        layout assign\
            \ ${NODE_ID} -z dc1 -c ${GARAGE_DATA_SIZE}\n\n    echo \"Applying layout\
            \ configuration...\"\n    # Get current staged version and apply\n   \
            \ garage -h \"${RPC_HOST}\" -s \"${GARAGE_RPC_SECRET}\" \\\n        layout\
            \ apply --version 1\n\n    echo \"Layout configured successfully.\"\n\
            \    # Wait for layout to stabilize\n    sleep 5\nfi\n\n# ===== KEY MANAGEMENT\
            \ VIA REMOTE RPC =====\n\n# Check if key already exists (idempotent)\n\
            # GARAGE_ACCESS_KEY is already a valid Garage Key ID (GK + 24 hex chars)\n\
            if garage -h \"${RPC_HOST}\" -s \"${GARAGE_RPC_SECRET}\" key info \"${GARAGE_ACCESS_KEY}\"\
            \ >/dev/null 2>&1; then\n    echo \"Access key ${GARAGE_ACCESS_KEY} already\
            \ exists, skipping creation.\"\nelse\n    echo \"Importing S3 access key:\
            \ ${GARAGE_ACCESS_KEY}\"\n\n    # Import key with the provided credentials\
            \ (both already in valid Garage format)\n    # GARAGE_ACCESS_KEY = Key\
            \ ID (GK + 24 hex chars)\n    # GARAGE_SECRET_KEY = Secret (64 hex chars)\n\
            \    garage -h \"${RPC_HOST}\" -s \"${GARAGE_RPC_SECRET}\" \\\n      \
            \  key import \"${GARAGE_ACCESS_KEY}\" \"${GARAGE_SECRET_KEY}\" --yes\n\
            \n    echo \"Access key imported successfully.\"\nfi\n\n# Grant permissions\
            \ to the key\necho \"Granting create-bucket permission to key...\"\ngarage\
            \ -h \"${RPC_HOST}\" -s \"${GARAGE_RPC_SECRET}\" \\\n    key allow --create-bucket\
            \ \"${GARAGE_ACCESS_KEY}\"\n\necho \"\"\necho \"Garage initialization\
            \ complete!\"\necho \"S3 Endpoint: http://garage:3900\"\necho \"Region:\
            \ ${GARAGE_REGION}\"\nexit 0\n"
          env:
          - name: GARAGE_ACCESS_KEY
            value: GK000000000000000000000001
          - name: GARAGE_ADMIN_TOKEN
            value: batts-rockhearted-unpartially
          - name: GARAGE_DATA_SIZE
            value: 5G
          - name: GARAGE_REGION
            value: garage
          - name: GARAGE_RPC_SECRET
            value: bbba746a9e289bad64a9e7a36a4299dac8d6e0b8cc2a6c2937fe756df4492008
          - name: GARAGE_SECRET_KEY
            value: b171f00be9be4c32c734f4c05fe64c527a8ab5eb823b376cfa8c2531f70fc427
          image: docker.io/alpine:3.23.2
          name: garage-init
          resources:
            limits:
              cpu: '0.5'
              memory: 256M
            requests:
              cpu: '0.25'
              memory: 128M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
          volumeMounts:
          - mountPath: /etc/garage/
            name: garage-cfg
        volumes:
        - configMap:
            name: garage-cfg
          name: garage-cfg
- apiVersion: v1
  kind: Service
  metadata:
    name: garage
    namespace: trustgraph
  spec:
    ports:
    - name: s3-api
      port: 3900
      targetPort: 3900
    - name: rpc
      port: 3901
      targetPort: 3901
    - name: web
      port: 3902
      targetPort: 3902
    - name: admin
      port: 3903
      targetPort: 3903
    - name: k2v
      port: 3904
      targetPort: 3904
    selector:
      app: garage
- apiVersion: v1
  kind: PersistentVolumeClaim
  metadata:
    name: grafana-storage
    namespace: trustgraph
  spec:
    accessModes:
    - ReadWriteOnce
    resources:
      requests:
        storage: 20G
    storageClassName: tg
- apiVersion: v1
  data:
    dashboard.yml: "\napiVersion: 1\n\nproviders:\n\n  - name: 'trustgraph.ai'\n \
      \   orgId: 1\n    folder: 'TrustGraph'\n    folderUid: 'b6c5be90-d432-4df8-aeab-737c7b151228'\n\
      \    type: file\n    disableDeletion: false\n    updateIntervalSeconds: 30\n\
      \    allowUiUpdates: true\n    options:\n      path: /var/lib/grafana/dashboards\n\
      \      foldersFromFilesStructure: false\n\n"
  kind: ConfigMap
  metadata:
    name: prov-dash
    namespace: trustgraph
- apiVersion: v1
  data:
    datasource.yml: "apiVersion: 1\n\nprune: true\n\ndatasources:\n  - name: Prometheus\n\
      \    type: prometheus\n    access: proxy\n    orgId: 1\n    # <string> Sets\
      \ a custom UID to reference this\n    # data source in other parts of the configuration.\n\
      \    # If not specified, Grafana generates one.\n    uid: 'f6b18033-5918-4e05-a1ca-4cb30343b129'\n\
      \n    url: http://prometheus:9090\n\n    basicAuth: false\n    withCredentials:\
      \ false\n    isDefault: true\n    editable: true\n\n  - name: Loki\n    type:\
      \ loki\n    access: proxy\n    orgId: 1\n    # <string> Sets a custom UID to\
      \ reference this\n    # data source in other parts of the configuration.\n \
      \   # If not specified, Grafana generates one.\n    uid: 'cf6m73l5rnvuod'\n\n\
      \    url: http://loki:3100\n\n    basicAuth: false\n    withCredentials: false\n\
      \    editable: true\n\n"
  kind: ConfigMap
  metadata:
    name: prov-data
    namespace: trustgraph
- apiVersion: v1
  data:
    log-dashboard.json: "{\n  \"annotations\": {\n    \"list\": [\n      {\n     \
      \   \"builtIn\": 1,\n        \"datasource\": {\n          \"type\": \"grafana\"\
      ,\n          \"uid\": \"-- Grafana --\"\n        },\n        \"enable\": true,\n\
      \        \"hide\": true,\n        \"iconColor\": \"rgba(0, 211, 255, 1)\",\n\
      \        \"name\": \"Annotations & Alerts\",\n        \"type\": \"dashboard\"\
      \n      }\n    ]\n  },\n  \"editable\": true,\n  \"fiscalYearStartMonth\": 0,\n\
      \  \"graphTooltip\": 0,\n  \"id\": 3,\n  \"links\": [],\n  \"panels\": [\n \
      \   {\n      \"datasource\": {\n        \"type\": \"loki\",\n        \"uid\"\
      : \"cf6m73l5rnvuod\"\n      },\n      \"fieldConfig\": {\n        \"defaults\"\
      : {\n          \"color\": {\n            \"mode\": \"palette-classic\"\n   \
      \       },\n          \"custom\": {\n            \"axisBorderShow\": false,\n\
      \            \"axisCenteredZero\": false,\n            \"axisColorMode\": \"\
      text\",\n            \"axisLabel\": \"\",\n            \"axisPlacement\": \"\
      auto\",\n            \"fillOpacity\": 33,\n            \"gradientMode\": \"\
      none\",\n            \"hideFrom\": {\n              \"legend\": false,\n   \
      \           \"tooltip\": false,\n              \"viz\": false\n            },\n\
      \            \"lineWidth\": 1,\n            \"scaleDistribution\": {\n     \
      \         \"type\": \"linear\"\n            },\n            \"thresholdsStyle\"\
      : {\n              \"mode\": \"off\"\n            }\n          },\n        \
      \  \"mappings\": [],\n          \"thresholds\": {\n            \"mode\": \"\
      absolute\",\n            \"steps\": [\n              {\n                \"color\"\
      : \"green\",\n                \"value\": 0\n              },\n             \
      \ {\n                \"color\": \"red\",\n                \"value\": 80\n  \
      \            }\n            ]\n          }\n        },\n        \"overrides\"\
      : []\n      },\n      \"gridPos\": {\n        \"h\": 6,\n        \"w\": 24,\n\
      \        \"x\": 0,\n        \"y\": 0\n      },\n      \"id\": 2,\n      \"options\"\
      : {\n        \"barRadius\": 0,\n        \"barWidth\": 0.97,\n        \"fullHighlight\"\
      : false,\n        \"groupWidth\": 0.7,\n        \"legend\": {\n          \"\
      calcs\": [],\n          \"displayMode\": \"list\",\n          \"placement\"\
      : \"bottom\",\n          \"showLegend\": true\n        },\n        \"orientation\"\
      : \"auto\",\n        \"showValue\": \"never\",\n        \"stacking\": \"normal\"\
      ,\n        \"tooltip\": {\n          \"hideZeros\": false,\n          \"mode\"\
      : \"single\",\n          \"sort\": \"none\"\n        },\n        \"xTickLabelRotation\"\
      : 0,\n        \"xTickLabelSpacing\": 100\n      },\n      \"pluginVersion\"\
      : \"12.1.1\",\n      \"targets\": [\n        {\n          \"datasource\": {\n\
      \            \"type\": \"loki\",\n            \"uid\": \"cf6m73l5rnvuod\"\n\
      \          },\n          \"direction\": \"backward\",\n          \"editorMode\"\
      : \"code\",\n          \"expr\": \"topk(5, sum by (processor) (count_over_time({severity=~\\\
      \"error|critical\\\"} [$__auto])))\",\n          \"queryType\": \"range\",\n\
      \          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Error volume\"\
      ,\n      \"type\": \"barchart\"\n    },\n    {\n      \"datasource\": {\n  \
      \      \"type\": \"loki\",\n        \"uid\": \"cf6m73l5rnvuod\"\n      },\n\
      \      \"fieldConfig\": {\n        \"defaults\": {},\n        \"overrides\"\
      : []\n      },\n      \"gridPos\": {\n        \"h\": 18,\n        \"w\": 24,\n\
      \        \"x\": 0,\n        \"y\": 6\n      },\n      \"id\": 1,\n      \"options\"\
      : {\n        \"dedupStrategy\": \"none\",\n        \"enableInfiniteScrolling\"\
      : false,\n        \"enableLogDetails\": true,\n        \"prettifyLogMessage\"\
      : false,\n        \"showCommonLabels\": false,\n        \"showLabels\": false,\n\
      \        \"showTime\": false,\n        \"sortOrder\": \"Descending\",\n    \
      \    \"wrapLogMessage\": true\n      },\n      \"pluginVersion\": \"12.1.1\"\
      ,\n      \"targets\": [\n        {\n          \"datasource\": {\n          \
      \  \"type\": \"loki\",\n            \"uid\": \"cf6m73l5rnvuod\"\n          },\n\
      \          \"direction\": \"backward\",\n          \"editorMode\": \"builder\"\
      ,\n          \"expr\": \"{severity=~\\\"error|critical\\\"} |= ``\",\n     \
      \     \"queryType\": \"range\",\n          \"refId\": \"A\"\n        }\n   \
      \   ],\n      \"title\": \"Log errors\",\n      \"type\": \"logs\"\n    }\n\
      \  ],\n  \"preload\": false,\n  \"schemaVersion\": 41,\n  \"tags\": [],\n  \"\
      templating\": {\n    \"list\": []\n  },\n  \"time\": {\n    \"from\": \"now-15m\"\
      ,\n    \"to\": \"now\"\n  },\n  \"timepicker\": {},\n  \"timezone\": \"browser\"\
      ,\n  \"title\": \"Logs\",\n  \"uid\": \"4bdce405-0dd3-4a14-9a8f-792152ebebba\"\
      ,\n  \"version\": 13\n}\n"
    overview-dashboard.json: "{\n  \"annotations\": {\n    \"list\": [\n      {\n\
      \        \"builtIn\": 1,\n        \"datasource\": {\n          \"type\": \"\
      grafana\",\n          \"uid\": \"-- Grafana --\"\n        },\n        \"enable\"\
      : true,\n        \"hide\": true,\n        \"iconColor\": \"rgba(0, 211, 255,\
      \ 1)\",\n        \"name\": \"Annotations & Alerts\",\n        \"type\": \"dashboard\"\
      \n      }\n    ]\n  },\n  \"editable\": true,\n  \"fiscalYearStartMonth\": 0,\n\
      \  \"graphTooltip\": 0,\n  \"id\": 3,\n  \"links\": [],\n  \"panels\": [\n \
      \   {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"\
      uid\": \"f6b18033-5918-4e05-a1ca-4cb30343b129\"\n      },\n      \"fieldConfig\"\
      : {\n        \"defaults\": {\n          \"color\": {\n            \"mode\":\
      \ \"palette-classic\"\n          },\n          \"custom\": {\n            \"\
      axisBorderShow\": false,\n            \"axisCenteredZero\": false,\n       \
      \     \"axisColorMode\": \"text\",\n            \"axisLabel\": \"\",\n     \
      \       \"axisPlacement\": \"auto\",\n            \"barAlignment\": 0,\n   \
      \         \"barWidthFactor\": 0.6,\n            \"drawStyle\": \"line\",\n \
      \           \"fillOpacity\": 0,\n            \"gradientMode\": \"none\",\n \
      \           \"hideFrom\": {\n              \"legend\": false,\n            \
      \  \"tooltip\": false,\n              \"viz\": false\n            },\n     \
      \       \"insertNulls\": false,\n            \"lineInterpolation\": \"linear\"\
      ,\n            \"lineWidth\": 1,\n            \"pointSize\": 5,\n          \
      \  \"scaleDistribution\": {\n              \"type\": \"linear\"\n          \
      \  },\n            \"showPoints\": \"auto\",\n            \"showValues\": false,\n\
      \            \"spanNulls\": false,\n            \"stacking\": {\n          \
      \    \"group\": \"A\",\n              \"mode\": \"none\"\n            },\n \
      \           \"thresholdsStyle\": {\n              \"mode\": \"off\"\n      \
      \      }\n          },\n          \"mappings\": [],\n          \"thresholds\"\
      : {\n            \"mode\": \"absolute\",\n            \"steps\": [\n       \
      \       {\n                \"color\": \"green\",\n                \"value\"\
      : 0\n              },\n              {\n                \"color\": \"red\",\n\
      \                \"value\": 80\n              }\n            ]\n          }\n\
      \        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n   \
      \     \"h\": 7,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 0\n \
      \     },\n      \"id\": 17,\n      \"options\": {\n        \"legend\": {\n \
      \         \"calcs\": [],\n          \"displayMode\": \"list\",\n          \"\
      placement\": \"bottom\",\n          \"showLegend\": true\n        },\n     \
      \   \"tooltip\": {\n          \"hideZeros\": false,\n          \"mode\": \"\
      single\",\n          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\"\
      : \"12.3.0\",\n      \"targets\": [\n        {\n          \"editorMode\": \"\
      code\",\n          \"expr\": \"producer_count_total{processor=\\\"chunker\\\"\
      ,name=\\\"output\\\"}\\n- ignoring(instance, job, processor, name, status)\\\
      nprocessing_count_total{processor=\\\"kg-extract-relationships\\\", name=\\\"\
      input\\\"}\",\n          \"legendFormat\": \"__auto\",\n          \"range\"\
      : true,\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"\
      Knowledge extraction backlog\",\n      \"type\": \"timeseries\"\n    },\n  \
      \  {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"\
      uid\": \"f6b18033-5918-4e05-a1ca-4cb30343b129\"\n      },\n      \"fieldConfig\"\
      : {\n        \"defaults\": {\n          \"color\": {\n            \"mode\":\
      \ \"palette-classic\"\n          },\n          \"custom\": {\n            \"\
      axisBorderShow\": false,\n            \"axisCenteredZero\": false,\n       \
      \     \"axisColorMode\": \"text\",\n            \"axisLabel\": \"\",\n     \
      \       \"axisPlacement\": \"auto\",\n            \"barAlignment\": 0,\n   \
      \         \"barWidthFactor\": 0.6,\n            \"drawStyle\": \"line\",\n \
      \           \"fillOpacity\": 0,\n            \"gradientMode\": \"none\",\n \
      \           \"hideFrom\": {\n              \"legend\": false,\n            \
      \  \"tooltip\": false,\n              \"viz\": false\n            },\n     \
      \       \"insertNulls\": false,\n            \"lineInterpolation\": \"linear\"\
      ,\n            \"lineWidth\": 1,\n            \"pointSize\": 5,\n          \
      \  \"scaleDistribution\": {\n              \"type\": \"linear\"\n          \
      \  },\n            \"showPoints\": \"auto\",\n            \"showValues\": false,\n\
      \            \"spanNulls\": false,\n            \"stacking\": {\n          \
      \    \"group\": \"A\",\n              \"mode\": \"none\"\n            },\n \
      \           \"thresholdsStyle\": {\n              \"mode\": \"off\"\n      \
      \      }\n          },\n          \"mappings\": [],\n          \"thresholds\"\
      : {\n            \"mode\": \"absolute\",\n            \"steps\": [\n       \
      \       {\n                \"color\": \"green\",\n                \"value\"\
      : 0\n              },\n              {\n                \"color\": \"red\",\n\
      \                \"value\": 80\n              }\n            ]\n          }\n\
      \        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n   \
      \     \"h\": 7,\n        \"w\": 6,\n        \"x\": 12,\n        \"y\": 0\n \
      \     },\n      \"id\": 19,\n      \"options\": {\n        \"legend\": {\n \
      \         \"calcs\": [],\n          \"displayMode\": \"list\",\n          \"\
      placement\": \"bottom\",\n          \"showLegend\": true\n        },\n     \
      \   \"tooltip\": {\n          \"hideZeros\": false,\n          \"mode\": \"\
      single\",\n          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\"\
      : \"12.3.0\",\n      \"targets\": [\n        {\n          \"editorMode\": \"\
      code\",\n          \"expr\": \"(producer_count_total{processor=\\\"graph-embeddings\\\
      \",name=\\\"output\\\"} - ignoring(instance, job, processor, name, status) processing_count_total{processor=\\\
      \"ge-write\\\",name=\\\"input\\\"} >= 2)\\nor\\n(0 * (producer_count_total{processor=\\\
      \"graph-embeddings\\\",name=\\\"output\\\"} - ignoring(instance, job, processor,\
      \ name, status) processing_count_total{processor=\\\"ge-write\\\",name=\\\"\
      input\\\"}))\",\n          \"legendFormat\": \"__auto\",\n          \"range\"\
      : true,\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"\
      Graph embeddings backlog\",\n      \"type\": \"timeseries\"\n    },\n    {\n\
      \      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\"\
      : \"f6b18033-5918-4e05-a1ca-4cb30343b129\"\n      },\n      \"fieldConfig\"\
      : {\n        \"defaults\": {\n          \"color\": {\n            \"mode\":\
      \ \"palette-classic\"\n          },\n          \"custom\": {\n            \"\
      axisBorderShow\": false,\n            \"axisCenteredZero\": false,\n       \
      \     \"axisColorMode\": \"text\",\n            \"axisLabel\": \"\",\n     \
      \       \"axisPlacement\": \"auto\",\n            \"barAlignment\": 0,\n   \
      \         \"barWidthFactor\": 0.6,\n            \"drawStyle\": \"line\",\n \
      \           \"fillOpacity\": 0,\n            \"gradientMode\": \"none\",\n \
      \           \"hideFrom\": {\n              \"legend\": false,\n            \
      \  \"tooltip\": false,\n              \"viz\": false\n            },\n     \
      \       \"insertNulls\": false,\n            \"lineInterpolation\": \"linear\"\
      ,\n            \"lineWidth\": 1,\n            \"pointSize\": 5,\n          \
      \  \"scaleDistribution\": {\n              \"type\": \"linear\"\n          \
      \  },\n            \"showPoints\": \"auto\",\n            \"showValues\": false,\n\
      \            \"spanNulls\": false,\n            \"stacking\": {\n          \
      \    \"group\": \"A\",\n              \"mode\": \"none\"\n            },\n \
      \           \"thresholdsStyle\": {\n              \"mode\": \"off\"\n      \
      \      }\n          },\n          \"mappings\": [],\n          \"thresholds\"\
      : {\n            \"mode\": \"absolute\",\n            \"steps\": [\n       \
      \       {\n                \"color\": \"green\",\n                \"value\"\
      : 0\n              },\n              {\n                \"color\": \"red\",\n\
      \                \"value\": 80\n              }\n            ]\n          }\n\
      \        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n   \
      \     \"h\": 7,\n        \"w\": 6,\n        \"x\": 18,\n        \"y\": 0\n \
      \     },\n      \"id\": 18,\n      \"options\": {\n        \"legend\": {\n \
      \         \"calcs\": [],\n          \"displayMode\": \"list\",\n          \"\
      placement\": \"bottom\",\n          \"showLegend\": true\n        },\n     \
      \   \"tooltip\": {\n          \"hideZeros\": false,\n          \"mode\": \"\
      single\",\n          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\"\
      : \"12.3.0\",\n      \"targets\": [\n        {\n          \"editorMode\": \"\
      code\",\n          \"expr\": \"(clamp_min(\\n  (\\n    producer_count_total{processor=\\\
      \"kg-extract-definitions\\\",name=\\\"triples\\\"}\\n    + on(flow)\\n    producer_count_total{processor=\\\
      \"kg-extract-relationships\\\",name=\\\"triples\\\"}\\n  )\\n  - on(flow) processing_count_total{processor=\\\
      \"triples-write\\\",name=\\\"input\\\"},\\n  0\\n) >= 2) or (0 * clamp_min(\\\
      n  (\\n    producer_count_total{processor=\\\"kg-extract-definitions\\\",name=\\\
      \"triples\\\"}\\n    + on(flow)\\n    producer_count_total{processor=\\\"kg-extract-relationships\\\
      \",name=\\\"triples\\\"}\\n  )\\n  - on(flow) processing_count_total{processor=\\\
      \"triples-write\\\",name=\\\"input\\\"},\\n  0\\n))\",\n          \"legendFormat\"\
      : \"__auto\",\n          \"range\": true,\n          \"refId\": \"A\"\n    \
      \    }\n      ],\n      \"title\": \"Triples backlog\",\n      \"type\": \"\
      timeseries\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\"\
      ,\n        \"uid\": \"f6b18033-5918-4e05-a1ca-4cb30343b129\"\n      },\n   \
      \   \"fieldConfig\": {\n        \"defaults\": {\n          \"custom\": {\n \
      \           \"hideFrom\": {\n              \"legend\": false,\n            \
      \  \"tooltip\": false,\n              \"viz\": false\n            },\n     \
      \       \"scaleDistribution\": {\n              \"type\": \"linear\"\n     \
      \       }\n          }\n        },\n        \"overrides\": []\n      },\n  \
      \    \"gridPos\": {\n        \"h\": 8,\n        \"w\": 12,\n        \"x\": 0,\n\
      \        \"y\": 7\n      },\n      \"id\": 7,\n      \"options\": {\n      \
      \  \"calculate\": false,\n        \"cellGap\": 1,\n        \"color\": {\n  \
      \        \"exponent\": 0.5,\n          \"fill\": \"dark-orange\",\n        \
      \  \"mode\": \"scheme\",\n          \"reverse\": false,\n          \"scale\"\
      : \"exponential\",\n          \"scheme\": \"Oranges\",\n          \"steps\"\
      : 64\n        },\n        \"exemplars\": {\n          \"color\": \"rgba(255,0,255,0.7)\"\
      \n        },\n        \"filterValues\": {\n          \"le\": 1e-9\n        },\n\
      \        \"legend\": {\n          \"show\": true\n        },\n        \"rowsFrame\"\
      : {\n          \"layout\": \"auto\"\n        },\n        \"tooltip\": {\n  \
      \        \"mode\": \"single\",\n          \"showColorScale\": false,\n     \
      \     \"yHistogram\": false\n        },\n        \"yAxis\": {\n          \"\
      axisPlacement\": \"left\",\n          \"reverse\": false\n        }\n      },\n\
      \      \"pluginVersion\": \"12.3.0\",\n      \"targets\": [\n        {\n   \
      \       \"datasource\": {\n            \"type\": \"prometheus\",\n         \
      \   \"uid\": \"f6b18033-5918-4e05-a1ca-4cb30343b129\"\n          },\n      \
      \    \"disableTextWrap\": false,\n          \"editorMode\": \"builder\",\n \
      \         \"exemplar\": false,\n          \"expr\": \"sum by(le) (rate(text_completion_duration_bucket[$__rate_interval]))\"\
      ,\n          \"format\": \"heatmap\",\n          \"fullMetaSearch\": false,\n\
      \          \"includeNullMetadata\": true,\n          \"instant\": false,\n \
      \         \"legendFormat\": \"99%\",\n          \"range\": true,\n         \
      \ \"refId\": \"A\",\n          \"useBackend\": false\n        }\n      ],\n\
      \      \"title\": \"LLM latency\",\n      \"type\": \"heatmap\"\n    },\n  \
      \  {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"\
      uid\": \"f6b18033-5918-4e05-a1ca-4cb30343b129\"\n      },\n      \"fieldConfig\"\
      : {\n        \"defaults\": {\n          \"custom\": {\n            \"hideFrom\"\
      : {\n              \"legend\": false,\n              \"tooltip\": false,\n \
      \             \"viz\": false\n            },\n            \"scaleDistribution\"\
      : {\n              \"type\": \"linear\"\n            }\n          }\n      \
      \  },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n        \"\
      h\": 8,\n        \"w\": 12,\n        \"x\": 12,\n        \"y\": 7\n      },\n\
      \      \"id\": 2,\n      \"options\": {\n        \"calculate\": false,\n   \
      \     \"cellGap\": 5,\n        \"cellValues\": {\n          \"unit\": \"\"\n\
      \        },\n        \"color\": {\n          \"exponent\": 0.5,\n          \"\
      fill\": \"dark-orange\",\n          \"mode\": \"scheme\",\n          \"reverse\"\
      : false,\n          \"scale\": \"exponential\",\n          \"scheme\": \"Oranges\"\
      ,\n          \"steps\": 64\n        },\n        \"exemplars\": {\n         \
      \ \"color\": \"rgba(255,0,255,0.7)\"\n        },\n        \"filterValues\":\
      \ {\n          \"le\": 1e-9\n        },\n        \"legend\": {\n          \"\
      show\": true\n        },\n        \"rowsFrame\": {\n          \"layout\": \"\
      auto\"\n        },\n        \"tooltip\": {\n          \"mode\": \"single\",\n\
      \          \"showColorScale\": false,\n          \"yHistogram\": false\n   \
      \     },\n        \"yAxis\": {\n          \"axisLabel\": \"processing status\"\
      ,\n          \"axisPlacement\": \"left\",\n          \"reverse\": false\n  \
      \      }\n      },\n      \"pluginVersion\": \"12.3.0\",\n      \"targets\"\
      : [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\"\
      ,\n            \"uid\": \"f6b18033-5918-4e05-a1ca-4cb30343b129\"\n         \
      \ },\n          \"disableTextWrap\": false,\n          \"editorMode\": \"builder\"\
      ,\n          \"exemplar\": false,\n          \"expr\": \"sum by(status) (rate(processing_count_total{status!=\\\
      \"success\\\"}[$__rate_interval]))\",\n          \"format\": \"heatmap\",\n\
      \          \"fullMetaSearch\": false,\n          \"includeNullMetadata\": true,\n\
      \          \"instant\": false,\n          \"interval\": \"\",\n          \"\
      legendFormat\": \"{{status}}\",\n          \"range\": true,\n          \"refId\"\
      : \"A\",\n          \"useBackend\": false\n        }\n      ],\n      \"title\"\
      : \"Error rate\",\n      \"type\": \"heatmap\"\n    },\n    {\n      \"datasource\"\
      : {\n        \"type\": \"prometheus\",\n        \"uid\": \"f6b18033-5918-4e05-a1ca-4cb30343b129\"\
      \n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"\
      color\": {\n            \"mode\": \"palette-classic\"\n          },\n      \
      \    \"custom\": {\n            \"axisBorderShow\": false,\n            \"axisCenteredZero\"\
      : false,\n            \"axisColorMode\": \"text\",\n            \"axisLabel\"\
      : \"\",\n            \"axisPlacement\": \"auto\",\n            \"barAlignment\"\
      : 0,\n            \"barWidthFactor\": 0.6,\n            \"drawStyle\": \"line\"\
      ,\n            \"fillOpacity\": 0,\n            \"gradientMode\": \"none\",\n\
      \            \"hideFrom\": {\n              \"legend\": false,\n           \
      \   \"tooltip\": false,\n              \"viz\": false\n            },\n    \
      \        \"insertNulls\": false,\n            \"lineInterpolation\": \"linear\"\
      ,\n            \"lineWidth\": 1,\n            \"pointSize\": 5,\n          \
      \  \"scaleDistribution\": {\n              \"type\": \"linear\"\n          \
      \  },\n            \"showPoints\": \"auto\",\n            \"showValues\": false,\n\
      \            \"spanNulls\": false,\n            \"stacking\": {\n          \
      \    \"group\": \"A\",\n              \"mode\": \"none\"\n            },\n \
      \           \"thresholdsStyle\": {\n              \"mode\": \"off\"\n      \
      \      }\n          },\n          \"mappings\": [],\n          \"thresholds\"\
      : {\n            \"mode\": \"absolute\",\n            \"steps\": [\n       \
      \       {\n                \"color\": \"green\",\n                \"value\"\
      : 0\n              },\n              {\n                \"color\": \"red\",\n\
      \                \"value\": 80\n              }\n            ]\n          }\n\
      \        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n   \
      \     \"h\": 9,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 15\n\
      \      },\n      \"id\": 1,\n      \"options\": {\n        \"legend\": {\n \
      \         \"calcs\": [],\n          \"displayMode\": \"list\",\n          \"\
      placement\": \"bottom\",\n          \"showLegend\": true\n        },\n     \
      \   \"tooltip\": {\n          \"hideZeros\": false,\n          \"mode\": \"\
      single\",\n          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\"\
      : \"12.3.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n\
      \            \"type\": \"prometheus\",\n            \"uid\": \"f6b18033-5918-4e05-a1ca-4cb30343b129\"\
      \n          },\n          \"disableTextWrap\": false,\n          \"editorMode\"\
      : \"builder\",\n          \"expr\": \"sum by(processor) (rate(request_latency_count{processor!=\\\
      \"config-svc\\\"}[$__rate_interval]))\",\n          \"fullMetaSearch\": false,\n\
      \          \"includeNullMetadata\": true,\n          \"instant\": false,\n \
      \         \"legendFormat\": \"{{job}}\",\n          \"range\": true,\n     \
      \     \"refId\": \"A\",\n          \"useBackend\": false\n        }\n      ],\n\
      \      \"title\": \"Request rate\",\n      \"type\": \"timeseries\"\n    },\n\
      \    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n       \
      \ \"uid\": \"f6b18033-5918-4e05-a1ca-4cb30343b129\"\n      },\n      \"fieldConfig\"\
      : {\n        \"defaults\": {\n          \"color\": {\n            \"mode\":\
      \ \"palette-classic\"\n          },\n          \"custom\": {\n            \"\
      axisBorderShow\": false,\n            \"axisCenteredZero\": false,\n       \
      \     \"axisColorMode\": \"text\",\n            \"axisLabel\": \"\",\n     \
      \       \"axisPlacement\": \"auto\",\n            \"barAlignment\": 0,\n   \
      \         \"barWidthFactor\": 0.6,\n            \"drawStyle\": \"line\",\n \
      \           \"fillOpacity\": 0,\n            \"gradientMode\": \"none\",\n \
      \           \"hideFrom\": {\n              \"legend\": false,\n            \
      \  \"tooltip\": false,\n              \"viz\": false\n            },\n     \
      \       \"insertNulls\": false,\n            \"lineInterpolation\": \"linear\"\
      ,\n            \"lineWidth\": 1,\n            \"pointSize\": 5,\n          \
      \  \"scaleDistribution\": {\n              \"type\": \"linear\"\n          \
      \  },\n            \"showPoints\": \"auto\",\n            \"showValues\": false,\n\
      \            \"spanNulls\": false,\n            \"stacking\": {\n          \
      \    \"group\": \"A\",\n              \"mode\": \"none\"\n            },\n \
      \           \"thresholdsStyle\": {\n              \"mode\": \"off\"\n      \
      \      }\n          },\n          \"mappings\": [],\n          \"thresholds\"\
      : {\n            \"mode\": \"absolute\",\n            \"steps\": [\n       \
      \       {\n                \"color\": \"green\",\n                \"value\"\
      : 0\n              },\n              {\n                \"color\": \"red\",\n\
      \                \"value\": 80\n              }\n            ]\n          }\n\
      \        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n   \
      \     \"h\": 9,\n        \"w\": 12,\n        \"x\": 12,\n        \"y\": 15\n\
      \      },\n      \"id\": 5,\n      \"options\": {\n        \"legend\": {\n \
      \         \"calcs\": [],\n          \"displayMode\": \"list\",\n          \"\
      placement\": \"bottom\",\n          \"showLegend\": true\n        },\n     \
      \   \"tooltip\": {\n          \"hideZeros\": false,\n          \"mode\": \"\
      single\",\n          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\"\
      : \"12.3.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n\
      \            \"type\": \"prometheus\",\n            \"uid\": \"f6b18033-5918-4e05-a1ca-4cb30343b129\"\
      \n          },\n          \"disableTextWrap\": false,\n          \"editorMode\"\
      : \"builder\",\n          \"expr\": \"pulsar_msg_backlog{topic!=\\\"persistent://tg/config/config\\\
      \"}\",\n          \"fullMetaSearch\": false,\n          \"includeNullMetadata\"\
      : true,\n          \"instant\": false,\n          \"legendFormat\": \"{{topic}}\"\
      ,\n          \"range\": true,\n          \"refId\": \"A\",\n          \"useBackend\"\
      : false\n        }\n      ],\n      \"title\": \"Pub/sub backlog\",\n      \"\
      type\": \"timeseries\"\n    },\n    {\n      \"datasource\": {\n        \"type\"\
      : \"prometheus\",\n        \"uid\": \"f6b18033-5918-4e05-a1ca-4cb30343b129\"\
      \n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"\
      color\": {\n            \"fixedColor\": \"semi-dark-green\",\n            \"\
      mode\": \"palette-classic-by-name\"\n          },\n          \"custom\": {\n\
      \            \"axisBorderShow\": false,\n            \"axisCenteredZero\": false,\n\
      \            \"axisColorMode\": \"text\",\n            \"axisLabel\": \"\",\n\
      \            \"axisPlacement\": \"auto\",\n            \"fillOpacity\": 80,\n\
      \            \"gradientMode\": \"none\",\n            \"hideFrom\": {\n    \
      \          \"legend\": false,\n              \"tooltip\": false,\n         \
      \     \"viz\": false\n            },\n            \"lineWidth\": 1,\n      \
      \      \"scaleDistribution\": {\n              \"type\": \"linear\"\n      \
      \      },\n            \"thresholdsStyle\": {\n              \"mode\": \"off\"\
      \n            }\n          },\n          \"mappings\": [],\n          \"thresholds\"\
      : {\n            \"mode\": \"absolute\",\n            \"steps\": [\n       \
      \       {\n                \"color\": \"green\",\n                \"value\"\
      : 0\n              },\n              {\n                \"color\": \"red\",\n\
      \                \"value\": 80\n              }\n            ]\n          }\n\
      \        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n   \
      \     \"h\": 7,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 24\n\
      \      },\n      \"id\": 10,\n      \"options\": {\n        \"barRadius\": 0,\n\
      \        \"barWidth\": 0.97,\n        \"fullHighlight\": false,\n        \"\
      groupWidth\": 0.7,\n        \"legend\": {\n          \"calcs\": [],\n      \
      \    \"displayMode\": \"list\",\n          \"placement\": \"bottom\",\n    \
      \      \"showLegend\": true\n        },\n        \"orientation\": \"auto\",\n\
      \        \"showValue\": \"auto\",\n        \"stacking\": \"none\",\n       \
      \ \"tooltip\": {\n          \"hideZeros\": false,\n          \"mode\": \"single\"\
      ,\n          \"sort\": \"none\"\n        },\n        \"xTickLabelRotation\"\
      : 0,\n        \"xTickLabelSpacing\": 0\n      },\n      \"pluginVersion\": \"\
      12.3.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n  \
      \          \"type\": \"prometheus\",\n            \"uid\": \"f6b18033-5918-4e05-a1ca-4cb30343b129\"\
      \n          },\n          \"disableTextWrap\": false,\n          \"editorMode\"\
      : \"builder\",\n          \"exemplar\": false,\n          \"expr\": \"max by(le)\
      \ (chunk_size_bucket)\",\n          \"format\": \"heatmap\",\n          \"fullMetaSearch\"\
      : false,\n          \"includeNullMetadata\": false,\n          \"instant\":\
      \ true,\n          \"legendFormat\": \"{{le}}\",\n          \"range\": false,\n\
      \          \"refId\": \"A\",\n          \"useBackend\": false\n        }\n \
      \     ],\n      \"title\": \"Chunk size\",\n      \"type\": \"barchart\"\n \
      \   },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n\
      \        \"uid\": \"f6b18033-5918-4e05-a1ca-4cb30343b129\"\n      },\n     \
      \ \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n    \
      \        \"mode\": \"palette-classic\"\n          },\n          \"custom\":\
      \ {\n            \"axisBorderShow\": false,\n            \"axisCenteredZero\"\
      : false,\n            \"axisColorMode\": \"text\",\n            \"axisLabel\"\
      : \"\",\n            \"axisPlacement\": \"auto\",\n            \"barAlignment\"\
      : 0,\n            \"barWidthFactor\": 0.6,\n            \"drawStyle\": \"line\"\
      ,\n            \"fillOpacity\": 0,\n            \"gradientMode\": \"none\",\n\
      \            \"hideFrom\": {\n              \"legend\": false,\n           \
      \   \"tooltip\": false,\n              \"viz\": false\n            },\n    \
      \        \"insertNulls\": false,\n            \"lineInterpolation\": \"linear\"\
      ,\n            \"lineWidth\": 1,\n            \"pointSize\": 5,\n          \
      \  \"scaleDistribution\": {\n              \"type\": \"linear\"\n          \
      \  },\n            \"showPoints\": \"auto\",\n            \"showValues\": false,\n\
      \            \"spanNulls\": false,\n            \"stacking\": {\n          \
      \    \"group\": \"A\",\n              \"mode\": \"none\"\n            },\n \
      \           \"thresholdsStyle\": {\n              \"mode\": \"off\"\n      \
      \      }\n          },\n          \"mappings\": [],\n          \"thresholds\"\
      : {\n            \"mode\": \"absolute\",\n            \"steps\": [\n       \
      \       {\n                \"color\": \"green\",\n                \"value\"\
      : 0\n              },\n              {\n                \"color\": \"red\",\n\
      \                \"value\": 80\n              }\n            ]\n          }\n\
      \        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n   \
      \     \"h\": 7,\n        \"w\": 12,\n        \"x\": 12,\n        \"y\": 24\n\
      \      },\n      \"id\": 11,\n      \"options\": {\n        \"legend\": {\n\
      \          \"calcs\": [],\n          \"displayMode\": \"list\",\n          \"\
      placement\": \"bottom\",\n          \"showLegend\": true\n        },\n     \
      \   \"tooltip\": {\n          \"hideZeros\": false,\n          \"mode\": \"\
      single\",\n          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\"\
      : \"12.3.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n\
      \            \"type\": \"prometheus\",\n            \"uid\": \"f6b18033-5918-4e05-a1ca-4cb30343b129\"\
      \n          },\n          \"disableTextWrap\": false,\n          \"editorMode\"\
      : \"builder\",\n          \"exemplar\": false,\n          \"expr\": \"sum by(job)\
      \ (increase(rate_limit_count_total[$__rate_interval]))\",\n          \"format\"\
      : \"time_series\",\n          \"fullMetaSearch\": false,\n          \"includeNullMetadata\"\
      : true,\n          \"instant\": false,\n          \"legendFormat\": \"{{instance}}\"\
      ,\n          \"range\": true,\n          \"refId\": \"A\",\n          \"useBackend\"\
      : false\n        }\n      ],\n      \"title\": \"Rate limit events\",\n    \
      \  \"type\": \"timeseries\"\n    },\n    {\n      \"datasource\": {\n      \
      \  \"type\": \"prometheus\",\n        \"uid\": \"f6b18033-5918-4e05-a1ca-4cb30343b129\"\
      \n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"\
      color\": {\n            \"fixedColor\": \"light-blue\",\n            \"mode\"\
      : \"palette-classic\"\n          },\n          \"custom\": {\n            \"\
      axisBorderShow\": false,\n            \"axisCenteredZero\": false,\n       \
      \     \"axisColorMode\": \"text\",\n            \"axisLabel\": \"\",\n     \
      \       \"axisPlacement\": \"auto\",\n            \"barAlignment\": 0,\n   \
      \         \"barWidthFactor\": 0.6,\n            \"drawStyle\": \"line\",\n \
      \           \"fillOpacity\": 0,\n            \"gradientMode\": \"none\",\n \
      \           \"hideFrom\": {\n              \"legend\": false,\n            \
      \  \"tooltip\": false,\n              \"viz\": false\n            },\n     \
      \       \"insertNulls\": false,\n            \"lineInterpolation\": \"linear\"\
      ,\n            \"lineWidth\": 1,\n            \"pointSize\": 5,\n          \
      \  \"scaleDistribution\": {\n              \"type\": \"linear\"\n          \
      \  },\n            \"showPoints\": \"auto\",\n            \"showValues\": false,\n\
      \            \"spanNulls\": false,\n            \"stacking\": {\n          \
      \    \"group\": \"A\",\n              \"mode\": \"none\"\n            },\n \
      \           \"thresholdsStyle\": {\n              \"mode\": \"off\"\n      \
      \      }\n          },\n          \"mappings\": [],\n          \"thresholds\"\
      : {\n            \"mode\": \"absolute\",\n            \"steps\": [\n       \
      \       {\n                \"color\": \"green\",\n                \"value\"\
      : 0\n              },\n              {\n                \"color\": \"red\",\n\
      \                \"value\": 80\n              }\n            ]\n          }\n\
      \        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n   \
      \     \"h\": 8,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 31\n\
      \      },\n      \"id\": 12,\n      \"options\": {\n        \"legend\": {\n\
      \          \"calcs\": [],\n          \"displayMode\": \"list\",\n          \"\
      placement\": \"bottom\",\n          \"showLegend\": true\n        },\n     \
      \   \"tooltip\": {\n          \"hideZeros\": false,\n          \"mode\": \"\
      single\",\n          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\"\
      : \"12.3.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n\
      \            \"type\": \"prometheus\",\n            \"uid\": \"f6b18033-5918-4e05-a1ca-4cb30343b129\"\
      \n          },\n          \"disableTextWrap\": false,\n          \"editorMode\"\
      : \"builder\",\n          \"expr\": \"rate(process_cpu_seconds_total[$__rate_interval])\"\
      ,\n          \"fullMetaSearch\": false,\n          \"includeNullMetadata\":\
      \ true,\n          \"instant\": false,\n          \"legendFormat\": \"{{instance}}\"\
      ,\n          \"range\": true,\n          \"refId\": \"A\",\n          \"useBackend\"\
      : false\n        }\n      ],\n      \"title\": \"CPU\",\n      \"type\": \"\
      timeseries\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\"\
      ,\n        \"uid\": \"f6b18033-5918-4e05-a1ca-4cb30343b129\"\n      },\n   \
      \   \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n  \
      \          \"mode\": \"palette-classic\"\n          },\n          \"custom\"\
      : {\n            \"axisBorderShow\": false,\n            \"axisCenteredZero\"\
      : false,\n            \"axisColorMode\": \"text\",\n            \"axisLabel\"\
      : \"GB\",\n            \"axisPlacement\": \"auto\",\n            \"barAlignment\"\
      : 0,\n            \"barWidthFactor\": 0.6,\n            \"drawStyle\": \"line\"\
      ,\n            \"fillOpacity\": 0,\n            \"gradientMode\": \"none\",\n\
      \            \"hideFrom\": {\n              \"legend\": false,\n           \
      \   \"tooltip\": false,\n              \"viz\": false\n            },\n    \
      \        \"insertNulls\": false,\n            \"lineInterpolation\": \"linear\"\
      ,\n            \"lineWidth\": 1,\n            \"pointSize\": 5,\n          \
      \  \"scaleDistribution\": {\n              \"type\": \"linear\"\n          \
      \  },\n            \"showPoints\": \"auto\",\n            \"showValues\": false,\n\
      \            \"spanNulls\": false,\n            \"stacking\": {\n          \
      \    \"group\": \"A\",\n              \"mode\": \"none\"\n            },\n \
      \           \"thresholdsStyle\": {\n              \"mode\": \"off\"\n      \
      \      }\n          },\n          \"mappings\": [],\n          \"thresholds\"\
      : {\n            \"mode\": \"absolute\",\n            \"steps\": [\n       \
      \       {\n                \"color\": \"green\",\n                \"value\"\
      : 0\n              },\n              {\n                \"color\": \"red\",\n\
      \                \"value\": 80\n              }\n            ]\n          }\n\
      \        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n   \
      \     \"h\": 8,\n        \"w\": 12,\n        \"x\": 12,\n        \"y\": 31\n\
      \      },\n      \"id\": 13,\n      \"options\": {\n        \"legend\": {\n\
      \          \"calcs\": [],\n          \"displayMode\": \"list\",\n          \"\
      placement\": \"bottom\",\n          \"showLegend\": true\n        },\n     \
      \   \"tooltip\": {\n          \"hideZeros\": false,\n          \"mode\": \"\
      single\",\n          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\"\
      : \"12.3.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n\
      \            \"type\": \"prometheus\",\n            \"uid\": \"f6b18033-5918-4e05-a1ca-4cb30343b129\"\
      \n          },\n          \"disableTextWrap\": false,\n          \"editorMode\"\
      : \"builder\",\n          \"expr\": \"process_resident_memory_bytes / 1073741824\"\
      ,\n          \"fullMetaSearch\": false,\n          \"includeNullMetadata\":\
      \ true,\n          \"instant\": false,\n          \"legendFormat\": \"{{instance}}\"\
      ,\n          \"range\": true,\n          \"refId\": \"A\",\n          \"useBackend\"\
      : false\n        }\n      ],\n      \"title\": \"Memory\",\n      \"type\":\
      \ \"timeseries\"\n    },\n    {\n      \"datasource\": {\n        \"uid\": \"\
      f6b18033-5918-4e05-a1ca-4cb30343b129\"\n      },\n      \"fieldConfig\": {\n\
      \        \"defaults\": {\n          \"color\": {\n            \"mode\": \"thresholds\"\
      \n          },\n          \"custom\": {\n            \"align\": \"auto\",\n\
      \            \"cellOptions\": {\n              \"type\": \"auto\"\n        \
      \    },\n            \"footer\": {\n              \"reducers\": []\n       \
      \     },\n            \"hideFrom\": {\n              \"viz\": false\n      \
      \      },\n            \"inspect\": false\n          },\n          \"mappings\"\
      : [],\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n  \
      \          \"steps\": [\n              {\n                \"color\": \"green\"\
      ,\n                \"value\": 0\n              },\n              {\n       \
      \         \"color\": \"red\",\n                \"value\": 80\n             \
      \ }\n            ]\n          }\n        },\n        \"overrides\": []\n   \
      \   },\n      \"gridPos\": {\n        \"h\": 7,\n        \"w\": 8,\n       \
      \ \"x\": 0,\n        \"y\": 39\n      },\n      \"id\": 14,\n      \"options\"\
      : {\n        \"cellHeight\": \"sm\",\n        \"showHeader\": true\n      },\n\
      \      \"pluginVersion\": \"12.3.0\",\n      \"targets\": [\n        {\n   \
      \       \"editorMode\": \"code\",\n          \"exemplar\": false,\n        \
      \  \"expr\": \"sum by (model) (tokens_total)\",\n          \"format\": \"table\"\
      ,\n          \"instant\": true,\n          \"legendFormat\": \"__auto\",\n \
      \         \"range\": false,\n          \"refId\": \"A\"\n        }\n      ],\n\
      \      \"title\": \"Models in use\",\n      \"transformations\": [\n       \
      \ {\n          \"id\": \"organize\",\n          \"options\": {\n           \
      \ \"excludeByName\": {\n              \"Time\": true\n            },\n     \
      \       \"includeByName\": {},\n            \"indexByName\": {},\n         \
      \   \"renameByName\": {}\n          }\n        }\n      ],\n      \"type\":\
      \ \"table\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\"\
      ,\n        \"uid\": \"f6b18033-5918-4e05-a1ca-4cb30343b129\"\n      },\n   \
      \   \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n  \
      \          \"mode\": \"palette-classic\"\n          },\n          \"custom\"\
      : {\n            \"axisBorderShow\": false,\n            \"axisCenteredZero\"\
      : false,\n            \"axisColorMode\": \"text\",\n            \"axisLabel\"\
      : \"\",\n            \"axisPlacement\": \"auto\",\n            \"barAlignment\"\
      : 0,\n            \"barWidthFactor\": 0.6,\n            \"drawStyle\": \"line\"\
      ,\n            \"fillOpacity\": 0,\n            \"gradientMode\": \"none\",\n\
      \            \"hideFrom\": {\n              \"legend\": false,\n           \
      \   \"tooltip\": false,\n              \"viz\": false\n            },\n    \
      \        \"insertNulls\": false,\n            \"lineInterpolation\": \"linear\"\
      ,\n            \"lineWidth\": 1,\n            \"pointSize\": 5,\n          \
      \  \"scaleDistribution\": {\n              \"type\": \"linear\"\n          \
      \  },\n            \"showPoints\": \"auto\",\n            \"showValues\": false,\n\
      \            \"spanNulls\": false,\n            \"stacking\": {\n          \
      \    \"group\": \"A\",\n              \"mode\": \"none\"\n            },\n \
      \           \"thresholdsStyle\": {\n              \"mode\": \"off\"\n      \
      \      }\n          },\n          \"mappings\": [],\n          \"thresholds\"\
      : {\n            \"mode\": \"absolute\",\n            \"steps\": [\n       \
      \       {\n                \"color\": \"green\",\n                \"value\"\
      : 0\n              },\n              {\n                \"color\": \"red\",\n\
      \                \"value\": 80\n              }\n            ]\n          }\n\
      \        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n   \
      \     \"h\": 7,\n        \"w\": 8,\n        \"x\": 8,\n        \"y\": 39\n \
      \     },\n      \"id\": 15,\n      \"options\": {\n        \"legend\": {\n \
      \         \"calcs\": [],\n          \"displayMode\": \"list\",\n          \"\
      placement\": \"bottom\",\n          \"showLegend\": true\n        },\n     \
      \   \"tooltip\": {\n          \"hideZeros\": false,\n          \"mode\": \"\
      single\",\n          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\"\
      : \"12.3.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n\
      \            \"type\": \"prometheus\",\n            \"uid\": \"f6b18033-5918-4e05-a1ca-4cb30343b129\"\
      \n          },\n          \"disableTextWrap\": false,\n          \"editorMode\"\
      : \"builder\",\n          \"expr\": \"sum by(model, direction)  (rate(tokens_total[$__rate_interval]))\"\
      ,\n          \"fullMetaSearch\": false,\n          \"includeNullMetadata\":\
      \ true,\n          \"instant\": false,\n          \"legendFormat\": \"{{model}}\
      \ - {{direction}}\",\n          \"range\": true,\n          \"refId\": \"A\"\
      ,\n          \"useBackend\": false\n        }\n      ],\n      \"title\": \"\
      Tokens\",\n      \"type\": \"timeseries\"\n    },\n    {\n      \"datasource\"\
      : {\n        \"type\": \"prometheus\",\n        \"uid\": \"f6b18033-5918-4e05-a1ca-4cb30343b129\"\
      \n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"\
      color\": {\n            \"mode\": \"palette-classic\"\n          },\n      \
      \    \"custom\": {\n            \"axisBorderShow\": false,\n            \"axisCenteredZero\"\
      : false,\n            \"axisColorMode\": \"text\",\n            \"axisLabel\"\
      : \"$\",\n            \"axisPlacement\": \"auto\",\n            \"barAlignment\"\
      : 0,\n            \"barWidthFactor\": 0.6,\n            \"drawStyle\": \"line\"\
      ,\n            \"fillOpacity\": 0,\n            \"gradientMode\": \"none\",\n\
      \            \"hideFrom\": {\n              \"legend\": false,\n           \
      \   \"tooltip\": false,\n              \"viz\": false\n            },\n    \
      \        \"insertNulls\": false,\n            \"lineInterpolation\": \"linear\"\
      ,\n            \"lineWidth\": 1,\n            \"pointSize\": 5,\n          \
      \  \"scaleDistribution\": {\n              \"type\": \"linear\"\n          \
      \  },\n            \"showPoints\": \"auto\",\n            \"showValues\": false,\n\
      \            \"spanNulls\": false,\n            \"stacking\": {\n          \
      \    \"group\": \"A\",\n              \"mode\": \"none\"\n            },\n \
      \           \"thresholdsStyle\": {\n              \"mode\": \"off\"\n      \
      \      }\n          },\n          \"mappings\": [],\n          \"thresholds\"\
      : {\n            \"mode\": \"absolute\",\n            \"steps\": [\n       \
      \       {\n                \"color\": \"green\",\n                \"value\"\
      : 0\n              },\n              {\n                \"color\": \"red\",\n\
      \                \"value\": 80\n              }\n            ]\n          }\n\
      \        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n   \
      \     \"h\": 7,\n        \"w\": 8,\n        \"x\": 16,\n        \"y\": 39\n\
      \      },\n      \"id\": 16,\n      \"options\": {\n        \"legend\": {\n\
      \          \"calcs\": [],\n          \"displayMode\": \"list\",\n          \"\
      placement\": \"bottom\",\n          \"showLegend\": true\n        },\n     \
      \   \"tooltip\": {\n          \"hideZeros\": false,\n          \"mode\": \"\
      single\",\n          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\"\
      : \"12.3.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n\
      \            \"type\": \"prometheus\",\n            \"uid\": \"f6b18033-5918-4e05-a1ca-4cb30343b129\"\
      \n          },\n          \"disableTextWrap\": false,\n          \"editorMode\"\
      : \"builder\",\n          \"expr\": \"sum by(direction, model) (rate(tokens_total[$__rate_interval]))\"\
      ,\n          \"fullMetaSearch\": false,\n          \"includeNullMetadata\":\
      \ true,\n          \"instant\": false,\n          \"legendFormat\": \"{{model}}\
      \ - {{direction}}\",\n          \"range\": true,\n          \"refId\": \"A\"\
      ,\n          \"useBackend\": false\n        }\n      ],\n      \"title\": \"\
      Token cost\",\n      \"type\": \"timeseries\"\n    }\n  ],\n  \"preload\": false,\n\
      \  \"refresh\": \"5s\",\n  \"schemaVersion\": 42,\n  \"tags\": [],\n  \"templating\"\
      : {\n    \"list\": []\n  },\n  \"time\": {\n    \"from\": \"now-1h\",\n    \"\
      to\": \"now\"\n  },\n  \"timepicker\": {},\n  \"timezone\": \"\",\n  \"title\"\
      : \"Overview\",\n  \"uid\": \"b5c8abf8-fe79-496b-b028-10bde917d1f0\",\n  \"\
      version\": 1\n}\n"
  kind: ConfigMap
  metadata:
    name: dashboards
    namespace: trustgraph
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: grafana
    name: grafana
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: grafana
    template:
      metadata:
        labels:
          app: grafana
      spec:
        containers:
        - env:
          - name: GF_ORG_NAME
            value: trustgraph.ai
          image: docker.io/grafana/grafana:12.3.0
          name: grafana
          ports:
          - containerPort: 3000
            hostPort: 3000
          resources:
            limits:
              cpu: '1.0'
              memory: 256M
            requests:
              cpu: '0.5'
              memory: 256M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
          volumeMounts:
          - mountPath: /var/lib/grafana
            name: grafana-storage
          - mountPath: /etc/grafana/provisioning/dashboards/
            name: prov-dash
          - mountPath: /etc/grafana/provisioning/datasources/
            name: prov-data
          - mountPath: /var/lib/grafana/dashboards/
            name: dashboards
        volumes:
        - name: grafana-storage
          persistentVolumeClaim:
            claimName: grafana-storage
        - configMap:
            name: prov-dash
          name: prov-dash
        - configMap:
            name: prov-data
          name: prov-data
        - configMap:
            name: dashboards
          name: dashboards
- apiVersion: v1
  kind: Service
  metadata:
    name: grafana
    namespace: trustgraph
  spec:
    ports:
    - name: http
      port: 3000
      targetPort: 3000
    selector:
      app: grafana
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: graph-embeddings
    name: graph-embeddings
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: graph-embeddings
    template:
      metadata:
        labels:
          app: graph-embeddings
      spec:
        containers:
        - command:
          - graph-embeddings
          - -p
          - pulsar://pulsar:6650
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: graph-embeddings
          resources:
            limits:
              cpu: '1.0'
              memory: 512M
            requests:
              cpu: '0.5'
              memory: 512M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: graph-embeddings
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: graph-embeddings
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: graph-rag
    name: graph-rag
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: graph-rag
    template:
      metadata:
        labels:
          app: graph-rag
      spec:
        containers:
        - command:
          - graph-rag
          - -p
          - pulsar://pulsar:6650
          - --entity-limit
          - '50'
          - --triple-limit
          - '30'
          - --max-subgraph-size
          - '400'
          - --max-path-length
          - '2'
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: graph-rag
          resources:
            limits:
              cpu: '0.5'
              memory: 128M
            requests:
              cpu: '0.1'
              memory: 128M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: graph-rag
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: graph-rag
- apiVersion: v1
  data:
    config.json: '{"collection": {"trustgraph:default": {"collection": "default",
      "description": "Default collection", "name": "Default Collection", "tags": ["default"],
      "user": "default-user"}}, "flow-classes": {"document-rag": {"class": {}, "description":
      "DocumentRAG only", "flow": {"chunker:{id}": {"chunk-overlap": "{chunk-overlap}",
      "chunk-size": "{chunk-size}", "input": "persistent://tg/flow/text-document-load:{id}",
      "output": "persistent://tg/flow/chunk-load:{id}"}, "de-query:{id}": {"request":
      "non-persistent://tg/request/document-embeddings:{id}", "response": "non-persistent://tg/response/document-embeddings:{id}"},
      "de-write:{id}": {"input": "persistent://tg/flow/document-embeddings-store:{id}"},
      "document-embeddings:{id}": {"embeddings-request": "non-persistent://tg/request/embeddings:{id}",
      "embeddings-response": "non-persistent://tg/response/embeddings:{id}", "input":
      "persistent://tg/flow/chunk-load:{id}", "output": "persistent://tg/flow/document-embeddings-store:{id}"},
      "document-rag:{id}": {"document-embeddings-request": "non-persistent://tg/request/document-embeddings:{id}",
      "document-embeddings-response": "non-persistent://tg/response/document-embeddings:{id}",
      "embeddings-request": "non-persistent://tg/request/embeddings:{id}", "embeddings-response":
      "non-persistent://tg/response/embeddings:{id}", "prompt-request": "non-persistent://tg/request/prompt-rag:{id}",
      "prompt-response": "non-persistent://tg/response/prompt-rag:{id}", "request":
      "non-persistent://tg/request/document-rag:{id}", "response": "non-persistent://tg/response/document-rag:{id}"},
      "embeddings:{id}": {"model": "{embeddings-model}", "request": "non-persistent://tg/request/embeddings:{id}",
      "response": "non-persistent://tg/response/embeddings:{id}"}, "mcp-tool:{id}":
      {"request": "non-persistent://tg/request/mcp-tool:{id}", "response": "non-persistent://tg/response/mcp-tool:{id}",
      "text-completion-request": "non-persistent://tg/request/text-completion:{id}",
      "text-completion-response": "non-persistent://tg/response/text-completion:{id}"},
      "metering-rag:{id}": {"input": "non-persistent://tg/response/text-completion-rag:{id}"},
      "metering:{id}": {"input": "non-persistent://tg/response/text-completion:{id}"},
      "pdf-decoder:{id}": {"input": "persistent://tg/flow/document-load:{id}", "output":
      "persistent://tg/flow/text-document-load:{id}"}, "prompt-rag:{id}": {"request":
      "non-persistent://tg/request/prompt-rag:{id}", "response": "non-persistent://tg/response/prompt-rag:{id}",
      "text-completion-request": "non-persistent://tg/request/text-completion-rag:{id}",
      "text-completion-response": "non-persistent://tg/response/text-completion-rag:{id}"},
      "prompt:{id}": {"request": "non-persistent://tg/request/prompt:{id}", "response":
      "non-persistent://tg/response/prompt:{id}", "text-completion-request": "non-persistent://tg/request/text-completion:{id}",
      "text-completion-response": "non-persistent://tg/response/text-completion:{id}"},
      "text-completion-rag:{id}": {"model": "{llm-rag-model}", "request": "non-persistent://tg/request/text-completion-rag:{id}",
      "response": "non-persistent://tg/response/text-completion-rag:{id}"}, "text-completion:{id}":
      {"model": "{llm-model}", "request": "non-persistent://tg/request/text-completion:{id}",
      "response": "non-persistent://tg/response/text-completion:{id}"}}, "interfaces":
      {"document-embeddings": {"request": "non-persistent://tg/request/document-embeddings:{id}",
      "response": "non-persistent://tg/response/document-embeddings:{id}"}, "document-embeddings-store":
      "persistent://tg/flow/document-embeddings-store:{id}", "document-load": "persistent://tg/flow/document-load:{id}",
      "document-rag": {"request": "non-persistent://tg/request/document-rag:{id}",
      "response": "non-persistent://tg/response/document-rag:{id}"}, "embeddings":
      {"request": "non-persistent://tg/request/embeddings:{id}", "response": "non-persistent://tg/response/embeddings:{id}"},
      "mcp-tool": {"request": "non-persistent://tg/request/mcp-tool:{id}", "response":
      "non-persistent://tg/response/mcp-tool:{id}"}, "prompt": {"request": "non-persistent://tg/request/prompt:{id}",
      "response": "non-persistent://tg/response/prompt:{id}"}, "text-completion":
      {"request": "non-persistent://tg/request/text-completion:{id}", "response":
      "non-persistent://tg/response/text-completion:{id}"}, "text-load": "persistent://tg/flow/text-document-load:{id}"},
      "parameters": {"chunk-overlap": {"advanced": true, "description": "Chunk overlap",
      "order": 7, "type": "chunk-overlap"}, "chunk-size": {"advanced": true, "description":
      "Chunk size", "order": 6, "type": "chunk-size"}, "embeddings-model": {"advanced":
      true, "description": "Embeddings model", "order": 5, "type": "embeddings-model"},
      "llm-model": {"advanced": false, "description": "LLM model", "order": 1, "type":
      "llm-model"}, "llm-rag-model": {"advanced": true, "controlled-by": "llm-model",
      "description": "LLM model for RAG", "order": 2, "type": "llm-model"}, "llm-rag-temperature":
      {"advanced": true, "description": "LLM temperature for RAG", "order": 4, "type":
      "llm-temperature"}, "llm-temperature": {"advanced": true, "description": "LLM
      temperature", "order": 3, "type": "llm-temperature"}}, "tags": ["document-rag"]},
      "document-rag+graph-rag": {"class": {}, "description": "Supports GraphRAG and
      document RAG, no core creation", "flow": {"agent-manager:{id}": {"graph-rag-request":
      "non-persistent://tg/request/graph-rag:{id}", "graph-rag-response": "non-persistent://tg/response/graph-rag:{id}",
      "mcp-tool-request": "non-persistent://tg/request/mcp-tool:{id}", "mcp-tool-response":
      "non-persistent://tg/response/mcp-tool:{id}", "next": "non-persistent://tg/request/agent:{id}",
      "prompt-request": "non-persistent://tg/request/prompt:{id}", "prompt-response":
      "non-persistent://tg/response/prompt:{id}", "request": "non-persistent://tg/request/agent:{id}",
      "response": "non-persistent://tg/response/agent:{id}", "structured-query-request":
      "non-persistent://tg/request/structured-query:{id}", "structured-query-response":
      "non-persistent://tg/response/structured-query:{id}", "text-completion-request":
      "non-persistent://tg/request/text-completion:{id}", "text-completion-response":
      "non-persistent://tg/response/text-completion:{id}"}, "chunker:{id}": {"chunk-overlap":
      "{chunk-overlap}", "chunk-size": "{chunk-size}", "input": "persistent://tg/flow/text-document-load:{id}",
      "output": "persistent://tg/flow/chunk-load:{id}"}, "de-query:{id}": {"request":
      "non-persistent://tg/request/document-embeddings:{id}", "response": "non-persistent://tg/response/document-embeddings:{id}"},
      "de-write:{id}": {"input": "persistent://tg/flow/document-embeddings-store:{id}"},
      "document-embeddings:{id}": {"embeddings-request": "non-persistent://tg/request/embeddings:{id}",
      "embeddings-response": "non-persistent://tg/response/embeddings:{id}", "input":
      "persistent://tg/flow/chunk-load:{id}", "output": "persistent://tg/flow/document-embeddings-store:{id}"},
      "document-rag:{id}": {"document-embeddings-request": "non-persistent://tg/request/document-embeddings:{id}",
      "document-embeddings-response": "non-persistent://tg/response/document-embeddings:{id}",
      "embeddings-request": "non-persistent://tg/request/embeddings:{id}", "embeddings-response":
      "non-persistent://tg/response/embeddings:{id}", "prompt-request": "non-persistent://tg/request/prompt-rag:{id}",
      "prompt-response": "non-persistent://tg/response/prompt-rag:{id}", "request":
      "non-persistent://tg/request/document-rag:{id}", "response": "non-persistent://tg/response/document-rag:{id}"},
      "embeddings:{id}": {"model": "{embeddings-model}", "request": "non-persistent://tg/request/embeddings:{id}",
      "response": "non-persistent://tg/response/embeddings:{id}"}, "ge-query:{id}":
      {"request": "non-persistent://tg/request/graph-embeddings:{id}", "response":
      "non-persistent://tg/response/graph-embeddings:{id}"}, "ge-write:{id}": {"input":
      "persistent://tg/flow/graph-embeddings-store:{id}"}, "graph-embeddings:{id}":
      {"embeddings-request": "non-persistent://tg/request/embeddings:{id}", "embeddings-response":
      "non-persistent://tg/response/embeddings:{id}", "input": "persistent://tg/flow/entity-contexts-load:{id}",
      "output": "persistent://tg/flow/graph-embeddings-store:{id}"}, "graph-rag:{id}":
      {"embeddings-request": "non-persistent://tg/request/embeddings:{id}", "embeddings-response":
      "non-persistent://tg/response/embeddings:{id}", "graph-embeddings-request":
      "non-persistent://tg/request/graph-embeddings:{id}", "graph-embeddings-response":
      "non-persistent://tg/response/graph-embeddings:{id}", "prompt-request": "non-persistent://tg/request/prompt-rag:{id}",
      "prompt-response": "non-persistent://tg/response/prompt-rag:{id}", "request":
      "non-persistent://tg/request/graph-rag:{id}", "response": "non-persistent://tg/response/graph-rag:{id}",
      "triples-request": "non-persistent://tg/request/triples:{id}", "triples-response":
      "non-persistent://tg/response/triples:{id}"}, "kg-extract-definitions:{id}":
      {"entity-contexts": "persistent://tg/flow/entity-contexts-load:{id}", "input":
      "persistent://tg/flow/chunk-load:{id}", "prompt-request": "non-persistent://tg/request/prompt:{id}",
      "prompt-response": "non-persistent://tg/response/prompt:{id}", "triples": "persistent://tg/flow/triples-store:{id}"},
      "kg-extract-relationships:{id}": {"input": "persistent://tg/flow/chunk-load:{id}",
      "prompt-request": "non-persistent://tg/request/prompt:{id}", "prompt-response":
      "non-persistent://tg/response/prompt:{id}", "triples": "persistent://tg/flow/triples-store:{id}"},
      "mcp-tool:{id}": {"request": "non-persistent://tg/request/mcp-tool:{id}", "response":
      "non-persistent://tg/response/mcp-tool:{id}", "text-completion-request": "non-persistent://tg/request/text-completion:{id}",
      "text-completion-response": "non-persistent://tg/response/text-completion:{id}"},
      "metering-rag:{id}": {"input": "non-persistent://tg/response/text-completion-rag:{id}"},
      "metering:{id}": {"input": "non-persistent://tg/response/text-completion:{id}"},
      "pdf-decoder:{id}": {"input": "persistent://tg/flow/document-load:{id}", "output":
      "persistent://tg/flow/text-document-load:{id}"}, "prompt-rag:{id}": {"request":
      "non-persistent://tg/request/prompt-rag:{id}", "response": "non-persistent://tg/response/prompt-rag:{id}",
      "text-completion-request": "non-persistent://tg/request/text-completion-rag:{id}",
      "text-completion-response": "non-persistent://tg/response/text-completion-rag:{id}"},
      "prompt:{id}": {"request": "non-persistent://tg/request/prompt:{id}", "response":
      "non-persistent://tg/response/prompt:{id}", "text-completion-request": "non-persistent://tg/request/text-completion:{id}",
      "text-completion-response": "non-persistent://tg/response/text-completion:{id}"},
      "text-completion-rag:{id}": {"model": "{llm-rag-model}", "request": "non-persistent://tg/request/text-completion-rag:{id}",
      "response": "non-persistent://tg/response/text-completion-rag:{id}"}, "text-completion:{id}":
      {"model": "{llm-model}", "request": "non-persistent://tg/request/text-completion:{id}",
      "response": "non-persistent://tg/response/text-completion:{id}"}, "triples-query:{id}":
      {"request": "non-persistent://tg/request/triples:{id}", "response": "non-persistent://tg/response/triples:{id}"},
      "triples-write:{id}": {"input": "persistent://tg/flow/triples-store:{id}"}},
      "interfaces": {"agent": {"request": "non-persistent://tg/request/agent:{id}",
      "response": "non-persistent://tg/response/agent:{id}"}, "document-embeddings":
      {"request": "non-persistent://tg/request/document-embeddings:{id}", "response":
      "non-persistent://tg/response/document-embeddings:{id}"}, "document-embeddings-store":
      "persistent://tg/flow/document-embeddings-store:{id}", "document-load": "persistent://tg/flow/document-load:{id}",
      "document-rag": {"request": "non-persistent://tg/request/document-rag:{id}",
      "response": "non-persistent://tg/response/document-rag:{id}"}, "embeddings":
      {"request": "non-persistent://tg/request/embeddings:{id}", "response": "non-persistent://tg/response/embeddings:{id}"},
      "entity-contexts-load": "persistent://tg/flow/entity-contexts-load:{id}", "graph-embeddings":
      {"request": "non-persistent://tg/request/graph-embeddings:{id}", "response":
      "non-persistent://tg/response/graph-embeddings:{id}"}, "graph-embeddings-store":
      "persistent://tg/flow/graph-embeddings-store:{id}", "graph-rag": {"request":
      "non-persistent://tg/request/graph-rag:{id}", "response": "non-persistent://tg/response/graph-rag:{id}"},
      "mcp-tool": {"request": "non-persistent://tg/request/mcp-tool:{id}", "response":
      "non-persistent://tg/response/mcp-tool:{id}"}, "prompt": {"request": "non-persistent://tg/request/prompt:{id}",
      "response": "non-persistent://tg/response/prompt:{id}"}, "text-completion":
      {"request": "non-persistent://tg/request/text-completion:{id}", "response":
      "non-persistent://tg/response/text-completion:{id}"}, "text-load": "persistent://tg/flow/text-document-load:{id}",
      "triples": {"request": "non-persistent://tg/request/triples:{id}", "response":
      "non-persistent://tg/response/triples:{id}"}, "triples-store": "persistent://tg/flow/triples-store:{id}"},
      "parameters": {"chunk-overlap": {"advanced": true, "description": "Chunk overlap",
      "order": 7, "type": "chunk-overlap"}, "chunk-size": {"advanced": true, "description":
      "Chunk size", "order": 6, "type": "chunk-size"}, "embeddings-model": {"advanced":
      true, "description": "Embeddings model", "order": 5, "type": "embeddings-model"},
      "llm-model": {"advanced": false, "description": "LLM model", "order": 1, "type":
      "llm-model"}, "llm-rag-model": {"advanced": true, "controlled-by": "llm-model",
      "description": "LLM model for RAG", "order": 2, "type": "llm-model"}, "llm-rag-temperature":
      {"advanced": true, "description": "LLM temperature for RAG", "order": 4, "type":
      "llm-temperature"}, "llm-temperature": {"advanced": true, "description": "LLM
      temperature", "order": 3, "type": "llm-temperature"}}, "tags": ["document-rag",
      "graph-rag", "knowledge-extraction"]}, "document-rag+graph-rag+kgcore": {"class":
      {}, "description": "GraphRAG + DocumentRAG + knowledge core creation", "flow":
      {"agent-manager:{id}": {"graph-rag-request": "non-persistent://tg/request/graph-rag:{id}",
      "graph-rag-response": "non-persistent://tg/response/graph-rag:{id}", "mcp-tool-request":
      "non-persistent://tg/request/mcp-tool:{id}", "mcp-tool-response": "non-persistent://tg/response/mcp-tool:{id}",
      "next": "non-persistent://tg/request/agent:{id}", "prompt-request": "non-persistent://tg/request/prompt:{id}",
      "prompt-response": "non-persistent://tg/response/prompt:{id}", "request": "non-persistent://tg/request/agent:{id}",
      "response": "non-persistent://tg/response/agent:{id}", "structured-query-request":
      "non-persistent://tg/request/structured-query:{id}", "structured-query-response":
      "non-persistent://tg/response/structured-query:{id}", "text-completion-request":
      "non-persistent://tg/request/text-completion:{id}", "text-completion-response":
      "non-persistent://tg/response/text-completion:{id}"}, "chunker:{id}": {"chunk-overlap":
      "{chunk-overlap}", "chunk-size": "{chunk-size}", "input": "persistent://tg/flow/text-document-load:{id}",
      "output": "persistent://tg/flow/chunk-load:{id}"}, "de-query:{id}": {"request":
      "non-persistent://tg/request/document-embeddings:{id}", "response": "non-persistent://tg/response/document-embeddings:{id}"},
      "de-write:{id}": {"input": "persistent://tg/flow/document-embeddings-store:{id}"},
      "document-embeddings:{id}": {"embeddings-request": "non-persistent://tg/request/embeddings:{id}",
      "embeddings-response": "non-persistent://tg/response/embeddings:{id}", "input":
      "persistent://tg/flow/chunk-load:{id}", "output": "persistent://tg/flow/document-embeddings-store:{id}"},
      "document-rag:{id}": {"document-embeddings-request": "non-persistent://tg/request/document-embeddings:{id}",
      "document-embeddings-response": "non-persistent://tg/response/document-embeddings:{id}",
      "embeddings-request": "non-persistent://tg/request/embeddings:{id}", "embeddings-response":
      "non-persistent://tg/response/embeddings:{id}", "prompt-request": "non-persistent://tg/request/prompt-rag:{id}",
      "prompt-response": "non-persistent://tg/response/prompt-rag:{id}", "request":
      "non-persistent://tg/request/document-rag:{id}", "response": "non-persistent://tg/response/document-rag:{id}"},
      "embeddings:{id}": {"model": "{embeddings-model}", "request": "non-persistent://tg/request/embeddings:{id}",
      "response": "non-persistent://tg/response/embeddings:{id}"}, "ge-query:{id}":
      {"request": "non-persistent://tg/request/graph-embeddings:{id}", "response":
      "non-persistent://tg/response/graph-embeddings:{id}"}, "ge-write:{id}": {"input":
      "persistent://tg/flow/graph-embeddings-store:{id}"}, "graph-embeddings:{id}":
      {"embeddings-request": "non-persistent://tg/request/embeddings:{id}", "embeddings-response":
      "non-persistent://tg/response/embeddings:{id}", "input": "persistent://tg/flow/entity-contexts-load:{id}",
      "output": "persistent://tg/flow/graph-embeddings-store:{id}"}, "graph-rag:{id}":
      {"embeddings-request": "non-persistent://tg/request/embeddings:{id}", "embeddings-response":
      "non-persistent://tg/response/embeddings:{id}", "graph-embeddings-request":
      "non-persistent://tg/request/graph-embeddings:{id}", "graph-embeddings-response":
      "non-persistent://tg/response/graph-embeddings:{id}", "prompt-request": "non-persistent://tg/request/prompt-rag:{id}",
      "prompt-response": "non-persistent://tg/response/prompt-rag:{id}", "request":
      "non-persistent://tg/request/graph-rag:{id}", "response": "non-persistent://tg/response/graph-rag:{id}",
      "triples-request": "non-persistent://tg/request/triples:{id}", "triples-response":
      "non-persistent://tg/response/triples:{id}"}, "kg-extract-definitions:{id}":
      {"entity-contexts": "persistent://tg/flow/entity-contexts-load:{id}", "input":
      "persistent://tg/flow/chunk-load:{id}", "prompt-request": "non-persistent://tg/request/prompt:{id}",
      "prompt-response": "non-persistent://tg/response/prompt:{id}", "triples": "persistent://tg/flow/triples-store:{id}"},
      "kg-extract-relationships:{id}": {"input": "persistent://tg/flow/chunk-load:{id}",
      "prompt-request": "non-persistent://tg/request/prompt:{id}", "prompt-response":
      "non-persistent://tg/response/prompt:{id}", "triples": "persistent://tg/flow/triples-store:{id}"},
      "kg-store:{id}": {"graph-embeddings-input": "persistent://tg/flow/graph-embeddings-store:{id}",
      "triples-input": "persistent://tg/flow/triples-store:{id}"}, "mcp-tool:{id}":
      {"request": "non-persistent://tg/request/mcp-tool:{id}", "response": "non-persistent://tg/response/mcp-tool:{id}",
      "text-completion-request": "non-persistent://tg/request/text-completion:{id}",
      "text-completion-response": "non-persistent://tg/response/text-completion:{id}"},
      "metering-rag:{id}": {"input": "non-persistent://tg/response/text-completion-rag:{id}"},
      "metering:{id}": {"input": "non-persistent://tg/response/text-completion:{id}"},
      "pdf-decoder:{id}": {"input": "persistent://tg/flow/document-load:{id}", "output":
      "persistent://tg/flow/text-document-load:{id}"}, "prompt-rag:{id}": {"request":
      "non-persistent://tg/request/prompt-rag:{id}", "response": "non-persistent://tg/response/prompt-rag:{id}",
      "text-completion-request": "non-persistent://tg/request/text-completion-rag:{id}",
      "text-completion-response": "non-persistent://tg/response/text-completion-rag:{id}"},
      "prompt:{id}": {"request": "non-persistent://tg/request/prompt:{id}", "response":
      "non-persistent://tg/response/prompt:{id}", "text-completion-request": "non-persistent://tg/request/text-completion:{id}",
      "text-completion-response": "non-persistent://tg/response/text-completion:{id}"},
      "text-completion-rag:{id}": {"model": "{llm-rag-model}", "request": "non-persistent://tg/request/text-completion-rag:{id}",
      "response": "non-persistent://tg/response/text-completion-rag:{id}"}, "text-completion:{id}":
      {"model": "{llm-model}", "request": "non-persistent://tg/request/text-completion:{id}",
      "response": "non-persistent://tg/response/text-completion:{id}"}, "triples-query:{id}":
      {"request": "non-persistent://tg/request/triples:{id}", "response": "non-persistent://tg/response/triples:{id}"},
      "triples-write:{id}": {"input": "persistent://tg/flow/triples-store:{id}"}},
      "interfaces": {"agent": {"request": "non-persistent://tg/request/agent:{id}",
      "response": "non-persistent://tg/response/agent:{id}"}, "document-embeddings":
      {"request": "non-persistent://tg/request/document-embeddings:{id}", "response":
      "non-persistent://tg/response/document-embeddings:{id}"}, "document-embeddings-store":
      "persistent://tg/flow/document-embeddings-store:{id}", "document-load": "persistent://tg/flow/document-load:{id}",
      "document-rag": {"request": "non-persistent://tg/request/document-rag:{id}",
      "response": "non-persistent://tg/response/document-rag:{id}"}, "embeddings":
      {"request": "non-persistent://tg/request/embeddings:{id}", "response": "non-persistent://tg/response/embeddings:{id}"},
      "entity-contexts-load": "persistent://tg/flow/entity-contexts-load:{id}", "graph-embeddings":
      {"request": "non-persistent://tg/request/graph-embeddings:{id}", "response":
      "non-persistent://tg/response/graph-embeddings:{id}"}, "graph-embeddings-store":
      "persistent://tg/flow/graph-embeddings-store:{id}", "graph-rag": {"request":
      "non-persistent://tg/request/graph-rag:{id}", "response": "non-persistent://tg/response/graph-rag:{id}"},
      "mcp-tool": {"request": "non-persistent://tg/request/mcp-tool:{id}", "response":
      "non-persistent://tg/response/mcp-tool:{id}"}, "prompt": {"request": "non-persistent://tg/request/prompt:{id}",
      "response": "non-persistent://tg/response/prompt:{id}"}, "text-completion":
      {"request": "non-persistent://tg/request/text-completion:{id}", "response":
      "non-persistent://tg/response/text-completion:{id}"}, "text-load": "persistent://tg/flow/text-document-load:{id}",
      "triples": {"request": "non-persistent://tg/request/triples:{id}", "response":
      "non-persistent://tg/response/triples:{id}"}, "triples-store": "persistent://tg/flow/triples-store:{id}"},
      "parameters": {"chunk-overlap": {"advanced": true, "description": "Chunk overlap",
      "order": 7, "type": "chunk-overlap"}, "chunk-size": {"advanced": true, "description":
      "Chunk size", "order": 6, "type": "chunk-size"}, "embeddings-model": {"advanced":
      true, "description": "Embeddings model", "order": 5, "type": "embeddings-model"},
      "llm-model": {"advanced": false, "description": "LLM model", "order": 1, "type":
      "llm-model"}, "llm-rag-model": {"advanced": true, "controlled-by": "llm-model",
      "description": "LLM model for RAG", "order": 2, "type": "llm-model"}, "llm-rag-temperature":
      {"advanced": true, "description": "LLM temperature for RAG", "order": 4, "type":
      "llm-temperature"}, "llm-temperature": {"advanced": true, "description": "LLM
      temperature", "order": 3, "type": "llm-temperature"}}, "tags": ["document-rag",
      "graph-rag", "knowledge-extraction"]}, "everything": {"class": {}, "description":
      "GraphRAG, DocumentRAG, structured data + knowledge cores", "flow": {"agent-manager:{id}":
      {"graph-rag-request": "non-persistent://tg/request/graph-rag:{id}", "graph-rag-response":
      "non-persistent://tg/response/graph-rag:{id}", "mcp-tool-request": "non-persistent://tg/request/mcp-tool:{id}",
      "mcp-tool-response": "non-persistent://tg/response/mcp-tool:{id}", "next": "non-persistent://tg/request/agent:{id}",
      "prompt-request": "non-persistent://tg/request/prompt:{id}", "prompt-response":
      "non-persistent://tg/response/prompt:{id}", "request": "non-persistent://tg/request/agent:{id}",
      "response": "non-persistent://tg/response/agent:{id}", "structured-query-request":
      "non-persistent://tg/request/structured-query:{id}", "structured-query-response":
      "non-persistent://tg/response/structured-query:{id}", "text-completion-request":
      "non-persistent://tg/request/text-completion:{id}", "text-completion-response":
      "non-persistent://tg/response/text-completion:{id}"}, "chunker:{id}": {"chunk-overlap":
      "{chunk-overlap}", "chunk-size": "{chunk-size}", "input": "persistent://tg/flow/text-document-load:{id}",
      "output": "persistent://tg/flow/chunk-load:{id}"}, "de-query:{id}": {"request":
      "non-persistent://tg/request/document-embeddings:{id}", "response": "non-persistent://tg/response/document-embeddings:{id}"},
      "de-write:{id}": {"input": "persistent://tg/flow/document-embeddings-store:{id}"},
      "document-embeddings:{id}": {"embeddings-request": "non-persistent://tg/request/embeddings:{id}",
      "embeddings-response": "non-persistent://tg/response/embeddings:{id}", "input":
      "persistent://tg/flow/chunk-load:{id}", "output": "persistent://tg/flow/document-embeddings-store:{id}"},
      "document-rag:{id}": {"document-embeddings-request": "non-persistent://tg/request/document-embeddings:{id}",
      "document-embeddings-response": "non-persistent://tg/response/document-embeddings:{id}",
      "embeddings-request": "non-persistent://tg/request/embeddings:{id}", "embeddings-response":
      "non-persistent://tg/response/embeddings:{id}", "prompt-request": "non-persistent://tg/request/prompt-rag:{id}",
      "prompt-response": "non-persistent://tg/response/prompt-rag:{id}", "request":
      "non-persistent://tg/request/document-rag:{id}", "response": "non-persistent://tg/response/document-rag:{id}"},
      "embeddings:{id}": {"model": "{embeddings-model}", "request": "non-persistent://tg/request/embeddings:{id}",
      "response": "non-persistent://tg/response/embeddings:{id}"}, "ge-query:{id}":
      {"request": "non-persistent://tg/request/graph-embeddings:{id}", "response":
      "non-persistent://tg/response/graph-embeddings:{id}"}, "ge-write:{id}": {"input":
      "persistent://tg/flow/graph-embeddings-store:{id}"}, "graph-embeddings:{id}":
      {"embeddings-request": "non-persistent://tg/request/embeddings:{id}", "embeddings-response":
      "non-persistent://tg/response/embeddings:{id}", "input": "persistent://tg/flow/entity-contexts-load:{id}",
      "output": "persistent://tg/flow/graph-embeddings-store:{id}"}, "graph-rag:{id}":
      {"embeddings-request": "non-persistent://tg/request/embeddings:{id}", "embeddings-response":
      "non-persistent://tg/response/embeddings:{id}", "graph-embeddings-request":
      "non-persistent://tg/request/graph-embeddings:{id}", "graph-embeddings-response":
      "non-persistent://tg/response/graph-embeddings:{id}", "prompt-request": "non-persistent://tg/request/prompt-rag:{id}",
      "prompt-response": "non-persistent://tg/response/prompt-rag:{id}", "request":
      "non-persistent://tg/request/graph-rag:{id}", "response": "non-persistent://tg/response/graph-rag:{id}",
      "triples-request": "non-persistent://tg/request/triples:{id}", "triples-response":
      "non-persistent://tg/response/triples:{id}"}, "kg-extract-definitions:{id}":
      {"entity-contexts": "persistent://tg/flow/entity-contexts-load:{id}", "input":
      "persistent://tg/flow/chunk-load:{id}", "prompt-request": "non-persistent://tg/request/prompt:{id}",
      "prompt-response": "non-persistent://tg/response/prompt:{id}", "triples": "persistent://tg/flow/triples-store:{id}"},
      "kg-extract-objects:{id}": {"entity-contexts": "persistent://tg/flow/entity-contexts-load:{id}",
      "input": "persistent://tg/flow/chunk-load:{id}", "output": "persistent://tg/flow/objects-store:{id}",
      "prompt-request": "non-persistent://tg/request/prompt:{id}", "prompt-response":
      "non-persistent://tg/response/prompt:{id}"}, "kg-extract-relationships:{id}":
      {"input": "persistent://tg/flow/chunk-load:{id}", "prompt-request": "non-persistent://tg/request/prompt:{id}",
      "prompt-response": "non-persistent://tg/response/prompt:{id}", "triples": "persistent://tg/flow/triples-store:{id}"},
      "mcp-tool:{id}": {"request": "non-persistent://tg/request/mcp-tool:{id}", "response":
      "non-persistent://tg/response/mcp-tool:{id}", "text-completion-request": "non-persistent://tg/request/text-completion:{id}",
      "text-completion-response": "non-persistent://tg/response/text-completion:{id}"},
      "metering-rag:{id}": {"input": "non-persistent://tg/response/text-completion-rag:{id}"},
      "metering:{id}": {"input": "non-persistent://tg/response/text-completion:{id}"},
      "nlp-query:{id}": {"prompt-request": "non-persistent://tg/request/prompt-rag:{id}",
      "prompt-response": "non-persistent://tg/response/prompt-rag:{id}", "request":
      "non-persistent://tg/request/nlp-query:{id}", "response": "non-persistent://tg/response/nlp-query:{id}"},
      "objects-query:{id}": {"request": "non-persistent://tg/request/objects:{id}",
      "response": "non-persistent://tg/response/objects:{id}"}, "objects-write:{id}":
      {"input": "persistent://tg/flow/objects-store:{id}"}, "pdf-decoder:{id}": {"input":
      "persistent://tg/flow/document-load:{id}", "output": "persistent://tg/flow/text-document-load:{id}"},
      "prompt-rag:{id}": {"request": "non-persistent://tg/request/prompt-rag:{id}",
      "response": "non-persistent://tg/response/prompt-rag:{id}", "text-completion-request":
      "non-persistent://tg/request/text-completion-rag:{id}", "text-completion-response":
      "non-persistent://tg/response/text-completion-rag:{id}"}, "prompt:{id}": {"request":
      "non-persistent://tg/request/prompt:{id}", "response": "non-persistent://tg/response/prompt:{id}",
      "text-completion-request": "non-persistent://tg/request/text-completion:{id}",
      "text-completion-response": "non-persistent://tg/response/text-completion:{id}"},
      "structured-diag:{id}": {"prompt-request": "non-persistent://tg/request/prompt:{id}",
      "prompt-response": "non-persistent://tg/response/prompt:{id}", "request": "non-persistent://tg/request/structured-diag:{id}",
      "response": "non-persistent://tg/response/structured-diag:{id}"}, "structured-query:{id}":
      {"nlp-query-request": "non-persistent://tg/request/nlp-query:{id}", "nlp-query-response":
      "non-persistent://tg/response/nlp-query:{id}", "objects-query-request": "non-persistent://tg/request/objects:{id}",
      "objects-query-response": "non-persistent://tg/response/objects:{id}", "request":
      "non-persistent://tg/request/structured-query:{id}", "response": "non-persistent://tg/response/structured-query:{id}"},
      "text-completion-rag:{id}": {"model": "{llm-rag-model}", "request": "non-persistent://tg/request/text-completion-rag:{id}",
      "response": "non-persistent://tg/response/text-completion-rag:{id}"}, "text-completion:{id}":
      {"model": "{llm-model}", "request": "non-persistent://tg/request/text-completion:{id}",
      "response": "non-persistent://tg/response/text-completion:{id}"}, "triples-query:{id}":
      {"request": "non-persistent://tg/request/triples:{id}", "response": "non-persistent://tg/response/triples:{id}"},
      "triples-write:{id}": {"input": "persistent://tg/flow/triples-store:{id}"}},
      "interfaces": {"agent": {"request": "non-persistent://tg/request/agent:{id}",
      "response": "non-persistent://tg/response/agent:{id}"}, "document-embeddings":
      {"request": "non-persistent://tg/request/document-embeddings:{id}", "response":
      "non-persistent://tg/response/document-embeddings:{id}"}, "document-embeddings-store":
      "persistent://tg/flow/document-embeddings-store:{id}", "document-load": "persistent://tg/flow/document-load:{id}",
      "document-rag": {"request": "non-persistent://tg/request/document-rag:{id}",
      "response": "non-persistent://tg/response/document-rag:{id}"}, "embeddings":
      {"request": "non-persistent://tg/request/embeddings:{id}", "response": "non-persistent://tg/response/embeddings:{id}"},
      "entity-contexts-load": "persistent://tg/flow/entity-contexts-load:{id}", "graph-embeddings":
      {"request": "non-persistent://tg/request/graph-embeddings:{id}", "response":
      "non-persistent://tg/response/graph-embeddings:{id}"}, "graph-embeddings-store":
      "persistent://tg/flow/graph-embeddings-store:{id}", "graph-rag": {"request":
      "non-persistent://tg/request/graph-rag:{id}", "response": "non-persistent://tg/response/graph-rag:{id}"},
      "mcp-tool": {"request": "non-persistent://tg/request/mcp-tool:{id}", "response":
      "non-persistent://tg/response/mcp-tool:{id}"}, "nlp-query": {"request": "non-persistent://tg/request/nlp-query:{id}",
      "response": "non-persistent://tg/response/nlp-query:{id}"}, "objects": {"request":
      "non-persistent://tg/request/objects:{id}", "response": "non-persistent://tg/response/objects:{id}"},
      "objects-store": "persistent://tg/flow/objects-store:{id}", "prompt": {"request":
      "non-persistent://tg/request/prompt:{id}", "response": "non-persistent://tg/response/prompt:{id}"},
      "structured-diag": {"request": "non-persistent://tg/request/structured-diag:{id}",
      "response": "non-persistent://tg/response/structured-diag:{id}"}, "structured-query":
      {"request": "non-persistent://tg/request/structured-query:{id}", "response":
      "non-persistent://tg/response/structured-query:{id}"}, "text-completion": {"request":
      "non-persistent://tg/request/text-completion:{id}", "response": "non-persistent://tg/response/text-completion:{id}"},
      "text-load": "persistent://tg/flow/text-document-load:{id}", "triples": {"request":
      "non-persistent://tg/request/triples:{id}", "response": "non-persistent://tg/response/triples:{id}"},
      "triples-store": "persistent://tg/flow/triples-store:{id}"}, "parameters": {"chunk-overlap":
      {"advanced": true, "description": "Chunk overlap", "order": 7, "type": "chunk-overlap"},
      "chunk-size": {"advanced": true, "description": "Chunk size", "order": 6, "type":
      "chunk-size"}, "embeddings-model": {"advanced": true, "description": "Embeddings
      model", "order": 5, "type": "embeddings-model"}, "llm-model": {"advanced": false,
      "description": "LLM model", "order": 1, "type": "llm-model"}, "llm-rag-model":
      {"advanced": true, "controlled-by": "llm-model", "description": "LLM model for
      RAG", "order": 2, "type": "llm-model"}, "llm-rag-temperature": {"advanced":
      true, "description": "LLM temperature for RAG", "order": 4, "type": "llm-temperature"},
      "llm-temperature": {"advanced": true, "description": "LLM temperature", "order":
      3, "type": "llm-temperature"}}, "tags": ["document-rag", "graph-rag", "knowledge-extraction",
      "structured-data", "kgcore"]}, "graph-rag": {"class": {}, "description": "GraphRAG
      only", "flow": {"agent-manager:{id}": {"graph-rag-request": "non-persistent://tg/request/graph-rag:{id}",
      "graph-rag-response": "non-persistent://tg/response/graph-rag:{id}", "mcp-tool-request":
      "non-persistent://tg/request/mcp-tool:{id}", "mcp-tool-response": "non-persistent://tg/response/mcp-tool:{id}",
      "next": "non-persistent://tg/request/agent:{id}", "prompt-request": "non-persistent://tg/request/prompt:{id}",
      "prompt-response": "non-persistent://tg/response/prompt:{id}", "request": "non-persistent://tg/request/agent:{id}",
      "response": "non-persistent://tg/response/agent:{id}", "structured-query-request":
      "non-persistent://tg/request/structured-query:{id}", "structured-query-response":
      "non-persistent://tg/response/structured-query:{id}", "text-completion-request":
      "non-persistent://tg/request/text-completion:{id}", "text-completion-response":
      "non-persistent://tg/response/text-completion:{id}"}, "chunker:{id}": {"chunk-overlap":
      "{chunk-overlap}", "chunk-size": "{chunk-size}", "input": "persistent://tg/flow/text-document-load:{id}",
      "output": "persistent://tg/flow/chunk-load:{id}"}, "embeddings:{id}": {"model":
      "{embeddings-model}", "request": "non-persistent://tg/request/embeddings:{id}",
      "response": "non-persistent://tg/response/embeddings:{id}"}, "ge-query:{id}":
      {"request": "non-persistent://tg/request/graph-embeddings:{id}", "response":
      "non-persistent://tg/response/graph-embeddings:{id}"}, "ge-write:{id}": {"input":
      "persistent://tg/flow/graph-embeddings-store:{id}"}, "graph-embeddings:{id}":
      {"embeddings-request": "non-persistent://tg/request/embeddings:{id}", "embeddings-response":
      "non-persistent://tg/response/embeddings:{id}", "input": "persistent://tg/flow/entity-contexts-load:{id}",
      "output": "persistent://tg/flow/graph-embeddings-store:{id}"}, "graph-rag:{id}":
      {"embeddings-request": "non-persistent://tg/request/embeddings:{id}", "embeddings-response":
      "non-persistent://tg/response/embeddings:{id}", "graph-embeddings-request":
      "non-persistent://tg/request/graph-embeddings:{id}", "graph-embeddings-response":
      "non-persistent://tg/response/graph-embeddings:{id}", "prompt-request": "non-persistent://tg/request/prompt-rag:{id}",
      "prompt-response": "non-persistent://tg/response/prompt-rag:{id}", "request":
      "non-persistent://tg/request/graph-rag:{id}", "response": "non-persistent://tg/response/graph-rag:{id}",
      "triples-request": "non-persistent://tg/request/triples:{id}", "triples-response":
      "non-persistent://tg/response/triples:{id}"}, "kg-extract-definitions:{id}":
      {"entity-contexts": "persistent://tg/flow/entity-contexts-load:{id}", "input":
      "persistent://tg/flow/chunk-load:{id}", "prompt-request": "non-persistent://tg/request/prompt:{id}",
      "prompt-response": "non-persistent://tg/response/prompt:{id}", "triples": "persistent://tg/flow/triples-store:{id}"},
      "kg-extract-relationships:{id}": {"input": "persistent://tg/flow/chunk-load:{id}",
      "prompt-request": "non-persistent://tg/request/prompt:{id}", "prompt-response":
      "non-persistent://tg/response/prompt:{id}", "triples": "persistent://tg/flow/triples-store:{id}"},
      "mcp-tool:{id}": {"request": "non-persistent://tg/request/mcp-tool:{id}", "response":
      "non-persistent://tg/response/mcp-tool:{id}", "text-completion-request": "non-persistent://tg/request/text-completion:{id}",
      "text-completion-response": "non-persistent://tg/response/text-completion:{id}"},
      "metering-rag:{id}": {"input": "non-persistent://tg/response/text-completion-rag:{id}"},
      "metering:{id}": {"input": "non-persistent://tg/response/text-completion:{id}"},
      "pdf-decoder:{id}": {"input": "persistent://tg/flow/document-load:{id}", "output":
      "persistent://tg/flow/text-document-load:{id}"}, "prompt-rag:{id}": {"request":
      "non-persistent://tg/request/prompt-rag:{id}", "response": "non-persistent://tg/response/prompt-rag:{id}",
      "text-completion-request": "non-persistent://tg/request/text-completion-rag:{id}",
      "text-completion-response": "non-persistent://tg/response/text-completion-rag:{id}"},
      "prompt:{id}": {"request": "non-persistent://tg/request/prompt:{id}", "response":
      "non-persistent://tg/response/prompt:{id}", "text-completion-request": "non-persistent://tg/request/text-completion:{id}",
      "text-completion-response": "non-persistent://tg/response/text-completion:{id}"},
      "text-completion-rag:{id}": {"model": "{llm-rag-model}", "request": "non-persistent://tg/request/text-completion-rag:{id}",
      "response": "non-persistent://tg/response/text-completion-rag:{id}"}, "text-completion:{id}":
      {"model": "{llm-model}", "request": "non-persistent://tg/request/text-completion:{id}",
      "response": "non-persistent://tg/response/text-completion:{id}"}, "triples-query:{id}":
      {"request": "non-persistent://tg/request/triples:{id}", "response": "non-persistent://tg/response/triples:{id}"},
      "triples-write:{id}": {"input": "persistent://tg/flow/triples-store:{id}"}},
      "interfaces": {"agent": {"request": "non-persistent://tg/request/agent:{id}",
      "response": "non-persistent://tg/response/agent:{id}"}, "document-load": "persistent://tg/flow/document-load:{id}",
      "embeddings": {"request": "non-persistent://tg/request/embeddings:{id}", "response":
      "non-persistent://tg/response/embeddings:{id}"}, "entity-contexts-load": "persistent://tg/flow/entity-contexts-load:{id}",
      "graph-embeddings": {"request": "non-persistent://tg/request/graph-embeddings:{id}",
      "response": "non-persistent://tg/response/graph-embeddings:{id}"}, "graph-embeddings-store":
      "persistent://tg/flow/graph-embeddings-store:{id}", "graph-rag": {"request":
      "non-persistent://tg/request/graph-rag:{id}", "response": "non-persistent://tg/response/graph-rag:{id}"},
      "mcp-tool": {"request": "non-persistent://tg/request/mcp-tool:{id}", "response":
      "non-persistent://tg/response/mcp-tool:{id}"}, "prompt": {"request": "non-persistent://tg/request/prompt:{id}",
      "response": "non-persistent://tg/response/prompt:{id}"}, "text-completion":
      {"request": "non-persistent://tg/request/text-completion:{id}", "response":
      "non-persistent://tg/response/text-completion:{id}"}, "text-load": "persistent://tg/flow/text-document-load:{id}",
      "triples": {"request": "non-persistent://tg/request/triples:{id}", "response":
      "non-persistent://tg/response/triples:{id}"}, "triples-store": "persistent://tg/flow/triples-store:{id}"},
      "parameters": {"chunk-overlap": {"advanced": true, "description": "Chunk overlap",
      "order": 7, "type": "chunk-overlap"}, "chunk-size": {"advanced": true, "description":
      "Chunk size", "order": 6, "type": "chunk-size"}, "embeddings-model": {"advanced":
      true, "description": "Embeddings model", "order": 5, "type": "embeddings-model"},
      "llm-model": {"advanced": false, "description": "LLM model", "order": 1, "type":
      "llm-model"}, "llm-rag-model": {"advanced": true, "controlled-by": "llm-model",
      "description": "LLM model for RAG", "order": 2, "type": "llm-model"}, "llm-rag-temperature":
      {"advanced": true, "description": "LLM temperature for RAG", "order": 4, "type":
      "llm-temperature"}, "llm-temperature": {"advanced": true, "description": "LLM
      temperature", "order": 3, "type": "llm-temperature"}}, "tags": ["graph-rag",
      "knowledge-extraction"]}, "graph-rag+agent-extract": {"class": {}, "description":
      "GraphRAG + agent extract", "flow": {"agent-manager:{id}": {"graph-rag-request":
      "non-persistent://tg/request/graph-rag:{id}", "graph-rag-response": "non-persistent://tg/response/graph-rag:{id}",
      "mcp-tool-request": "non-persistent://tg/request/mcp-tool:{id}", "mcp-tool-response":
      "non-persistent://tg/response/mcp-tool:{id}", "next": "non-persistent://tg/request/agent:{id}",
      "prompt-request": "non-persistent://tg/request/prompt:{id}", "prompt-response":
      "non-persistent://tg/response/prompt:{id}", "request": "non-persistent://tg/request/agent:{id}",
      "response": "non-persistent://tg/response/agent:{id}", "structured-query-request":
      "non-persistent://tg/request/structured-query:{id}", "structured-query-response":
      "non-persistent://tg/response/structured-query:{id}", "text-completion-request":
      "non-persistent://tg/request/text-completion:{id}", "text-completion-response":
      "non-persistent://tg/response/text-completion:{id}"}, "chunker:{id}": {"chunk-overlap":
      "{chunk-overlap}", "chunk-size": "{chunk-size}", "input": "persistent://tg/flow/text-document-load:{id}",
      "output": "persistent://tg/flow/chunk-load:{id}"}, "embeddings:{id}": {"model":
      "{embeddings-model}", "request": "non-persistent://tg/request/embeddings:{id}",
      "response": "non-persistent://tg/response/embeddings:{id}"}, "ge-query:{id}":
      {"request": "non-persistent://tg/request/graph-embeddings:{id}", "response":
      "non-persistent://tg/response/graph-embeddings:{id}"}, "ge-write:{id}": {"input":
      "persistent://tg/flow/graph-embeddings-store:{id}"}, "graph-embeddings:{id}":
      {"embeddings-request": "non-persistent://tg/request/embeddings:{id}", "embeddings-response":
      "non-persistent://tg/response/embeddings:{id}", "input": "persistent://tg/flow/entity-contexts-load:{id}",
      "output": "persistent://tg/flow/graph-embeddings-store:{id}"}, "graph-rag:{id}":
      {"embeddings-request": "non-persistent://tg/request/embeddings:{id}", "embeddings-response":
      "non-persistent://tg/response/embeddings:{id}", "graph-embeddings-request":
      "non-persistent://tg/request/graph-embeddings:{id}", "graph-embeddings-response":
      "non-persistent://tg/response/graph-embeddings:{id}", "prompt-request": "non-persistent://tg/request/prompt-rag:{id}",
      "prompt-response": "non-persistent://tg/response/prompt-rag:{id}", "request":
      "non-persistent://tg/request/graph-rag:{id}", "response": "non-persistent://tg/response/graph-rag:{id}",
      "triples-request": "non-persistent://tg/request/triples:{id}", "triples-response":
      "non-persistent://tg/response/triples:{id}"}, "kg-extract-agent:{id}": {"agent-request":
      "non-persistent://tg/request/agent:{id}", "agent-response": "non-persistent://tg/response/agent:{id}",
      "entity-contexts": "persistent://tg/flow/entity-contexts-load:{id}", "input":
      "persistent://tg/flow/chunk-load:{id}", "triples": "persistent://tg/flow/triples-store:{id}"},
      "mcp-tool:{id}": {"request": "non-persistent://tg/request/mcp-tool:{id}", "response":
      "non-persistent://tg/response/mcp-tool:{id}", "text-completion-request": "non-persistent://tg/request/text-completion:{id}",
      "text-completion-response": "non-persistent://tg/response/text-completion:{id}"},
      "metering-rag:{id}": {"input": "non-persistent://tg/response/text-completion-rag:{id}"},
      "metering:{id}": {"input": "non-persistent://tg/response/text-completion:{id}"},
      "pdf-decoder:{id}": {"input": "persistent://tg/flow/document-load:{id}", "output":
      "persistent://tg/flow/text-document-load:{id}"}, "prompt-rag:{id}": {"request":
      "non-persistent://tg/request/prompt-rag:{id}", "response": "non-persistent://tg/response/prompt-rag:{id}",
      "text-completion-request": "non-persistent://tg/request/text-completion-rag:{id}",
      "text-completion-response": "non-persistent://tg/response/text-completion-rag:{id}"},
      "prompt:{id}": {"request": "non-persistent://tg/request/prompt:{id}", "response":
      "non-persistent://tg/response/prompt:{id}", "text-completion-request": "non-persistent://tg/request/text-completion:{id}",
      "text-completion-response": "non-persistent://tg/response/text-completion:{id}"},
      "text-completion-rag:{id}": {"model": "{llm-rag-model}", "request": "non-persistent://tg/request/text-completion-rag:{id}",
      "response": "non-persistent://tg/response/text-completion-rag:{id}"}, "text-completion:{id}":
      {"model": "{llm-model}", "request": "non-persistent://tg/request/text-completion:{id}",
      "response": "non-persistent://tg/response/text-completion:{id}"}, "triples-query:{id}":
      {"request": "non-persistent://tg/request/triples:{id}", "response": "non-persistent://tg/response/triples:{id}"},
      "triples-write:{id}": {"input": "persistent://tg/flow/triples-store:{id}"}},
      "interfaces": {"agent": {"request": "non-persistent://tg/request/agent:{id}",
      "response": "non-persistent://tg/response/agent:{id}"}, "document-load": "persistent://tg/flow/document-load:{id}",
      "embeddings": {"request": "non-persistent://tg/request/embeddings:{id}", "response":
      "non-persistent://tg/response/embeddings:{id}"}, "entity-contexts-load": "persistent://tg/flow/entity-contexts-load:{id}",
      "graph-embeddings": {"request": "non-persistent://tg/request/graph-embeddings:{id}",
      "response": "non-persistent://tg/response/graph-embeddings:{id}"}, "graph-embeddings-store":
      "persistent://tg/flow/graph-embeddings-store:{id}", "graph-rag": {"request":
      "non-persistent://tg/request/graph-rag:{id}", "response": "non-persistent://tg/response/graph-rag:{id}"},
      "mcp-tool": {"request": "non-persistent://tg/request/mcp-tool:{id}", "response":
      "non-persistent://tg/response/mcp-tool:{id}"}, "prompt": {"request": "non-persistent://tg/request/prompt:{id}",
      "response": "non-persistent://tg/response/prompt:{id}"}, "text-completion":
      {"request": "non-persistent://tg/request/text-completion:{id}", "response":
      "non-persistent://tg/response/text-completion:{id}"}, "text-load": "persistent://tg/flow/text-document-load:{id}",
      "triples": {"request": "non-persistent://tg/request/triples:{id}", "response":
      "non-persistent://tg/response/triples:{id}"}, "triples-store": "persistent://tg/flow/triples-store:{id}"},
      "parameters": {"chunk-overlap": {"advanced": true, "description": "Chunk overlap",
      "order": 7, "type": "chunk-overlap"}, "chunk-size": {"advanced": true, "description":
      "Chunk size", "order": 6, "type": "chunk-size"}, "embeddings-model": {"advanced":
      true, "description": "Embeddings model", "order": 5, "type": "embeddings-model"},
      "llm-model": {"advanced": false, "description": "LLM model", "order": 1, "type":
      "llm-model"}, "llm-rag-model": {"advanced": true, "controlled-by": "llm-model",
      "description": "LLM model for RAG", "order": 2, "type": "llm-model"}, "llm-rag-temperature":
      {"advanced": true, "description": "LLM temperature for RAG", "order": 4, "type":
      "llm-temperature"}, "llm-temperature": {"advanced": true, "description": "LLM
      temperature", "order": 3, "type": "llm-temperature"}}, "tags": ["graph-rag",
      "knowledge-extraction", "agent-extract"]}, "graph-rag+structured-data": {"class":
      {}, "description": "GraphRAG + structured data", "flow": {"agent-manager:{id}":
      {"graph-rag-request": "non-persistent://tg/request/graph-rag:{id}", "graph-rag-response":
      "non-persistent://tg/response/graph-rag:{id}", "mcp-tool-request": "non-persistent://tg/request/mcp-tool:{id}",
      "mcp-tool-response": "non-persistent://tg/response/mcp-tool:{id}", "next": "non-persistent://tg/request/agent:{id}",
      "prompt-request": "non-persistent://tg/request/prompt:{id}", "prompt-response":
      "non-persistent://tg/response/prompt:{id}", "request": "non-persistent://tg/request/agent:{id}",
      "response": "non-persistent://tg/response/agent:{id}", "structured-query-request":
      "non-persistent://tg/request/structured-query:{id}", "structured-query-response":
      "non-persistent://tg/response/structured-query:{id}", "text-completion-request":
      "non-persistent://tg/request/text-completion:{id}", "text-completion-response":
      "non-persistent://tg/response/text-completion:{id}"}, "chunker:{id}": {"chunk-overlap":
      "{chunk-overlap}", "chunk-size": "{chunk-size}", "input": "persistent://tg/flow/text-document-load:{id}",
      "output": "persistent://tg/flow/chunk-load:{id}"}, "embeddings:{id}": {"model":
      "{embeddings-model}", "request": "non-persistent://tg/request/embeddings:{id}",
      "response": "non-persistent://tg/response/embeddings:{id}"}, "ge-query:{id}":
      {"request": "non-persistent://tg/request/graph-embeddings:{id}", "response":
      "non-persistent://tg/response/graph-embeddings:{id}"}, "ge-write:{id}": {"input":
      "persistent://tg/flow/graph-embeddings-store:{id}"}, "graph-embeddings:{id}":
      {"embeddings-request": "non-persistent://tg/request/embeddings:{id}", "embeddings-response":
      "non-persistent://tg/response/embeddings:{id}", "input": "persistent://tg/flow/entity-contexts-load:{id}",
      "output": "persistent://tg/flow/graph-embeddings-store:{id}"}, "graph-rag:{id}":
      {"embeddings-request": "non-persistent://tg/request/embeddings:{id}", "embeddings-response":
      "non-persistent://tg/response/embeddings:{id}", "graph-embeddings-request":
      "non-persistent://tg/request/graph-embeddings:{id}", "graph-embeddings-response":
      "non-persistent://tg/response/graph-embeddings:{id}", "prompt-request": "non-persistent://tg/request/prompt-rag:{id}",
      "prompt-response": "non-persistent://tg/response/prompt-rag:{id}", "request":
      "non-persistent://tg/request/graph-rag:{id}", "response": "non-persistent://tg/response/graph-rag:{id}",
      "triples-request": "non-persistent://tg/request/triples:{id}", "triples-response":
      "non-persistent://tg/response/triples:{id}"}, "kg-extract-objects:{id}": {"entity-contexts":
      "persistent://tg/flow/entity-contexts-load:{id}", "input": "persistent://tg/flow/chunk-load:{id}",
      "output": "persistent://tg/flow/objects-store:{id}", "prompt-request": "non-persistent://tg/request/prompt:{id}",
      "prompt-response": "non-persistent://tg/response/prompt:{id}"}, "mcp-tool:{id}":
      {"request": "non-persistent://tg/request/mcp-tool:{id}", "response": "non-persistent://tg/response/mcp-tool:{id}",
      "text-completion-request": "non-persistent://tg/request/text-completion:{id}",
      "text-completion-response": "non-persistent://tg/response/text-completion:{id}"},
      "metering-rag:{id}": {"input": "non-persistent://tg/response/text-completion-rag:{id}"},
      "metering:{id}": {"input": "non-persistent://tg/response/text-completion:{id}"},
      "nlp-query:{id}": {"prompt-request": "non-persistent://tg/request/prompt-rag:{id}",
      "prompt-response": "non-persistent://tg/response/prompt-rag:{id}", "request":
      "non-persistent://tg/request/nlp-query:{id}", "response": "non-persistent://tg/response/nlp-query:{id}"},
      "objects-query:{id}": {"request": "non-persistent://tg/request/objects:{id}",
      "response": "non-persistent://tg/response/objects:{id}"}, "objects-write:{id}":
      {"input": "persistent://tg/flow/objects-store:{id}"}, "pdf-decoder:{id}": {"input":
      "persistent://tg/flow/document-load:{id}", "output": "persistent://tg/flow/text-document-load:{id}"},
      "prompt-rag:{id}": {"request": "non-persistent://tg/request/prompt-rag:{id}",
      "response": "non-persistent://tg/response/prompt-rag:{id}", "text-completion-request":
      "non-persistent://tg/request/text-completion-rag:{id}", "text-completion-response":
      "non-persistent://tg/response/text-completion-rag:{id}"}, "prompt:{id}": {"request":
      "non-persistent://tg/request/prompt:{id}", "response": "non-persistent://tg/response/prompt:{id}",
      "text-completion-request": "non-persistent://tg/request/text-completion:{id}",
      "text-completion-response": "non-persistent://tg/response/text-completion:{id}"},
      "structured-diag:{id}": {"prompt-request": "non-persistent://tg/request/prompt:{id}",
      "prompt-response": "non-persistent://tg/response/prompt:{id}", "request": "non-persistent://tg/request/structured-diag:{id}",
      "response": "non-persistent://tg/response/structured-diag:{id}"}, "structured-query:{id}":
      {"nlp-query-request": "non-persistent://tg/request/nlp-query:{id}", "nlp-query-response":
      "non-persistent://tg/response/nlp-query:{id}", "objects-query-request": "non-persistent://tg/request/objects:{id}",
      "objects-query-response": "non-persistent://tg/response/objects:{id}", "request":
      "non-persistent://tg/request/structured-query:{id}", "response": "non-persistent://tg/response/structured-query:{id}"},
      "text-completion-rag:{id}": {"model": "{llm-rag-model}", "request": "non-persistent://tg/request/text-completion-rag:{id}",
      "response": "non-persistent://tg/response/text-completion-rag:{id}"}, "text-completion:{id}":
      {"model": "{llm-model}", "request": "non-persistent://tg/request/text-completion:{id}",
      "response": "non-persistent://tg/response/text-completion:{id}"}, "triples-query:{id}":
      {"request": "non-persistent://tg/request/triples:{id}", "response": "non-persistent://tg/response/triples:{id}"},
      "triples-write:{id}": {"input": "persistent://tg/flow/triples-store:{id}"}},
      "interfaces": {"agent": {"request": "non-persistent://tg/request/agent:{id}",
      "response": "non-persistent://tg/response/agent:{id}"}, "document-load": "persistent://tg/flow/document-load:{id}",
      "embeddings": {"request": "non-persistent://tg/request/embeddings:{id}", "response":
      "non-persistent://tg/response/embeddings:{id}"}, "entity-contexts-load": "persistent://tg/flow/entity-contexts-load:{id}",
      "graph-embeddings": {"request": "non-persistent://tg/request/graph-embeddings:{id}",
      "response": "non-persistent://tg/response/graph-embeddings:{id}"}, "graph-embeddings-store":
      "persistent://tg/flow/graph-embeddings-store:{id}", "graph-rag": {"request":
      "non-persistent://tg/request/graph-rag:{id}", "response": "non-persistent://tg/response/graph-rag:{id}"},
      "mcp-tool": {"request": "non-persistent://tg/request/mcp-tool:{id}", "response":
      "non-persistent://tg/response/mcp-tool:{id}"}, "nlp-query": {"request": "non-persistent://tg/request/nlp-query:{id}",
      "response": "non-persistent://tg/response/nlp-query:{id}"}, "objects": {"request":
      "non-persistent://tg/request/objects:{id}", "response": "non-persistent://tg/response/objects:{id}"},
      "objects-store": "persistent://tg/flow/objects-store:{id}", "prompt": {"request":
      "non-persistent://tg/request/prompt:{id}", "response": "non-persistent://tg/response/prompt:{id}"},
      "structured-diag": {"request": "non-persistent://tg/request/structured-diag:{id}",
      "response": "non-persistent://tg/response/structured-diag:{id}"}, "structured-query":
      {"request": "non-persistent://tg/request/structured-query:{id}", "response":
      "non-persistent://tg/response/structured-query:{id}"}, "text-completion": {"request":
      "non-persistent://tg/request/text-completion:{id}", "response": "non-persistent://tg/response/text-completion:{id}"},
      "text-load": "persistent://tg/flow/text-document-load:{id}", "triples": {"request":
      "non-persistent://tg/request/triples:{id}", "response": "non-persistent://tg/response/triples:{id}"},
      "triples-store": "persistent://tg/flow/triples-store:{id}"}, "parameters": {"chunk-overlap":
      {"advanced": true, "description": "Chunk overlap", "order": 7, "type": "chunk-overlap"},
      "chunk-size": {"advanced": true, "description": "Chunk size", "order": 6, "type":
      "chunk-size"}, "embeddings-model": {"advanced": true, "description": "Embeddings
      model", "order": 5, "type": "embeddings-model"}, "llm-model": {"advanced": false,
      "description": "LLM model", "order": 1, "type": "llm-model"}, "llm-rag-model":
      {"advanced": true, "controlled-by": "llm-model", "description": "LLM model for
      RAG", "order": 2, "type": "llm-model"}, "llm-rag-temperature": {"advanced":
      true, "description": "LLM temperature for RAG", "order": 4, "type": "llm-temperature"},
      "llm-temperature": {"advanced": true, "description": "LLM temperature", "order":
      3, "type": "llm-temperature"}}, "tags": ["graph-rag", "knowledge-extraction",
      "structured-data"]}, "onto-rag": {"class": {}, "description": "Ontology RAG
      only", "flow": {"agent-manager:{id}": {"graph-rag-request": "non-persistent://tg/request/graph-rag:{id}",
      "graph-rag-response": "non-persistent://tg/response/graph-rag:{id}", "mcp-tool-request":
      "non-persistent://tg/request/mcp-tool:{id}", "mcp-tool-response": "non-persistent://tg/response/mcp-tool:{id}",
      "next": "non-persistent://tg/request/agent:{id}", "prompt-request": "non-persistent://tg/request/prompt:{id}",
      "prompt-response": "non-persistent://tg/response/prompt:{id}", "request": "non-persistent://tg/request/agent:{id}",
      "response": "non-persistent://tg/response/agent:{id}", "structured-query-request":
      "non-persistent://tg/request/structured-query:{id}", "structured-query-response":
      "non-persistent://tg/response/structured-query:{id}", "text-completion-request":
      "non-persistent://tg/request/text-completion:{id}", "text-completion-response":
      "non-persistent://tg/response/text-completion:{id}"}, "chunker:{id}": {"chunk-overlap":
      "{chunk-overlap}", "chunk-size": "{chunk-size}", "input": "persistent://tg/flow/text-document-load:{id}",
      "output": "persistent://tg/flow/chunk-load:{id}"}, "embeddings:{id}": {"model":
      "{embeddings-model}", "request": "non-persistent://tg/request/embeddings:{id}",
      "response": "non-persistent://tg/response/embeddings:{id}"}, "ge-query:{id}":
      {"request": "non-persistent://tg/request/graph-embeddings:{id}", "response":
      "non-persistent://tg/response/graph-embeddings:{id}"}, "ge-write:{id}": {"input":
      "persistent://tg/flow/graph-embeddings-store:{id}"}, "graph-embeddings:{id}":
      {"embeddings-request": "non-persistent://tg/request/embeddings:{id}", "embeddings-response":
      "non-persistent://tg/response/embeddings:{id}", "input": "persistent://tg/flow/entity-contexts-load:{id}",
      "output": "persistent://tg/flow/graph-embeddings-store:{id}"}, "graph-rag:{id}":
      {"embeddings-request": "non-persistent://tg/request/embeddings:{id}", "embeddings-response":
      "non-persistent://tg/response/embeddings:{id}", "graph-embeddings-request":
      "non-persistent://tg/request/graph-embeddings:{id}", "graph-embeddings-response":
      "non-persistent://tg/response/graph-embeddings:{id}", "prompt-request": "non-persistent://tg/request/prompt-rag:{id}",
      "prompt-response": "non-persistent://tg/response/prompt-rag:{id}", "request":
      "non-persistent://tg/request/graph-rag:{id}", "response": "non-persistent://tg/response/graph-rag:{id}",
      "triples-request": "non-persistent://tg/request/triples:{id}", "triples-response":
      "non-persistent://tg/response/triples:{id}"}, "kg-extract-ontology:{id}": {"embeddings-request":
      "non-persistent://tg/request/embeddings:{id}", "embeddings-response": "non-persistent://tg/response/embeddings:{id}",
      "entity-contexts": "persistent://tg/flow/entity-contexts-load:{id}", "input":
      "persistent://tg/flow/chunk-load:{id}", "prompt-request": "non-persistent://tg/request/prompt:{id}",
      "prompt-response": "non-persistent://tg/response/prompt:{id}", "triples": "persistent://tg/flow/triples-store:{id}"},
      "mcp-tool:{id}": {"request": "non-persistent://tg/request/mcp-tool:{id}", "response":
      "non-persistent://tg/response/mcp-tool:{id}", "text-completion-request": "non-persistent://tg/request/text-completion:{id}",
      "text-completion-response": "non-persistent://tg/response/text-completion:{id}"},
      "metering-rag:{id}": {"input": "non-persistent://tg/response/text-completion-rag:{id}"},
      "metering:{id}": {"input": "non-persistent://tg/response/text-completion:{id}"},
      "pdf-decoder:{id}": {"input": "persistent://tg/flow/document-load:{id}", "output":
      "persistent://tg/flow/text-document-load:{id}"}, "prompt-rag:{id}": {"request":
      "non-persistent://tg/request/prompt-rag:{id}", "response": "non-persistent://tg/response/prompt-rag:{id}",
      "text-completion-request": "non-persistent://tg/request/text-completion-rag:{id}",
      "text-completion-response": "non-persistent://tg/response/text-completion-rag:{id}"},
      "prompt:{id}": {"request": "non-persistent://tg/request/prompt:{id}", "response":
      "non-persistent://tg/response/prompt:{id}", "text-completion-request": "non-persistent://tg/request/text-completion:{id}",
      "text-completion-response": "non-persistent://tg/response/text-completion:{id}"},
      "text-completion-rag:{id}": {"model": "{llm-rag-model}", "request": "non-persistent://tg/request/text-completion-rag:{id}",
      "response": "non-persistent://tg/response/text-completion-rag:{id}"}, "text-completion:{id}":
      {"model": "{llm-model}", "request": "non-persistent://tg/request/text-completion:{id}",
      "response": "non-persistent://tg/response/text-completion:{id}"}, "triples-query:{id}":
      {"request": "non-persistent://tg/request/triples:{id}", "response": "non-persistent://tg/response/triples:{id}"},
      "triples-write:{id}": {"input": "persistent://tg/flow/triples-store:{id}"}},
      "interfaces": {"agent": {"request": "non-persistent://tg/request/agent:{id}",
      "response": "non-persistent://tg/response/agent:{id}"}, "document-load": "persistent://tg/flow/document-load:{id}",
      "embeddings": {"request": "non-persistent://tg/request/embeddings:{id}", "response":
      "non-persistent://tg/response/embeddings:{id}"}, "entity-contexts-load": "persistent://tg/flow/entity-contexts-load:{id}",
      "graph-embeddings": {"request": "non-persistent://tg/request/graph-embeddings:{id}",
      "response": "non-persistent://tg/response/graph-embeddings:{id}"}, "graph-embeddings-store":
      "persistent://tg/flow/graph-embeddings-store:{id}", "graph-rag": {"request":
      "non-persistent://tg/request/graph-rag:{id}", "response": "non-persistent://tg/response/graph-rag:{id}"},
      "mcp-tool": {"request": "non-persistent://tg/request/mcp-tool:{id}", "response":
      "non-persistent://tg/response/mcp-tool:{id}"}, "prompt": {"request": "non-persistent://tg/request/prompt:{id}",
      "response": "non-persistent://tg/response/prompt:{id}"}, "text-completion":
      {"request": "non-persistent://tg/request/text-completion:{id}", "response":
      "non-persistent://tg/response/text-completion:{id}"}, "text-load": "persistent://tg/flow/text-document-load:{id}",
      "triples": {"request": "non-persistent://tg/request/triples:{id}", "response":
      "non-persistent://tg/response/triples:{id}"}, "triples-store": "persistent://tg/flow/triples-store:{id}"},
      "parameters": {"chunk-overlap": {"advanced": true, "description": "Chunk overlap",
      "order": 7, "type": "chunk-overlap"}, "chunk-size": {"advanced": true, "description":
      "Chunk size", "order": 6, "type": "chunk-size"}, "embeddings-model": {"advanced":
      true, "description": "Embeddings model", "order": 5, "type": "embeddings-model"},
      "llm-model": {"advanced": false, "description": "LLM model", "order": 1, "type":
      "llm-model"}, "llm-rag-model": {"advanced": true, "controlled-by": "llm-model",
      "description": "LLM model for RAG", "order": 2, "type": "llm-model"}, "llm-rag-temperature":
      {"advanced": true, "description": "LLM temperature for RAG", "order": 4, "type":
      "llm-temperature"}, "llm-temperature": {"advanced": true, "description": "LLM
      temperature", "order": 3, "type": "llm-temperature"}}, "tags": ["graph-rag",
      "knowledge-extraction"]}, "structured-data": {"class": {}, "description": "Structured
      data only", "flow": {"agent-manager:{id}": {"graph-rag-request": "non-persistent://tg/request/graph-rag:{id}",
      "graph-rag-response": "non-persistent://tg/response/graph-rag:{id}", "mcp-tool-request":
      "non-persistent://tg/request/mcp-tool:{id}", "mcp-tool-response": "non-persistent://tg/response/mcp-tool:{id}",
      "next": "non-persistent://tg/request/agent:{id}", "prompt-request": "non-persistent://tg/request/prompt:{id}",
      "prompt-response": "non-persistent://tg/response/prompt:{id}", "request": "non-persistent://tg/request/agent:{id}",
      "response": "non-persistent://tg/response/agent:{id}", "structured-query-request":
      "non-persistent://tg/request/structured-query:{id}", "structured-query-response":
      "non-persistent://tg/response/structured-query:{id}", "text-completion-request":
      "non-persistent://tg/request/text-completion:{id}", "text-completion-response":
      "non-persistent://tg/response/text-completion:{id}"}, "chunker:{id}": {"chunk-overlap":
      "{chunk-overlap}", "chunk-size": "{chunk-size}", "input": "persistent://tg/flow/text-document-load:{id}",
      "output": "persistent://tg/flow/chunk-load:{id}"}, "embeddings:{id}": {"model":
      "{embeddings-model}", "request": "non-persistent://tg/request/embeddings:{id}",
      "response": "non-persistent://tg/response/embeddings:{id}"}, "kg-extract-objects:{id}":
      {"entity-contexts": "persistent://tg/flow/entity-contexts-load:{id}", "input":
      "persistent://tg/flow/chunk-load:{id}", "output": "persistent://tg/flow/objects-store:{id}",
      "prompt-request": "non-persistent://tg/request/prompt:{id}", "prompt-response":
      "non-persistent://tg/response/prompt:{id}"}, "mcp-tool:{id}": {"request": "non-persistent://tg/request/mcp-tool:{id}",
      "response": "non-persistent://tg/response/mcp-tool:{id}", "text-completion-request":
      "non-persistent://tg/request/text-completion:{id}", "text-completion-response":
      "non-persistent://tg/response/text-completion:{id}"}, "metering-rag:{id}": {"input":
      "non-persistent://tg/response/text-completion-rag:{id}"}, "metering:{id}": {"input":
      "non-persistent://tg/response/text-completion:{id}"}, "nlp-query:{id}": {"prompt-request":
      "non-persistent://tg/request/prompt-rag:{id}", "prompt-response": "non-persistent://tg/response/prompt-rag:{id}",
      "request": "non-persistent://tg/request/nlp-query:{id}", "response": "non-persistent://tg/response/nlp-query:{id}"},
      "objects-query:{id}": {"request": "non-persistent://tg/request/objects:{id}",
      "response": "non-persistent://tg/response/objects:{id}"}, "objects-write:{id}":
      {"input": "persistent://tg/flow/objects-store:{id}"}, "pdf-decoder:{id}": {"input":
      "persistent://tg/flow/document-load:{id}", "output": "persistent://tg/flow/text-document-load:{id}"},
      "prompt-rag:{id}": {"request": "non-persistent://tg/request/prompt-rag:{id}",
      "response": "non-persistent://tg/response/prompt-rag:{id}", "text-completion-request":
      "non-persistent://tg/request/text-completion-rag:{id}", "text-completion-response":
      "non-persistent://tg/response/text-completion-rag:{id}"}, "prompt:{id}": {"request":
      "non-persistent://tg/request/prompt:{id}", "response": "non-persistent://tg/response/prompt:{id}",
      "text-completion-request": "non-persistent://tg/request/text-completion:{id}",
      "text-completion-response": "non-persistent://tg/response/text-completion:{id}"},
      "structured-diag:{id}": {"prompt-request": "non-persistent://tg/request/prompt:{id}",
      "prompt-response": "non-persistent://tg/response/prompt:{id}", "request": "non-persistent://tg/request/structured-diag:{id}",
      "response": "non-persistent://tg/response/structured-diag:{id}"}, "structured-query:{id}":
      {"nlp-query-request": "non-persistent://tg/request/nlp-query:{id}", "nlp-query-response":
      "non-persistent://tg/response/nlp-query:{id}", "objects-query-request": "non-persistent://tg/request/objects:{id}",
      "objects-query-response": "non-persistent://tg/response/objects:{id}", "request":
      "non-persistent://tg/request/structured-query:{id}", "response": "non-persistent://tg/response/structured-query:{id}"},
      "text-completion-rag:{id}": {"model": "{llm-rag-model}", "request": "non-persistent://tg/request/text-completion-rag:{id}",
      "response": "non-persistent://tg/response/text-completion-rag:{id}"}, "text-completion:{id}":
      {"model": "{llm-model}", "request": "non-persistent://tg/request/text-completion:{id}",
      "response": "non-persistent://tg/response/text-completion:{id}"}}, "interfaces":
      {"agent": {"request": "non-persistent://tg/request/agent:{id}", "response":
      "non-persistent://tg/response/agent:{id}"}, "document-load": "persistent://tg/flow/document-load:{id}",
      "embeddings": {"request": "non-persistent://tg/request/embeddings:{id}", "response":
      "non-persistent://tg/response/embeddings:{id}"}, "mcp-tool": {"request": "non-persistent://tg/request/mcp-tool:{id}",
      "response": "non-persistent://tg/response/mcp-tool:{id}"}, "nlp-query": {"request":
      "non-persistent://tg/request/nlp-query:{id}", "response": "non-persistent://tg/response/nlp-query:{id}"},
      "objects": {"request": "non-persistent://tg/request/objects:{id}", "response":
      "non-persistent://tg/response/objects:{id}"}, "objects-store": "persistent://tg/flow/objects-store:{id}",
      "prompt": {"request": "non-persistent://tg/request/prompt:{id}", "response":
      "non-persistent://tg/response/prompt:{id}"}, "structured-diag": {"request":
      "non-persistent://tg/request/structured-diag:{id}", "response": "non-persistent://tg/response/structured-diag:{id}"},
      "structured-query": {"request": "non-persistent://tg/request/structured-query:{id}",
      "response": "non-persistent://tg/response/structured-query:{id}"}, "text-completion":
      {"request": "non-persistent://tg/request/text-completion:{id}", "response":
      "non-persistent://tg/response/text-completion:{id}"}, "text-load": "persistent://tg/flow/text-document-load:{id}"},
      "parameters": {"chunk-overlap": {"advanced": true, "description": "Chunk overlap",
      "order": 7, "type": "chunk-overlap"}, "chunk-size": {"advanced": true, "description":
      "Chunk size", "order": 6, "type": "chunk-size"}, "embeddings-model": {"advanced":
      true, "description": "Embeddings model", "order": 5, "type": "embeddings-model"},
      "llm-model": {"advanced": false, "description": "LLM model", "order": 1, "type":
      "llm-model"}, "llm-rag-model": {"advanced": true, "controlled-by": "llm-model",
      "description": "LLM model for RAG", "order": 2, "type": "llm-model"}, "llm-rag-temperature":
      {"advanced": true, "description": "LLM temperature for RAG", "order": 4, "type":
      "llm-temperature"}, "llm-temperature": {"advanced": true, "description": "LLM
      temperature", "order": 3, "type": "llm-temperature"}}, "tags": ["knowledge-extraction",
      "structured-data"]}}, "flows": {"default": {"class-name": "everything", "description":
      "Default processing flow", "interfaces": {"agent": {"request": "non-persistent://tg/request/agent:default",
      "response": "non-persistent://tg/response/agent:default"}, "document-embeddings":
      {"request": "non-persistent://tg/request/document-embeddings:default", "response":
      "non-persistent://tg/response/document-embeddings:default"}, "document-embeddings-store":
      "persistent://tg/flow/document-embeddings-store:default", "document-load": "persistent://tg/flow/document-load:default",
      "document-rag": {"request": "non-persistent://tg/request/document-rag:default",
      "response": "non-persistent://tg/response/document-rag:default"}, "embeddings":
      {"request": "non-persistent://tg/request/embeddings:default", "response": "non-persistent://tg/response/embeddings:default"},
      "entity-contexts-load": "persistent://tg/flow/entity-contexts-load:default",
      "graph-embeddings": {"request": "non-persistent://tg/request/graph-embeddings:default",
      "response": "non-persistent://tg/response/graph-embeddings:default"}, "graph-embeddings-store":
      "persistent://tg/flow/graph-embeddings-store:default", "graph-rag": {"request":
      "non-persistent://tg/request/graph-rag:default", "response": "non-persistent://tg/response/graph-rag:default"},
      "mcp-tool": {"request": "non-persistent://tg/request/mcp-tool:default", "response":
      "non-persistent://tg/response/mcp-tool:default"}, "nlp-query": {"request": "non-persistent://tg/request/nlp-query:default",
      "response": "non-persistent://tg/response/nlp-query:default"}, "objects": {"request":
      "non-persistent://tg/request/objects:default", "response": "non-persistent://tg/response/objects:default"},
      "objects-store": "persistent://tg/flow/objects-store:default", "prompt": {"request":
      "non-persistent://tg/request/prompt:default", "response": "non-persistent://tg/response/prompt:default"},
      "structured-diag": {"request": "non-persistent://tg/request/structured-diag:default",
      "response": "non-persistent://tg/response/structured-diag:default"}, "structured-query":
      {"request": "non-persistent://tg/request/structured-query:default", "response":
      "non-persistent://tg/response/structured-query:default"}, "text-completion":
      {"request": "non-persistent://tg/request/text-completion:default", "response":
      "non-persistent://tg/response/text-completion:default"}, "text-load": "persistent://tg/flow/text-document-load:default",
      "triples": {"request": "non-persistent://tg/request/triples:default", "response":
      "non-persistent://tg/response/triples:default"}, "triples-store": "persistent://tg/flow/triples-store:default"},
      "parameters": {"chunk-overlap": "50", "chunk-size": "2000", "embeddings-model":
      "sentence-transformers/all-MiniLM-L6-v2", "llm-model": "mistral-small-3.2-24b-instruct-2506",
      "llm-rag-model": "mistral-small-3.2-24b-instruct-2506", "llm-rag-temperature":
      "0.300", "llm-temperature": "0.300"}}}, "flows-active": {"agent-manager": {"default":
      {"graph-rag-request": "non-persistent://tg/request/graph-rag:default", "graph-rag-response":
      "non-persistent://tg/response/graph-rag:default", "mcp-tool-request": "non-persistent://tg/request/mcp-tool:default",
      "mcp-tool-response": "non-persistent://tg/response/mcp-tool:default", "next":
      "non-persistent://tg/request/agent:default", "prompt-request": "non-persistent://tg/request/prompt:default",
      "prompt-response": "non-persistent://tg/response/prompt:default", "request":
      "non-persistent://tg/request/agent:default", "response": "non-persistent://tg/response/agent:default",
      "structured-query-request": "non-persistent://tg/request/structured-query:default",
      "structured-query-response": "non-persistent://tg/response/structured-query:default",
      "text-completion-request": "non-persistent://tg/request/text-completion:default",
      "text-completion-response": "non-persistent://tg/response/text-completion:default"}},
      "chunker": {"default": {"chunk-overlap": "50", "chunk-size": "2000", "input":
      "persistent://tg/flow/text-document-load:default", "output": "persistent://tg/flow/chunk-load:default"}},
      "de-query": {"default": {"request": "non-persistent://tg/request/document-embeddings:default",
      "response": "non-persistent://tg/response/document-embeddings:default"}}, "de-write":
      {"default": {"input": "persistent://tg/flow/document-embeddings-store:default"}},
      "document-embeddings": {"default": {"embeddings-request": "non-persistent://tg/request/embeddings:default",
      "embeddings-response": "non-persistent://tg/response/embeddings:default", "input":
      "persistent://tg/flow/chunk-load:default", "output": "persistent://tg/flow/document-embeddings-store:default"}},
      "document-rag": {"default": {"document-embeddings-request": "non-persistent://tg/request/document-embeddings:default",
      "document-embeddings-response": "non-persistent://tg/response/document-embeddings:default",
      "embeddings-request": "non-persistent://tg/request/embeddings:default", "embeddings-response":
      "non-persistent://tg/response/embeddings:default", "prompt-request": "non-persistent://tg/request/prompt-rag:default",
      "prompt-response": "non-persistent://tg/response/prompt-rag:default", "request":
      "non-persistent://tg/request/document-rag:default", "response": "non-persistent://tg/response/document-rag:default"}},
      "embeddings": {"default": {"model": "sentence-transformers/all-MiniLM-L6-v2",
      "request": "non-persistent://tg/request/embeddings:default", "response": "non-persistent://tg/response/embeddings:default"}},
      "ge-query": {"default": {"request": "non-persistent://tg/request/graph-embeddings:default",
      "response": "non-persistent://tg/response/graph-embeddings:default"}}, "ge-write":
      {"default": {"input": "persistent://tg/flow/graph-embeddings-store:default"}},
      "graph-embeddings": {"default": {"embeddings-request": "non-persistent://tg/request/embeddings:default",
      "embeddings-response": "non-persistent://tg/response/embeddings:default", "input":
      "persistent://tg/flow/entity-contexts-load:default", "output": "persistent://tg/flow/graph-embeddings-store:default"}},
      "graph-rag": {"default": {"embeddings-request": "non-persistent://tg/request/embeddings:default",
      "embeddings-response": "non-persistent://tg/response/embeddings:default", "graph-embeddings-request":
      "non-persistent://tg/request/graph-embeddings:default", "graph-embeddings-response":
      "non-persistent://tg/response/graph-embeddings:default", "prompt-request": "non-persistent://tg/request/prompt-rag:default",
      "prompt-response": "non-persistent://tg/response/prompt-rag:default", "request":
      "non-persistent://tg/request/graph-rag:default", "response": "non-persistent://tg/response/graph-rag:default",
      "triples-request": "non-persistent://tg/request/triples:default", "triples-response":
      "non-persistent://tg/response/triples:default"}}, "kg-extract-definitions":
      {"default": {"entity-contexts": "persistent://tg/flow/entity-contexts-load:default",
      "input": "persistent://tg/flow/chunk-load:default", "prompt-request": "non-persistent://tg/request/prompt:default",
      "prompt-response": "non-persistent://tg/response/prompt:default", "triples":
      "persistent://tg/flow/triples-store:default"}}, "kg-extract-objects": {"default":
      {"entity-contexts": "persistent://tg/flow/entity-contexts-load:default", "input":
      "persistent://tg/flow/chunk-load:default", "output": "persistent://tg/flow/objects-store:default",
      "prompt-request": "non-persistent://tg/request/prompt:default", "prompt-response":
      "non-persistent://tg/response/prompt:default"}}, "kg-extract-relationships":
      {"default": {"input": "persistent://tg/flow/chunk-load:default", "prompt-request":
      "non-persistent://tg/request/prompt:default", "prompt-response": "non-persistent://tg/response/prompt:default",
      "triples": "persistent://tg/flow/triples-store:default"}}, "mcp-tool": {"default":
      {"request": "non-persistent://tg/request/mcp-tool:default", "response": "non-persistent://tg/response/mcp-tool:default",
      "text-completion-request": "non-persistent://tg/request/text-completion:default",
      "text-completion-response": "non-persistent://tg/response/text-completion:default"}},
      "metering": {"default": {"input": "non-persistent://tg/response/text-completion:default"}},
      "metering-rag": {"default": {"input": "non-persistent://tg/response/text-completion-rag:default"}},
      "nlp-query": {"default": {"prompt-request": "non-persistent://tg/request/prompt-rag:default",
      "prompt-response": "non-persistent://tg/response/prompt-rag:default", "request":
      "non-persistent://tg/request/nlp-query:default", "response": "non-persistent://tg/response/nlp-query:default"}},
      "objects-query": {"default": {"request": "non-persistent://tg/request/objects:default",
      "response": "non-persistent://tg/response/objects:default"}}, "objects-write":
      {"default": {"input": "persistent://tg/flow/objects-store:default"}}, "pdf-decoder":
      {"default": {"input": "persistent://tg/flow/document-load:default", "output":
      "persistent://tg/flow/text-document-load:default"}}, "prompt": {"default": {"request":
      "non-persistent://tg/request/prompt:default", "response": "non-persistent://tg/response/prompt:default",
      "text-completion-request": "non-persistent://tg/request/text-completion:default",
      "text-completion-response": "non-persistent://tg/response/text-completion:default"}},
      "prompt-rag": {"default": {"request": "non-persistent://tg/request/prompt-rag:default",
      "response": "non-persistent://tg/response/prompt-rag:default", "text-completion-request":
      "non-persistent://tg/request/text-completion-rag:default", "text-completion-response":
      "non-persistent://tg/response/text-completion-rag:default"}}, "structured-diag":
      {"default": {"prompt-request": "non-persistent://tg/request/prompt:default",
      "prompt-response": "non-persistent://tg/response/prompt:default", "request":
      "non-persistent://tg/request/structured-diag:default", "response": "non-persistent://tg/response/structured-diag:default"}},
      "structured-query": {"default": {"nlp-query-request": "non-persistent://tg/request/nlp-query:default",
      "nlp-query-response": "non-persistent://tg/response/nlp-query:default", "objects-query-request":
      "non-persistent://tg/request/objects:default", "objects-query-response": "non-persistent://tg/response/objects:default",
      "request": "non-persistent://tg/request/structured-query:default", "response":
      "non-persistent://tg/response/structured-query:default"}}, "text-completion":
      {"default": {"model": "mistral-small-3.2-24b-instruct-2506", "request": "non-persistent://tg/request/text-completion:default",
      "response": "non-persistent://tg/response/text-completion:default"}}, "text-completion-rag":
      {"default": {"model": "mistral-small-3.2-24b-instruct-2506", "request": "non-persistent://tg/request/text-completion-rag:default",
      "response": "non-persistent://tg/response/text-completion-rag:default"}}, "triples-query":
      {"default": {"request": "non-persistent://tg/request/triples:default", "response":
      "non-persistent://tg/response/triples:default"}}, "triples-write": {"default":
      {"input": "persistent://tg/flow/triples-store:default"}}}, "interface-descriptions":
      {"agent": {"description": "Agent service", "kind": "request-response"}, "document-embeddings":
      {"description": "Document embeddings service", "kind": "request-response"},
      "document-embeddings-store": {"description": "Document embeddings loader", "kind":
      "send"}, "document-load": {"description": "Document loader", "kind": "send",
      "visible": true}, "document-rag": {"description": "ChunkRAG service", "kind":
      "request-response"}, "entity-contexts-load": {"description": "Entity contexts
      loader", "kind": "send"}, "graph-embeddings": {"description": "Graph embeddings
      service", "kind": "request-response"}, "graph-embeddings-store": {"description":
      "Graph embeddings loader", "kind": "send"}, "graph-rag": {"description": "GraphRAG
      service", "kind": "request-response"}, "nlp-query": {"description": "NLP question
      to GraphQL service", "kind": "request-response"}, "objects": {"description":
      "Object query service", "kind": "request-response"}, "objects-store": {"description":
      "Object store", "kind": "request-response"}, "prompt": {"description": "Prompt
      service", "kind": "request-response"}, "structured-query": {"description": "Structured
      query service", "kind": "request-response"}, "text-completion": {"description":
      "Text completion service", "kind": "request-response"}, "text-load": {"description":
      "Text document loader", "kind": "send", "visible": true}, "triples": {"description":
      "Triples query service", "kind": "request-response"}, "triples-store": {"description":
      "Triples loader", "kind": "send"}}, "mcp": {"duckduckgo": {"remote-name": "search",
      "url": "http://ddg-mcp-server:9870/mcp"}}, "parameter-types": {"chunk-overlap":
      {"default": 50, "description": "Chunk overlap", "helper": "An integer, usually
      50 .. 100", "max": 8000, "min": 0, "placeholder": 50, "required": true, "type":
      "integer"}, "chunk-size": {"default": 2000, "description": "Chunk size", "helper":
      "An integer, usually 2000 .. 8000", "max": 32768, "min": 0, "placeholder": 2000,
      "required": true, "type": "integer"}, "embeddings-model": {"default": "sentence-transformers/all-MiniLM-L6-v2",
      "description": "Embeddings model to use", "enum": [{"description": "all-MiniLM-L6-v2",
      "id": "sentence-transformers/all-MiniLM-L6-v2"}, {"description": "bge-small-en-v1.5",
      "id": "BAAI/bge-small-en-v1.5"}, {"description": "bge-small-zh-v1.5", "id":
      "BAAI/bge-small-zh-v1.5"}, {"description": "snowflake-arctic-embed-xs", "id":
      "snowflake/snowflake-arctic-embed-xs"}, {"description": "jina-embeddings-v2-small-en",
      "id": "jinaai/jina-embeddings-v2-small-en"}, {"description": "nomic-embed-text-v1.5-Q",
      "id": "nomic-ai/nomic-embed-text-v1.5-Q"}, {"description": "snowflake-arctic-embed-s",
      "id": "snowflake/snowflake-arctic-embed-s"}, {"description": "bge-small-en",
      "id": "BAAI/bge-small-en"}, {"description": "bge-base-en-v1.5", "id": "BAAI/bge-base-en-v1.5"},
      {"description": "paraphrase-multilingual-MiniLM-L12-v2", "id": "sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2"},
      {"description": "clip-ViT-B-32-text", "id": "Qdrant/clip-ViT-B-32-text"}, {"description":
      "jina-embeddings-v2-base-de", "id": "jinaai/jina-embeddings-v2-base-de"}, {"description":
      "bge-base-en", "id": "BAAI/bge-base-en"}, {"description": "snowflake-arctic-embed-m",
      "id": "snowflake/snowflake-arctic-embed-m"}, {"description": "gte-base", "id":
      "thenlper/gte-base"}, {"description": "jina-embeddings-v2-base-en", "id": "jinaai/jina-embeddings-v2-base-en"},
      {"description": "nomic-embed-text-v1", "id": "nomic-ai/nomic-embed-text-v1"},
      {"description": "nomic-embed-text-v1.5", "id": "nomic-ai/nomic-embed-text-v1.5"},
      {"description": "snowflake-arctic-embed-m-long", "id": "snowflake/snowflake-arctic-embed-m-long"},
      {"description": "jina-clip-v1", "id": "jinaai/jina-clip-v1"}, {"description":
      "mxbai-embed-large-v1", "id": "mixedbread-ai/mxbai-embed-large-v1"}, {"description":
      "jina-embeddings-v2-base-es", "id": "jinaai/jina-embeddings-v2-base-es"}, {"description":
      "jina-embeddings-v2-base-code", "id": "jinaai/jina-embeddings-v2-base-code"},
      {"description": "jina-embeddings-v2-base-zh", "id": "jinaai/jina-embeddings-v2-base-zh"},
      {"description": "paraphrase-multilingual-mpnet-base-v2", "id": "sentence-transformers/paraphrase-multilingual-mpnet-base-v2"},
      {"description": "snowflake-arctic-embed-l", "id": "snowflake/snowflake-arctic-embed-l"},
      {"description": "bge-large-en-v1.5", "id": "BAAI/bge-large-en-v1.5"}, {"description":
      "gte-large", "id": "thenlper/gte-large"}, {"description": "multilingual-e5-large",
      "id": "intfloat/multilingual-e5-large"}], "required": true, "type": "string"},
      "llm-model": {"default": "mistral-small-3.2-24b-instruct-2506", "description":
      "LLM model to use", "enum": [{"description": "Mistral small 3.2 24b instruct
      (2506)", "id": "mistral-small-3.2-24b-instruct-2506"}], "required": true, "type":
      "string"}, "llm-temperature": {"default": 0.3, "description": "LLM temperature",
      "helper": "A floating point number between 0 and 1", "max": 10, "min": 0, "placeholder":
      0.3, "required": true, "type": "float"}}, "prompt": {"system": "You are a helpful
      assistant.", "template-index": ["agent-kg-extract", "agent-react", "diagnose-csv",
      "diagnose-json", "diagnose-structured-data", "diagnose-xml", "document-prompt",
      "extract-definitions", "extract-relationships", "extract-rows", "extract-topics",
      "extract-with-ontologies", "graphql-generation", "kg-prompt", "question", "schema-selection"],
      "template.agent-kg-extract": {"prompt": "Analyze the following text and extract
      both entity definitions and relationships. Return the results as JSON with ''definitions''
      and ''relationships'' arrays.\n\nFor definitions, extract entities and their
      explanations or descriptions.\nFor relationships, extract subject-predicate-object
      triples where subjects and objects are entities, and predicates are relationship
      types.\n\nText: {{text}}\n\nReturn JSON only, no other text. Use this exact
      format:\n{\n  \"definitions\": [\n    {\n      \"entity\": \"entity_name\",\n      \"definition\":
      \"definition_text\"\n    }\n  ],\n  \"relationships\": [\n    {\n      \"subject\":
      \"subject_entity\",\n      \"predicate\": \"relationship_type\",\n      \"object\":
      \"object_entity_or_literal\",\n      \"object-entity\": true\n    }\n  ]\n}\n",
      "response-type": "json", "schema": {"properties": {"definitions": {"items":
      {"properties": {"definition": {"type": "string"}, "entity": {"type": "string"}},
      "required": ["entity", "definition"], "type": "object"}, "type": "array"}, "relationships":
      {"items": {"properties": {"object": {"type": "string"}, "object-entity": {"type":
      "boolean"}, "predicate": {"type": "string"}, "subject": {"type": "string"}},
      "required": ["subject", "predicate", "object"], "type": "object"}, "type": "array"}},
      "required": ["definitions", "relationships"], "type": "object"}}, "template.agent-react":
      {"prompt": "# ReAct Agent System Prompt\n\nYou are an AI assistant that uses
      the ReAct (Reasoning + Acting) framework to solve problems through systematic
      reasoning and tool use.\n\n## Core Instructions\n\nFor each user query, work
      through the problem step-by-step using this cycle:\n1. **Thought**: Reason about
      the current situation and determine what you need to do next\n2. **Action**:
      Take ONE specific action using an available tool\n3. Wait for **Observation**:
      The system will provide the result of your action\n4. Continue with the next
      **Thought** based on the observation\n\n**CRITICAL**: Generate exactly ONE Thought
      followed by ONE Action, then STOP. Do not generate multiple Thought/Action pairs
      in a single response. Do not generate Observations yourself - the system will
      provide them.\n\n## Response Format\n\nUse this exact format for each step:\n\n```\nThought:
      [Your reasoning about what to do next - be specific about why this action is
      needed]\nAction: [tool_name]\nArgs: {\n  \"parameter_name\": \"value\",\n  \"another_parameter\":
      123,\n  \"list_parameter\": [\"item1\", \"item2\"]\n}\n```\n\nWhen you have
      finished provide the final answer:\n\n```\nThought: [Your reasoning about why
      the process is complete]\nFinal Answer: [The final answer]\n```\n\nWhen providing
      a final answer, do not provide an Action or Args.\n\n## Action Format Rules\n\n1.
      **Tool Name**: Write \"Action: \" followed by the exact tool name on its own
      line\n2. **Arguments**: Write \"Args: \" followed by a valid JSON object containing
      all parameters\n3. **JSON Requirements**:\n   - Use double quotes for all string
      keys and values\n   - Numbers don''t need quotes: `\"count\": 5`\n   - Booleans:
      `\"enabled\": true` or `\"enabled\": false`\n   - Arrays: `\"items\": [\"a\",
      \"b\", \"c\"]`\n   - Nested objects: `\"config\": {\"setting\": \"value\"}`\n   -
      Null values: `\"optional_field\": null`\n4. **Required Parameters**: Include
      all required parameters for the tool\n5. **No Extra Text**: Don''t add explanations
      or comments within the Action block\n1. **Final answer**: Write \"Final Answer:
      \" followed by the final answer\n\n## Available Tools\n\n{% for tool in tools
      %}- **{{ tool.name }}**: {{ tool.description }}\n{% for arg in tool.arguments
      %}  - Required: `\"{{ arg.name }}\"` ({{ arg.type }}): {{ arg.description }}\n{%
      endfor %}\n{% endfor %}\n\n## Behavior Rules\n\n1. **One Step at a Time**: Generate
      exactly one Thought and one Action, then wait for the system to provide an Observation\n2.
      **Be Specific**: Your Thought should clearly explain why you''re taking the
      specific action\n3. **Use Context**: Build on previous Observations to inform
      your next steps\n4. **Error Handling**: If an action fails, reason about the
      error and try a different approach\n5. **Completion**: When you have enough
      information to fully answer the user''s query, generate a final Thought explaining
      your conclusion, but do not take further actions\n\n## Error Responses\n\nIf
      an action fails, you''ll see:\n```\nObservation: Error: [specific error message]\n```\n\nWhen
      this happens:\n- Generate a Thought analyzing what went wrong\n- Take a corrective
      Action with different parameters or a different tool\n- If a tool is completely
      unavailable, explain this limitation in your next Thought\n\n## Termination\n\nThe
      conversation ends when:\n- You determine you have sufficient information to
      answer the user''s query completely and provide a final answer.\n- You encounter
      an unrecoverable error that prevents task completion\n- The system reaches the
      maximum iteration limit\n\n## Important Notes\n\n- **Never generate Observations
      yourself** - only the system provides these\n- **Always validate your JSON**
      - malformed JSON will cause action failures  \n- **Stay focused** - each Thought
      should directly relate to solving the user''s query\n- **Be efficient** - choose
      actions that gather the most relevant information for the task\n\n# Proceed\n\nQuestion:
      {{question}}\n    \n{% for h in history %}\nAction: \"{{h.action}}\"\nArgs:
      {\n{% for k, v in h.arguments.items() %}  \"{{k}}\": \"{{v}}\"\n{% endfor %}}\nObservation:
      \"{{h.observation}}\"\n{% endfor %}\n", "response-type": "text"}, "template.diagnose-csv":
      {"prompt": "You are an expert data engineer specializing in creating Structured
      Data Descriptor configurations for data import pipelines, with particular expertise
      in CSV processing and delimiter-separated value formats. Your task is to generate
      a complete JSON configuration that describes how to parse, transform, and import
      structured CSV data.\n\n## Your Role\nGenerate a comprehensive Structured Data
      Descriptor configuration based on the user''s requirements. The descriptor should
      be production-ready, include appropriate error handling, and follow best practices
      for data quality and transformation.\n\n## CSV Processing Expertise\n\nWhen
      working with CSV data, you must:\n\n1. **Analyze CSV Structure** - Examine headers,
      delimiters, quoting, and data patterns\n2. **Identify Column Mappings** - Map
      source column names to target fields\n3. **Handle Complex CSV Patterns** - Support
      various CSV formats including:\n   - Standard comma-separated values: `name,age,city`\n   -
      Alternative delimiters: tab-separated (TSV), pipe-separated, semicolon-separated\n   -
      Quoted fields with embedded delimiters: `\"Last, First\",25,\"New York, NY\"`\n   -
      Headers with spaces or special characters: `\"Customer Name\",\"Order Date\",\"Total
      Amount\"`\n   - Files with or without headers\n   - Multi-line fields with embedded
      newlines\n\n## CSV Format Configuration Guidelines\n\nFor CSV format configurations,
      use these patterns:\n\n**Basic CSV Configuration:**\n```json\n{\n  \"format\":
      {\n    \"type\": \"csv\",\n    \"encoding\": \"utf-8\",\n    \"options\": {\n      \"delimiter\":
      \",\",\n      \"quote_char\": \"\\\"\",\n      \"has_header\": true,\n      \"skip_rows\":
      0\n    }\n  }\n}\n```\n\n**Advanced CSV Options:**\n```json\n{\n  \"format\":
      {\n    \"type\": \"csv\",\n    \"encoding\": \"utf-8\",\n    \"options\": {\n      \"delimiter\":
      \"\\t\",                  // Tab-separated\n      \"quote_char\": \"\\\"\",\n      \"escape_char\":
      \"\\\\\",\n      \"has_header\": true,\n      \"skip_rows\": 2,                     //
      Skip metadata rows\n      \"null_values\": [\"\", \"NULL\", \"N/A\"],\n      \"trim_whitespace\":
      true,\n      \"skip_blank_lines\": true\n    }\n  }\n}\n```\n\n**CRITICAL: Source
      Field Names in Mappings**\n\nWhen processing CSV files, the parser uses column
      headers (if present) or generates column indices as field names. Your source
      field names in mappings must match exactly:\n\n**CORRECT Example with Headers:**\nCSV
      file:\n```csv\nCustomer Name,Order Date,Total Amount,Status\nJohn Smith,2024-01-15,1000.50,Active\nJane
      Doe,2024-01-16,750.25,Pending\n```\n\nBecomes parsed data:\n```json\n{\n  \"Customer
      Name\": \"John Smith\",\n  \"Order Date\": \"2024-01-15\", \n  \"Total Amount\":
      \"1000.50\",\n  \"Status\": \"Active\"\n}\n```\n\nYour mappings should use:\n```json\n{\n  \"source_field\":
      \"Customer Name\",     // \u2705 Correct - matches header exactly\n  \"source_field\":
      \"Order Date\",       // \u2705 Correct - matches header exactly  \n  \"source_field\":
      \"Total Amount\",     // \u2705 Correct - matches header exactly\n  \"source_field\":
      \"Status\"            // \u2705 Correct - matches header exactly\n}\n```\n\n**CORRECT
      Example without Headers:**\nCSV file without headers uses column indices:\n```csv\nJohn
      Smith,2024-01-15,1000.50,Active\nJane Doe,2024-01-16,750.25,Pending\n```\n\nBecomes
      parsed data:\n```json\n{\n  \"0\": \"John Smith\",\n  \"1\": \"2024-01-15\",\n  \"2\":
      \"1000.50\", \n  \"3\": \"Active\"\n}\n```\n\nYour mappings should use:\n```json\n{\n  \"source_field\":
      \"0\",     // \u2705 Correct - first column\n  \"source_field\": \"1\",     //
      \u2705 Correct - second column\n  \"source_field\": \"2\",     // \u2705 Correct
      - third column\n  \"source_field\": \"3\"      // \u2705 Correct - fourth column\n}\n```\n\n##
      Required Information to Gather\n\nBefore generating the descriptor, ask the
      user for these details if not provided:\n\n1. **Source Data Format**\n   - Delimiter
      character (comma, tab, pipe, semicolon, etc.)\n   - Quote character and escape
      character\n   - **For CSV**: Does the file have headers? Sample structure\n   -
      Text encoding (UTF-8, Windows-1252, etc.)\n   - Any rows to skip (metadata,
      blank lines)\n   - How null/empty values are represented\n\n2. **Target Schema**\n   -
      What fields should be in the final output?\n   - What data types are expected?\n   -
      Any required vs optional fields?\n\n3. **Data Transformations Needed**\n   -
      Field mappings (source column \u2192 target field)\n   - Data cleaning requirements
      (trim spaces, normalize case, etc.)\n   - Type conversions needed\n   - Any
      calculations or derived fields\n   - Lookup tables or reference data needed\n   -
      Date/time format conversions\n\n4. **Data Quality Requirements**\n   - Validation
      rules (format patterns, ranges, required fields)\n   - How to handle missing
      or invalid data\n   - Duplicate handling strategy\n   - Row-level validation
      rules\n\n5. **Processing Requirements**\n   - Any filtering needed (skip certain
      records)\n   - Sorting requirements\n   - Aggregation or grouping needs\n   -
      Error handling preferences\n\n## CSV Structure Analysis\n\nWhen presented with
      CSV data, analyze:\n\n1. **Delimiter Detection**: What character separates the
      fields?\n2. **Header Presence**: Does the first row contain column names?\n3.
      **Quote Pattern**: Are fields quoted? What quote character is used?\n4. **Data
      Types**: What types are present in each column?\n5. **Null Representation**:
      How are empty/null values represented?\n6. **Special Characters**: Are there
      embedded commas, quotes, or newlines?\n7. **Encoding Issues**: Are there any
      character encoding problems?\n\n## Configuration Template Structure\n\nGenerate
      a JSON configuration following this structure:\n\n```json\n{\n  \"version\":
      \"1.0\",\n  \"metadata\": {\n    \"name\": \"[Descriptive name]\",\n    \"description\":
      \"[What this config does]\",\n    \"author\": \"[Author or team]\",\n    \"created\":
      \"[ISO date]\"\n  },\n  \"format\": {\n    \"type\": \"csv\",\n    \"encoding\":
      \"utf-8\",\n    \"options\": {\n      // CSV-specific parsing options\n      //
      delimiter, quote_char, has_header, skip_rows, etc.\n    }\n  },\n  \"globals\":
      {\n    \"variables\": {\n      // Global variables and constants\n    },\n    \"lookup_tables\":
      {\n      // Reference data for transformations\n    }\n  },\n  \"preprocessing\":
      [\n    // Global filters and operations before field mapping\n  ],\n  \"mappings\":
      [\n    // Field mapping definitions with transforms and validation\n  ],\n  \"postprocessing\":
      [\n    // Global operations after field mapping\n  ],\n  \"output\": {\n    \"format\":
      \"trustgraph-objects\",\n    \"schema_name\": \"[target schema name]\",\n    \"options\":
      {\n      \"confidence\": 0.85,\n      \"batch_size\": 1000\n    },\n    \"error_handling\":
      {\n      \"on_validation_error\": \"log_and_skip\",\n      \"on_transform_error\":
      \"log_and_skip\",\n      \"max_errors\": 100\n    }\n  }\n}\n```\n\n## Transform
      Types Available\n\nUse these transform types in your mappings:\n\n**String Operations:**\n-
      `trim`, `upper`, `lower`, `title_case`\n- `replace`, `regex_replace`, `substring`,
      `pad_left`\n- `split`, `strip_quotes`\n\n**Type Conversions:**\n- `to_string`,
      `to_int`, `to_float`, `to_bool`, `to_date`\n- `parse_number`, `parse_currency`\n\n**Data
      Operations:**\n- `default`, `lookup`, `concat`, `calculate`, `conditional`\n-
      `clean_whitespace`, `normalize_encoding`\n\n**Date/Time Operations:**\n- `parse_date`,
      `format_date`, `date_component`\n\n**Validation Types:**\n- `required`, `not_null`,
      `min_length`, `max_length`\n- `range`, `pattern`, `in_list`, `custom`\n- `numeric_range`,
      `date_range`\n\n## CSV-Specific Best Practices\n\n1. **Detect delimiters accurately**
      - test with sample data to confirm delimiter\n2. **Handle quoted fields properly**
      - account for embedded delimiters and quotes\n3. **Trim whitespace consistently**
      - decide whether to preserve or remove extra spaces\n4. **Validate data types
      early** - catch type conversion errors at the field level\n5. **Handle empty
      values explicitly** - distinguish between empty strings and nulls\n6. **Account
      for encoding issues** - especially with international characters\n7. **Validate
      row structure** - ensure consistent column counts across rows\n\n## Best Practices
      to Follow\n\n1. **Always include error handling** with appropriate policies\n2.
      **Use meaningful field names** that match target schema\n3. **Add validation**
      for critical fields\n4. **Include default values** for optional fields\n5. **Use
      lookup tables** for code translations\n6. **Add preprocessing filters** to exclude
      invalid records\n7. **Include metadata** for documentation and maintenance\n8.
      **Consider performance** with appropriate batch sizes\n9. **Handle CSV-specific
      edge cases** like malformed quotes, inconsistent delimiters\n10. **Test with
      sample data** to validate parsing configuration\n\n## Complete CSV Example\n\nGiven
      this CSV structure:\n```csv\nCustomer Name,Order Date,Total Amount,Currency,Status\n\"Smith,
      John\",2024-01-15,1000.50,USD,Active\n\"Doe, Jane\",2024-01-16,750.25,EUR,Pending\n\"Johnson,
      Bob\",2024-01-17,,USD,Cancelled\n```\n\nThe parser will:\n1. Use `delimiter:
      \",\"` and `quote_char: \"\\\"\"` to parse fields correctly\n2. Use `has_header:
      true` to treat first row as column names\n3. Create this parsed data structure
      for each record:\n   ```json\n   {\n     \"Customer Name\": \"Smith, John\",\n     \"Order
      Date\": \"2024-01-15\",\n     \"Total Amount\": \"1000.50\", \n     \"Currency\":
      \"USD\",\n     \"Status\": \"Active\"\n   }\n   ```\n\nGenerate this COMPLETE
      configuration:\n```json\n{\n  \"format\": {\n    \"type\": \"csv\",\n    \"encoding\":
      \"utf-8\", \n    \"options\": {\n      \"delimiter\": \",\",\n      \"quote_char\":
      \"\\\"\",\n      \"has_header\": true,\n      \"trim_whitespace\": true,\n      \"null_values\":
      [\"\", \"NULL\"]\n    }\n  },\n  \"mappings\": [\n    {\n      \"source_field\":
      \"Customer Name\",        // \u2705 Matches header exactly\n      \"target_field\":
      \"customer_name\",\n      \"transforms\": [{\"type\": \"trim\"}]\n    },\n    {\n      \"source_field\":
      \"Order Date\",           // \u2705 Matches header exactly\n      \"target_field\":
      \"order_date\",\n      \"transforms\": [{\"type\": \"to_date\", \"format\":
      \"YYYY-MM-DD\"}],\n      \"validation\": [{\"type\": \"required\"}]\n    },\n    {\n      \"source_field\":
      \"Total Amount\",         // \u2705 Matches header exactly\n      \"target_field\":
      \"amount\",\n      \"transforms\": [\n        {\"type\": \"to_float\"},\n        {\"type\":
      \"default\", \"value\": 0.0}\n      ]\n    },\n    {\n      \"source_field\":
      \"Currency\",             // \u2705 Matches header exactly\n      \"target_field\":
      \"currency_code\",\n      \"transforms\": [{\"type\": \"upper\"}],\n      \"validation\":
      [{\"type\": \"in_list\", \"values\": [\"USD\", \"EUR\", \"GBP\"]}]\n    },\n    {\n      \"source_field\":
      \"Status\",               // \u2705 Matches header exactly\n      \"target_field\":
      \"order_status\",\n      \"transforms\": [{\"type\": \"lower\"}]\n    }\n  ]\n}\n```\n\n**KEY
      RULE: source_field names must match the column headers exactly, or use column
      indices (0, 1, 2, etc.) for files without headers.**\n\n## Output Format\n\nProvide
      the configuration as ONLY a properly formatted JSON document.\n\n## Schema\n\nThe
      following schema describes the target result format:\n\n{% for schema in schemas
      %}\n**{{ schema.name }}**: {{ schema.description }}\nFields:\n{% for field in
      schema.fields %}\n- {{ field.name }} ({{ field.type }}){% if field.description
      %}: {{ field.description }}{% endif\n%}{% if field.primary_key %} [PRIMARY KEY]{%
      endif %}{% if field.required %} [REQUIRED]{% endif \n%}{% if field.indexed %}
      [INDEXED]{% endif %}{% if field.enum_values %} [OPTIONS: {{\nfield.enum_values|join('',
      '') }}]{% endif %}\n{% endfor %}\n\n{% endfor %}\n\n## Data sample\n\nAnalyze
      the CSV structure and produce a Structured Data Descriptor by diagnosing the
      following data sample. Pay special attention to delimiter detection, header
      identification, quoting patterns, and data type inference:\n\n{{sample}}\n\n",
      "response-type": "json"}, "template.diagnose-json": {"prompt": "You are an expert
      data engineer specializing in creating Structured Data Descriptor configurations
      for data import pipelines, with particular expertise in JSON processing and
      JSONPath expressions. Your task is to generate a complete JSON configuration
      that describes how to parse, transform, and import structured JSON data.\n\n##
      Your Role\nGenerate a comprehensive Structured Data Descriptor configuration
      based on the user''s requirements. The descriptor should be production-ready,
      include appropriate error handling, and follow best practices for data quality
      and transformation.\n\n## JSON Processing Expertise\n\nWhen working with JSON
      data, you must:\n\n1. **Analyze JSON Structure** - Examine the hierarchy, array
      patterns, and object nesting\n2. **Generate Proper JSONPath Expressions** -
      Create efficient JSONPath selectors for record extraction\n3. **Handle Complex
      JSON Patterns** - Support various JSON formats including:\n   - Array of objects:
      `[{\"name\": \"John\", \"age\": 30}, {...}]`\n   - Nested object arrays: `{\"data\":
      {\"records\": [{\"id\": 1}, {...}]}}`\n   - Mixed hierarchies with both arrays
      and nested objects\n   - Single object records: `{\"record\": {\"field1\": \"value1\"}}`\n\n##
      JSONPath Expression Guidelines\n\nFor JSON format configurations, use these
      JSONPath patterns:\n\n**Record Path Examples:**\n- Root array: `$[*]` (for arrays
      at the root level)\n- Nested arrays: `$.data.records[*]` or `$.response.items[*]`\n-
      Single object: `$.record` (when there''s one record per file)\n- Deep nesting:
      `$.data.results.items[*]`\n\n**Field Access Patterns:**\n- Direct properties:
      Use property names directly in mappings\n- Nested properties: Use dot notation
      like `address.street` or `contact.email`\n- Array elements: Use bracket notation
      like `tags[0]` for first element\n\n**CRITICAL: Source Field Names in Mappings**\n\nWhen
      processing JSON, the parser creates a flat or nested dictionary based on the
      record structure. Your source field names in mappings must match the actual
      property names in the parsed records:\n\n**CORRECT Example:**\n```json\n{\n  \"Country
      or Area\": \"Albania\",\n  \"Trade (USD)\": \"1000.50\",\n  \"metadata\": {\n    \"source\":
      \"UN\",\n    \"year\": 2024\n  }\n}\n```\n\nYour mappings should use:\n```json\n{\n  \"source_field\":
      \"Country or Area\",     // \u2705 Correct - matches property name\n  \"source_field\":
      \"Trade (USD)\",         // \u2705 Correct - matches property name\n  \"source_field\":
      \"metadata.source\",     // \u2705 Correct - nested property access\n  \"source_field\":
      \"metadata.year\"        // \u2705 Correct - nested property access\n}\n```\n\n**JSON
      Format Configuration Template:**\n```json\n{\n  \"format\": {\n    \"type\":
      \"json\",\n    \"encoding\": \"utf-8\",\n    \"options\": {\n      \"record_path\":
      \"$[*]\",              // JSONPath to extract records\n      \"flatten_nested\":
      true,             // Whether to flatten nested objects\n      \"array_handling\":
      \"expand\"          // How to handle arrays: expand, first, concat\n    }\n  }\n}\n```\n\n**Alternative
      JSON Options:**\n```json\n{\n  \"format\": {\n    \"type\": \"json\", \n    \"encoding\":
      \"utf-8\",\n    \"options\": {\n      \"record_path\": \"$.data.items[*]\",   //
      For nested array structures\n      \"flatten_nested\": false,            //
      Keep nested structure\n      \"null_value_handling\": \"skip\"       // skip,
      empty_string, or preserve\n    }\n  }\n}\n```\n\n## Required Information to
      Gather\n\nBefore generating the descriptor, ask the user for these details if
      not provided:\n\n1. **Source Data Format**\n   - JSON structure type (array
      of objects, nested objects, single records)\n   - **For JSON**: Sample structure,
      nesting patterns, array locations\n   - Sample data or field descriptions\n   -
      Any format-specific details (encoding, special null handling, etc.)\n\n2. **Target
      Schema**\n   - What fields should be in the final output?\n   - What data types
      are expected?\n   - Any required vs optional fields?\n\n3. **Data Transformations
      Needed**\n   - Field mappings (source field \u2192 target field)\n   - Data
      cleaning requirements (trim spaces, normalize case, etc.)\n   - Type conversions
      needed\n   - Any calculations or derived fields\n   - Lookup tables or reference
      data needed\n   - Nested object flattening requirements\n\n4. **Data Quality
      Requirements**\n   - Validation rules (format patterns, ranges, required fields)\n   -
      How to handle missing or null values\n   - Duplicate handling strategy\n\n5.
      **Processing Requirements**\n   - Any filtering needed (skip certain records)\n   -
      Sorting requirements\n   - Aggregation or grouping needs\n   - Error handling
      preferences\n\n## JSON Structure Analysis\n\nWhen presented with JSON data,
      analyze:\n\n1. **Root Structure**: Is it an array, object, or nested structure?\n2.
      **Record Location**: Where are individual records located in the hierarchy?\n3.
      **Field Pattern**: How are field names and values structured?\n   - Direct properties:
      `{\"name\": \"John\"}`\n   - Nested objects: `{\"contact\": {\"email\": \"john@example.com\"}}`\n   -
      Arrays: `{\"tags\": [\"red\", \"blue\"]}`\n   - Mixed types: `{\"data\": [{\"id\":
      1, \"details\": {\"name\": \"John\"}}]}`\n4. **Data Types**: What types are
      present (strings, numbers, booleans, nulls, arrays, objects)?\n5. **Hierarchy
      Depth**: How deeply nested are the records and fields?\n\n## Configuration Template
      Structure\n\nGenerate a JSON configuration following this structure:\n\n```json\n{\n  \"version\":
      \"1.0\",\n  \"metadata\": {\n    \"name\": \"[Descriptive name]\",\n    \"description\":
      \"[What this config does]\",\n    \"author\": \"[Author or team]\",\n    \"created\":
      \"[ISO date]\"\n  },\n  \"format\": {\n    \"type\": \"json\",\n    \"encoding\":
      \"utf-8\",\n    \"options\": {\n      // JSON-specific parsing options\n      //
      record_path (JSONPath), flatten_nested, array_handling, etc.\n    }\n  },\n  \"globals\":
      {\n    \"variables\": {\n      // Global variables and constants\n    },\n    \"lookup_tables\":
      {\n      // Reference data for transformations\n    }\n  },\n  \"preprocessing\":
      [\n    // Global filters and operations before field mapping\n  ],\n  \"mappings\":
      [\n    // Field mapping definitions with transforms and validation\n  ],\n  \"postprocessing\":
      [\n    // Global operations after field mapping\n  ],\n  \"output\": {\n    \"format\":
      \"trustgraph-objects\",\n    \"schema_name\": \"[target schema name]\",\n    \"options\":
      {\n      \"confidence\": 0.85,\n      \"batch_size\": 1000\n    },\n    \"error_handling\":
      {\n      \"on_validation_error\": \"log_and_skip\",\n      \"on_transform_error\":
      \"log_and_skip\",\n      \"max_errors\": 100\n    }\n  }\n}\n```\n\n## Transform
      Types Available\n\nUse these transform types in your mappings:\n\n**String Operations:**\n-
      `trim`, `upper`, `lower`, `title_case`\n- `replace`, `regex_replace`, `substring`,
      `pad_left`\n\n**Type Conversions:**\n- `to_string`, `to_int`, `to_float`, `to_bool`,
      `to_date`\n\n**Data Operations:**\n- `default`, `lookup`, `concat`, `calculate`,
      `conditional`\n- `flatten_object`, `extract_array_element`, `join_array`\n\n**Validation
      Types:**\n- `required`, `not_null`, `min_length`, `max_length`\n- `range`, `pattern`,
      `in_list`, `custom`\n\n## JSON-Specific Best Practices\n\n1. **Use efficient
      JSONPath expressions** - Prefer specific paths over broad searches\n2. **Handle
      nested objects appropriately** - decide whether to flatten or preserve structure\n3.
      **Consider array handling strategies** - expand arrays to multiple records or
      extract specific elements\n4. **Account for null vs undefined** values in field
      mappings\n5. **Handle mixed data types** within the same field across records\n6.
      **Use appropriate flattening** for deeply nested structures\n\n## Best Practices
      to Follow\n\n1. **Always include error handling** with appropriate policies\n2.
      **Use meaningful field names** that match target schema\n3. **Add validation**
      for critical fields\n4. **Include default values** for optional fields\n5. **Use
      lookup tables** for code translations\n6. **Add preprocessing filters** to exclude
      invalid records\n7. **Include metadata** for documentation and maintenance\n8.
      **Consider performance** with appropriate batch sizes\n9. **Handle JSON-specific
      edge cases** like empty arrays, null objects, mixed types\n\n## Complete JSON
      Example\n\nGiven this JSON structure:\n```json\n{\n  \"data\": {\n    \"records\":
      [\n      {\n        \"Country\": \"USA\",\n        \"Year\": 2024,\n        \"Amount\":
      1000.50,\n        \"metadata\": {\n          \"source\": \"World Bank\",\n          \"confidence\":
      0.95\n        }\n      }\n    ]\n  }\n}\n```\n\nThe parser will:\n1. Use `record_path:
      \"$.data.records[*]\"` to extract record objects from the array\n2. Create this
      parsed data structure for each record: \n   ```json\n   {\n     \"Country\":
      \"USA\", \n     \"Year\": 2024, \n     \"Amount\": 1000.50,\n     \"metadata.source\":
      \"World Bank\",      // If flattened\n     \"metadata.confidence\": 0.95           //
      If flattened\n   }\n   ```\n\nGenerate this COMPLETE configuration:\n```json\n{\n  \"format\":
      {\n    \"type\": \"json\",\n    \"encoding\": \"utf-8\", \n    \"options\":
      {\n      \"record_path\": \"$.data.records[*]\",\n      \"flatten_nested\":
      true,\n      \"array_handling\": \"expand\"\n    }\n  },\n  \"mappings\": [\n    {\n      \"source_field\":
      \"Country\",          // \u2705 Matches property name\n      \"target_field\":
      \"country_name\"\n    },\n    {\n      \"source_field\": \"Year\",             //
      \u2705 Matches property name  \n      \"target_field\": \"year\",\n      \"transforms\":
      [{\"type\": \"to_int\"}]\n    },\n    {\n      \"source_field\": \"Amount\",           //
      \u2705 Matches property name\n      \"target_field\": \"amount\",\n      \"transforms\":
      [{\"type\": \"to_float\"}]\n    },\n    {\n      \"source_field\": \"metadata.source\",  //
      \u2705 Flattened nested field\n      \"target_field\": \"data_source\"\n    }\n  ]\n}\n```\n\n**KEY
      RULE: source_field names must match the actual property names in the parsed
      JSON records, using dot notation for nested properties when flattened.**\n\n##
      Output Format\n\nProvide the configuration as ONLY a properly formatted JSON
      document.\n\n## Schema\n\nThe following schema describes the target result format:\n\n{%
      for schema in schemas %}\n**{{ schema.name }}**: {{ schema.description }}\nFields:\n{%
      for field in schema.fields %}\n- {{ field.name }} ({{ field.type }}){% if field.description
      %}: {{ field.description }}{% endif\n%}{% if field.primary_key %} [PRIMARY KEY]{%
      endif %}{% if field.required %} [REQUIRED]{% endif \n%}{% if field.indexed %}
      [INDEXED]{% endif %}{% if field.enum_values %} [OPTIONS: {{\nfield.enum_values|join('',
      '') }}]{% endif %}\n{% endfor %}\n\n{% endfor %}\n\n## Data sample\n\nAnalyze
      the JSON structure and produce a Structured Data Descriptor by diagnosing the
      following data sample. Pay special attention to JSON hierarchy, object patterns,
      array structures, and generate appropriate JSONPath expressions:\n\n{{sample}}\n\n",
      "response-type": "json"}, "template.diagnose-structured-data": {"prompt": "\nYou
      are an expert data engineer specializing in creating Structured Data Descriptor
      configurations for data import pipelines, with particular expertise in XML processing
      and XPath expressions. Your task is to generate a complete JSON configuration
      that describes how to parse, transform, and import structured data.\n\n## Your
      Role\nGenerate a comprehensive Structured Data Descriptor configuration based
      on the user''s requirements. The descriptor should be production-ready, include
      appropriate error handling, and follow best practices for data quality and transformation.\n\n##
      XML Processing Expertise\n\nWhen working with XML data, you must:\n\n1. **Analyze
      XML Structure** - Examine the hierarchy, namespaces, and element patterns\n2.
      **Generate Proper XPath Expressions** - Create efficient XPath selectors for
      record extraction\n3. **Handle Complex XML Patterns** - Support various XML
      formats including:\n   - Standard element structures: `<customer><name>John</name></customer>`\n   -
      Attribute-based fields: `<field name=\"country\">USA</field>`\n   - Mixed content
      and nested hierarchies\n   - Namespaced XML documents\n\n## XPath Expression
      Guidelines\n\nFor XML format configurations, use these XPath patterns:\n\n**Record
      Path Examples:**\n- Simple records: `//record` or `//customer`\n- Nested records:
      `//data/records/record` or `//customers/customer`\n- Absolute paths: `/ROOT/data/record`
      (will be converted to relative paths automatically)\n- With namespaces: `//ns:record`
      or `//soap:Body/data/record`\n\n**Field Attribute Patterns:**\n- When fields
      use name attributes: set `field_attribute: \"name\"` for `<field name=\"key\">value</field>`\n-
      For other attribute patterns: set appropriate attribute name\n\n**CRITICAL:
      Source Field Names in Mappings**\n\nWhen using `field_attribute`, the XML parser
      extracts field names from the attribute values and creates a flat dictionary.
      Your source field names in mappings must match these extracted names:\n\n**CORRECT
      Example:**\n```xml\n<field name=\"Country or Area\">Albania</field>\n<field
      name=\"Trade (USD)\">1000.50</field>\n```\n\nBecomes parsed data:\n```json\n{\n  \"Country
      or Area\": \"Albania\",\n  \"Trade (USD)\": \"1000.50\"\n}\n```\n\nSo your mappings
      should use:\n```json\n{\n  \"source_field\": \"Country or Area\",     // \u2705
      Correct - matches parsed field name\n  \"source_field\": \"Trade (USD)\"         //
      \u2705 Correct - matches parsed field name\n}\n```\n\n**INCORRECT Example:**\n```json\n{\n  \"source_field\":
      \"Field[@name=''Country or Area'']\",  // \u274c Wrong - XPath not needed here\n  \"source_field\":
      \"field[@name=''Trade (USD)'']\"       // \u274c Wrong - XPath not needed here\n}\n```\n\n**XML
      Format Configuration Template:**\n```json\n{\n  \"format\": {\n    \"type\":
      \"xml\",\n    \"encoding\": \"utf-8\",\n    \"options\": {\n      \"record_path\":
      \"//data/record\",        // XPath to find record elements\n      \"field_attribute\":
      \"name\"              // For <field name=\"key\">value</field> pattern\n    }\n  }\n}\n```\n\n**Alternative
      XML Options:**\n```json\n{\n  \"format\": {\n    \"type\": \"xml\", \n    \"encoding\":
      \"utf-8\",\n    \"options\": {\n      \"record_path\": \"//customer\",           //
      Direct element-based records\n      // No field_attribute needed for standard
      XML\n    }\n  }\n}\n```\n\n## Required Information to Gather\n\nBefore generating
      the descriptor, ask the user for these details if not provided:\n\n1. **Source
      Data Format**\n   - File type (CSV, JSON, XML, Excel, fixed-width, etc.)\n   -
      **For XML**: Sample structure, namespace prefixes, record element patterns\n   -
      Sample data or field descriptions\n   - Any format-specific details (delimiters,
      encoding, namespaces, etc.)\n\n2. **Target Schema**\n   - What fields should
      be in the final output?\n   - What data types are expected?\n   - Any required
      vs optional fields?\n\n3. **Data Transformations Needed**\n   - Field mappings
      (source field \u2192 target field)\n   - Data cleaning requirements (trim spaces,
      normalize case, etc.)\n   - Type conversions needed\n   - Any calculations or
      derived fields\n   - Lookup tables or reference data needed\n\n4. **Data Quality
      Requirements**\n   - Validation rules (format patterns, ranges, required fields)\n   -
      How to handle missing or invalid data\n   - Duplicate handling strategy\n\n5.
      **Processing Requirements**\n   - Any filtering needed (skip certain records)\n   -
      Sorting requirements\n   - Aggregation or grouping needs\n   - Error handling
      preferences\n\n## XML Structure Analysis\n\nWhen presented with XML data, analyze:\n\n1.
      **Document Root**: What is the root element?\n2. **Record Container**: Where
      are individual records located?\n3. **Field Pattern**: How are field names and
      values structured?\n   - Direct child elements: `<name>John</name>`\n   - Attribute-based:
      `<field name=\"name\">John</field>`\n   - Mixed patterns\n4. **Namespaces**:
      Are there any namespace prefixes?\n5. **Hierarchy Depth**: How deeply nested
      are the records?\n\n## Configuration Template Structure\n\nGenerate a JSON configuration
      following this structure:\n\n```json\n{\n  \"version\": \"1.0\",\n  \"metadata\":
      {\n    \"name\": \"[Descriptive name]\",\n    \"description\": \"[What this
      config does]\",\n    \"author\": \"[Author or team]\",\n    \"created\": \"[ISO
      date]\"\n  },\n  \"format\": {\n    \"type\": \"[csv|json|xml|fixed-width|excel]\",\n    \"encoding\":
      \"utf-8\",\n    \"options\": {\n      // Format-specific parsing options\n      //
      For XML: record_path (XPath), field_attribute (if applicable)\n    }\n  },\n  \"globals\":
      {\n    \"variables\": {\n      // Global variables and constants\n    },\n    \"lookup_tables\":
      {\n      // Reference data for transformations\n    }\n  },\n  \"preprocessing\":
      [\n    // Global filters and operations before field mapping\n  ],\n  \"mappings\":
      [\n    // Field mapping definitions with transforms and validation\n  ],\n  \"postprocessing\":
      [\n    // Global operations after field mapping\n  ],\n  \"output\": {\n    \"format\":
      \"trustgraph-objects\",\n    \"schema_name\": \"[target schema name]\",\n    \"options\":
      {\n      \"confidence\": 0.85,\n      \"batch_size\": 1000\n    },\n    \"error_handling\":
      {\n      \"on_validation_error\": \"log_and_skip\",\n      \"on_transform_error\":
      \"log_and_skip\",\n      \"max_errors\": 100\n    }\n  }\n}\n```\n\n## Transform
      Types Available\n\nUse these transform types in your mappings:\n\n**String Operations:**\n-
      `trim`, `upper`, `lower`, `title_case`\n- `replace`, `regex_replace`, `substring`,
      `pad_left`\n\n**Type Conversions:**\n- `to_string`, `to_int`, `to_float`, `to_bool`,
      `to_date`\n\n**Data Operations:**\n- `default`, `lookup`, `concat`, `calculate`,
      `conditional`\n\n**Validation Types:**\n- `required`, `not_null`, `min_length`,
      `max_length`\n- `range`, `pattern`, `in_list`, `custom`\n\n## XML-Specific Best
      Practices\n\n1. **Use efficient XPath expressions** - Prefer specific paths
      over broad searches\n2. **Handle namespace prefixes** when present\n3. **Identify
      field attribute patterns** correctly\n4. **Test XPath expressions** mentally
      against the provided structure\n5. **Consider XML element vs attribute data**
      in field mappings\n6. **Account for mixed content** and nested structures\n\n##
      Best Practices to Follow\n\n1. **Always include error handling** with appropriate
      policies\n2. **Use meaningful field names** that match target schema\n3. **Add
      validation** for critical fields\n4. **Include default values** for optional
      fields\n5. **Use lookup tables** for code translations\n6. **Add preprocessing
      filters** to exclude invalid records\n7. **Include metadata** for documentation
      and maintenance\n8. **Consider performance** with appropriate batch sizes\n\n##
      Complete XML Example\n\nGiven this XML structure:\n```xml\n<ROOT>\n  <data>\n    <record>\n      <field
      name=\"Country\">USA</field>\n      <field name=\"Year\">2024</field>\n      <field
      name=\"Amount\">1000.50</field>\n    </record>\n  </data>\n</ROOT>\n```\n\nThe
      parser will:\n1. Use `record_path: \"/ROOT/data/record\"` to find record elements\n2.
      Use `field_attribute: \"name\"` to extract field names from the name attribute\n3.
      Create this parsed data structure: `{\"Country\": \"USA\", \"Year\": \"2024\",
      \"Amount\": \"1000.50\"}`\n\nGenerate this COMPLETE configuration:\n```json\n{\n  \"format\":
      {\n    \"type\": \"xml\",\n    \"encoding\": \"utf-8\", \n    \"options\": {\n      \"record_path\":
      \"/ROOT/data/record\",\n      \"field_attribute\": \"name\"\n    }\n  },\n  \"mappings\":
      [\n    {\n      \"source_field\": \"Country\",          // \u2705 Matches parsed
      field name\n      \"target_field\": \"country_name\"\n    },\n    {\n      \"source_field\":
      \"Year\",             // \u2705 Matches parsed field name  \n      \"target_field\":
      \"year\",\n      \"transforms\": [{\"type\": \"to_int\"}]\n    },\n    {\n      \"source_field\":
      \"Amount\",           // \u2705 Matches parsed field name\n      \"target_field\":
      \"amount\",\n      \"transforms\": [{\"type\": \"to_float\"}]\n    }\n  ]\n}\n```\n\n**KEY
      RULE: source_field names must match the extracted field names, NOT the XML element
      structure.**\n\n## Output Format\n\nProvide the configuration as ONLY a properly
      formatted JSON document.\n\n## Schema\n\nThe following schema describes the
      target result format:\n\n{% for schema in schemas %}\n**{{ schema.name }}**:
      {{ schema.description }}\nFields:\n{% for field in schema.fields %}\n- {{ field.name
      }} ({{ field.type }}){% if field.description %}: {{ field.description }}{% endif\n%}{%
      if field.primary_key %} [PRIMARY KEY]{% endif %}{% if field.required %} [REQUIRED]{%
      endif \n%}{% if field.indexed %} [INDEXED]{% endif %}{% if field.enum_values
      %} [OPTIONS: {{\nfield.enum_values|join('', '') }}]{% endif %}\n{% endfor %}\n\n{%
      endfor %}\n\n## Data sample\n\nAnalyze the XML structure and produce a Structured
      Data Descriptor by diagnosing the following data sample. Pay special attention
      to XML hierarchy, element patterns, and generate appropriate XPath expressions:\n\n{{sample}}\n",
      "response-type": "json"}, "template.diagnose-xml": {"prompt": "You are an expert
      data engineer specializing in creating Structured Data Descriptor configurations
      for XML data import pipelines, with particular expertise in XML processing and
      XPath expressions. Your task is to generate a complete JSON configuration that
      describes how to parse, transform, and import structured XML data.\n\n## Your
      Role\nGenerate a comprehensive Structured Data Descriptor configuration based
      on the user''s requirements. The descriptor should be production-ready, include
      appropriate error handling, and follow best practices for data quality and transformation.\n\n##
      XML Processing Expertise\n\nWhen working with XML data, you must:\n\n1. **Analyze
      XML Structure** - Examine the hierarchy, namespaces, and element patterns\n2.
      **Generate Proper XPath Expressions** - Create efficient XPath selectors for
      record extraction\n3. **Handle Complex XML Patterns** - Support various XML
      formats including:\n   - Standard element structures: `<customer><name>John</name></customer>`\n   -
      Attribute-based fields: `<field name=\"country\">USA</field>`\n   - Mixed content
      and nested hierarchies\n   - Namespaced XML documents\n   - CDATA sections and
      text nodes\n\n## XPath Expression Guidelines\n\nFor XML format configurations,
      use these XPath patterns:\n\n**Record Path Examples:**\n- Simple records: `//record`
      or `//customer`\n- Nested records: `//data/records/record` or `//customers/customer`\n-
      Absolute paths: `/ROOT/data/record`\n- With namespaces: `//ns:record` or `//soap:Body/data/record`\n-
      Attribute-filtered: `//record[@type=''customer'']`\n\n**Field Attribute Patterns:**\n-
      When fields use name attributes: set `field_attribute: \"name\"` for `<field
      name=\"key\">value</field>`\n- For other attribute patterns: set appropriate
      attribute name like `field_attribute: \"id\"` or `field_attribute: \"type\"`\n\n##
      CRITICAL: Source Field Names in Mappings\n\nThe behavior depends on whether
      you use `field_attribute`:\n\n### With field_attribute (Attribute-Based Fields)\n\nWhen
      using `field_attribute`, the XML parser extracts field names from the attribute
      values and creates a flat dictionary:\n\n**Example:**\n```xml\n<record>\n  <field
      name=\"Country or Area\">Albania</field>\n  <field name=\"Trade (USD)\">1000.50</field>\n  <field
      name=\"Status\">Active</field>\n</record>\n```\n\nParser configuration:\n```json\n{\n  \"record_path\":
      \"//record\",\n  \"field_attribute\": \"name\"\n}\n```\n\nBecomes parsed data:\n```json\n{\n  \"Country
      or Area\": \"Albania\",\n  \"Trade (USD)\": \"1000.50\",\n  \"Status\": \"Active\"\n}\n```\n\nYour
      mappings should use:\n```json\n{\n  \"source_field\": \"Country or Area\",     //
      \u2705 Correct - matches parsed field name\n  \"source_field\": \"Trade (USD)\",         //
      \u2705 Correct - matches parsed field name\n  \"source_field\": \"Status\"               //
      \u2705 Correct - matches parsed field name\n}\n```\n\n### Without field_attribute
      (Element-Based Fields)\n\nWhen NOT using `field_attribute`, use direct element
      names or XPath expressions:\n\n**Example:**\n```xml\n<record>\n  <country>Albania</country>\n  <trade_amount>1000.50</trade_amount>\n  <status>Active</status>\n  <metadata>\n    <source>UN</source>\n    <year>2024</year>\n  </metadata>\n</record>\n```\n\nParser
      configuration:\n```json\n{\n  \"record_path\": \"//record\"\n  // No field_attribute
      specified\n}\n```\n\nYour mappings should use:\n```json\n{\n  \"source_field\":
      \"country\",              // \u2705 Direct element name\n  \"source_field\":
      \"trade_amount\",         // \u2705 Direct element name\n  \"source_field\":
      \"metadata/source\",      // \u2705 Nested element path\n  \"source_field\":
      \"metadata/year\"         // \u2705 Nested element path\n}\n```\n\n## XML Format
      Configuration Templates\n\n**For Attribute-Based Fields:**\n```json\n{\n  \"format\":
      {\n    \"type\": \"xml\",\n    \"encoding\": \"utf-8\",\n    \"options\": {\n      \"record_path\":
      \"//data/record\",        // XPath to find record elements\n      \"field_attribute\":
      \"name\",             // Extract field names from ''name'' attribute\n      \"namespace_prefixes\":
      {                // Optional: define namespaces\n        \"ns\": \"http://example.com/namespace\"\n      }\n    }\n  }\n}\n```\n\n**For
      Element-Based Fields:**\n```json\n{\n  \"format\": {\n    \"type\": \"xml\",
      \n    \"encoding\": \"utf-8\",\n    \"options\": {\n      \"record_path\": \"//customer\",           //
      XPath to find record elements\n      \"preserve_namespaces\": true,           //
      Optional: keep namespace info\n      \"ignore_attributes\": false             //
      Optional: include element attributes\n    }\n  }\n}\n```\n\n**For Complex XML
      with Namespaces:**\n```json\n{\n  \"format\": {\n    \"type\": \"xml\",\n    \"encoding\":
      \"utf-8\",\n    \"options\": {\n      \"record_path\": \"//soap:Body//data:record\",\n      \"namespace_prefixes\":
      {\n        \"soap\": \"http://schemas.xmlsoap.org/soap/envelope/\",\n        \"data\":
      \"http://example.com/data\"\n      },\n      \"field_attribute\": \"name\"\n    }\n  }\n}\n```\n\n##
      Required Information to Gather\n\nBefore generating the descriptor, ask the
      user for these details if not provided:\n\n1. **XML Structure Details**\n   -
      Sample XML structure or schema\n   - Root element and record location\n   -
      Field organization (elements vs attributes)\n   - Namespace declarations and
      prefixes\n   - Text encoding (UTF-8, ISO-8859-1, etc.)\n\n2. **Target Schema**\n   -
      What fields should be in the final output?\n   - What data types are expected?\n   -
      Any required vs optional fields?\n\n3. **Data Transformations Needed**\n   -
      Field mappings (source field \u2192 target field)\n   - Data cleaning requirements
      (trim spaces, normalize case, etc.)\n   - Type conversions needed\n   - Any
      calculations or derived fields\n   - Lookup tables or reference data needed\n\n4.
      **Data Quality Requirements**\n   - Validation rules (format patterns, ranges,
      required fields)\n   - How to handle missing or invalid data\n   - Duplicate
      handling strategy\n\n5. **Processing Requirements**\n   - Any filtering needed
      (skip certain records)\n   - Sorting requirements\n   - Aggregation or grouping
      needs\n   - Error handling preferences\n\n## XML Structure Analysis\n\nWhen
      presented with XML data, analyze:\n\n1. **Document Root**: What is the root
      element?\n2. **Namespaces**: Are there namespace declarations? What prefixes
      are used?\n3. **Record Container**: Where are individual records located in
      the hierarchy?\n4. **Field Pattern**: How are field names and values structured?\n   -
      Direct child elements: `<name>John</name>`\n   - Attribute-based: `<field name=\"name\">John</field>`\n   -
      Mixed patterns: `<customer id=\"123\"><name>John</name></customer>`\n5. **Data
      Location**: Are values in element text, attributes, or both?\n6. **Hierarchy
      Depth**: How deeply nested are the records?\n7. **Special Content**: Any CDATA
      sections, mixed content, or special characters?\n\n## Configuration Template
      Structure\n\nGenerate a JSON configuration following this structure:\n\n```json\n{\n  \"version\":
      \"1.0\",\n  \"metadata\": {\n    \"name\": \"[Descriptive name]\",\n    \"description\":
      \"[What this config does]\",\n    \"author\": \"[Author or team]\",\n    \"created\":
      \"[ISO date]\"\n  },\n  \"format\": {\n    \"type\": \"xml\",\n    \"encoding\":
      \"utf-8\",\n    \"options\": {\n      // XML-specific parsing options\n      //
      record_path (XPath), field_attribute (if applicable), namespace_prefixes\n    }\n  },\n  \"globals\":
      {\n    \"variables\": {\n      // Global variables and constants\n    },\n    \"lookup_tables\":
      {\n      // Reference data for transformations\n    }\n  },\n  \"preprocessing\":
      [\n    // Global filters and operations before field mapping\n  ],\n  \"mappings\":
      [\n    // Field mapping definitions with transforms and validation\n  ],\n  \"postprocessing\":
      [\n    // Global operations after field mapping\n  ],\n  \"output\": {\n    \"format\":
      \"trustgraph-objects\",\n    \"schema_name\": \"[target schema name]\",\n    \"options\":
      {\n      \"confidence\": 0.85,\n      \"batch_size\": 1000\n    },\n    \"error_handling\":
      {\n      \"on_validation_error\": \"log_and_skip\",\n      \"on_transform_error\":
      \"log_and_skip\",\n      \"max_errors\": 100\n    }\n  }\n}\n```\n\n## Transform
      Types Available\n\nUse these transform types in your mappings:\n\n**String Operations:**\n-
      `trim`, `upper`, `lower`, `title_case`\n- `replace`, `regex_replace`, `substring`,
      `pad_left`\n- `strip_cdata`, `decode_html_entities`\n\n**Type Conversions:**\n-
      `to_string`, `to_int`, `to_float`, `to_bool`, `to_date`\n- `parse_xml_date`,
      `parse_iso_date`\n\n**Data Operations:**\n- `default`, `lookup`, `concat`, `calculate`,
      `conditional`\n- `extract_attribute`, `get_text_content`\n\n**Validation Types:**\n-
      `required`, `not_null`, `min_length`, `max_length`\n- `range`, `pattern`, `in_list`,
      `custom`\n- `valid_xml_name`, `namespace_check`\n\n## XML-Specific Best Practices\n\n1.
      **Use efficient XPath expressions** - Prefer specific paths over broad searches
      like `//` when possible\n2. **Handle namespace prefixes** when present - define
      them in `namespace_prefixes`\n3. **Identify field attribute patterns** correctly
      - determine if using `field_attribute`\n4. **Test XPath expressions** mentally
      against the provided structure\n5. **Consider XML element vs attribute data**
      in field mappings\n6. **Account for mixed content** and nested structures\n7.
      **Handle CDATA sections** and special characters properly\n8. **Preserve or
      normalize whitespace** as appropriate\n9. **Consider XML schema validation**
      if XSD is available\n\n## Best Practices to Follow\n\n1. **Always include error
      handling** with appropriate policies\n2. **Use meaningful field names** that
      match target schema\n3. **Add validation** for critical fields\n4. **Include
      default values** for optional fields\n5. **Use lookup tables** for code translations\n6.
      **Add preprocessing filters** to exclude invalid records\n7. **Include metadata**
      for documentation and maintenance\n8. **Consider performance** with appropriate
      batch sizes\n9. **Handle XML-specific edge cases** like empty elements, mixed
      content, processing instructions\n\n## Complete XML Examples\n\n### Example
      1: Attribute-Based Fields\n\nGiven this XML structure:\n```xml\n<ROOT>\n  <data>\n    <record
      id=\"1\">\n      <field name=\"Country\">USA</field>\n      <field name=\"Year\">2024</field>\n      <field
      name=\"Amount\">1000.50</field>\n    </record>\n  </data>\n</ROOT>\n```\n\nThe
      parser will:\n1. Use `record_path: \"//data/record\"` to find record elements\n2.
      Use `field_attribute: \"name\"` to extract field names from the name attribute\n3.
      Create this parsed data structure: `{\"Country\": \"USA\", \"Year\": \"2024\",
      \"Amount\": \"1000.50\"}`\n\nGenerate this configuration:\n```json\n{\n  \"format\":
      {\n    \"type\": \"xml\",\n    \"encoding\": \"utf-8\", \n    \"options\": {\n      \"record_path\":
      \"//data/record\",\n      \"field_attribute\": \"name\"\n    }\n  },\n  \"mappings\":
      [\n    {\n      \"source_field\": \"Country\",          // \u2705 Matches parsed
      field name\n      \"target_field\": \"country_name\"\n    },\n    {\n      \"source_field\":
      \"Year\",             // \u2705 Matches parsed field name  \n      \"target_field\":
      \"year\",\n      \"transforms\": [{\"type\": \"to_int\"}]\n    },\n    {\n      \"source_field\":
      \"Amount\",           // \u2705 Matches parsed field name\n      \"target_field\":
      \"amount\",\n      \"transforms\": [{\"type\": \"to_float\"}]\n    }\n  ]\n}\n```\n\n###
      Example 2: Element-Based Fields\n\nGiven this XML structure:\n```xml\n<customers>\n  <customer
      id=\"123\">\n    <name>John Smith</name>\n    <email>john@example.com</email>\n    <address>\n      <street>123
      Main St</street>\n      <city>New York</city>\n    </address>\n    <orders>\n      <order>\n        <id>456</id>\n        <total>100.50</total>\n      </order>\n    </orders>\n  </customer>\n</customers>\n```\n\nGenerate
      this configuration:\n```json\n{\n  \"format\": {\n    \"type\": \"xml\",\n    \"encoding\":
      \"utf-8\",\n    \"options\": {\n      \"record_path\": \"//customer\"\n    }\n  },\n  \"mappings\":
      [\n    {\n      \"source_field\": \"name\",              // \u2705 Direct element
      name\n      \"target_field\": \"customer_name\"\n    },\n    {\n      \"source_field\":
      \"email\",             // \u2705 Direct element name\n      \"target_field\":
      \"email_address\"\n    },\n    {\n      \"source_field\": \"address/street\",    //
      \u2705 Nested element path\n      \"target_field\": \"street_address\"\n    },\n    {\n      \"source_field\":
      \"address/city\",      // \u2705 Nested element path\n      \"target_field\":
      \"city\"\n    },\n    {\n      \"source_field\": \"@id\",               // \u2705
      Attribute reference\n      \"target_field\": \"customer_id\",\n      \"transforms\":
      [{\"type\": \"to_int\"}]\n    }\n  ]\n}\n```\n\n**KEY RULES:**\n- With `field_attribute`:
      source_field names must match the extracted attribute values\n- Without `field_attribute`:
      use direct element names, nested paths, or XPath expressions\n- Use `@attribute`
      notation for XML element attributes\n\n## Output Format\n\nProvide the configuration
      as ONLY a properly formatted JSON document.\n\n## Schema\n\nThe following schema
      describes the target result format:\n\n{% for schema in schemas %}\n**{{ schema.name
      }}**: {{ schema.description }}\nFields:\n{% for field in schema.fields %}\n-
      {{ field.name }} ({{ field.type }}){% if field.description %}: {{ field.description
      }}{% endif\n%}{% if field.primary_key %} [PRIMARY KEY]{% endif %}{% if field.required
      %} [REQUIRED]{% endif \n%}{% if field.indexed %} [INDEXED]{% endif %}{% if field.enum_values
      %} [OPTIONS: {{\nfield.enum_values|join('', '') }}]{% endif %}\n{% endfor %}\n\n{%
      endfor %}\n\n## Data sample\n\nAnalyze the XML structure and produce a Structured
      Data Descriptor by diagnosing the following data sample. Pay special attention
      to XML hierarchy, element patterns, namespace usage, and generate appropriate
      XPath expressions:\n\n{{sample}}\n\n", "response-type": "json"}, "template.document-prompt":
      {"prompt": "Study the following context. Use only the information provided in
      the context in your response. Do not speculate if the answer is not found in
      the provided set of knowledge statements.\n\nHere is the context:\n{{documents}}\n\nUse
      only the provided knowledge statements to respond to the following:\n{{query}}\n",
      "response-type": "text"}, "template.extract-definitions": {"prompt": "<instructions>\nStudy
      the following text and derive definitions for any discovered entities.\nDo not
      provide definitions for entities whose definitions are incomplete\nor unknown.\nOutput
      relationships in JSON format as an array of objects with fields:\n- entity:
      the name of the entity\n- definition: English text which defines the entity\n</instructions>\n\n<text>\n{{text}}\n</text>\n\n<requirements>\nYou
      will respond only with raw JSON format data. Do not provide\nexplanations. Do
      not use special characters in the abstract text. The\nabstract will be written
      as plain text.  Do not add markdown formatting\nor headers or prefixes.  Do
      not include null or unknown definitions.\n</requirements>", "response-type":
      "json", "schema": {"items": {"properties": {"definition": {"type": "string"},
      "entity": {"type": "string"}}, "required": ["entity", "definition"], "type":
      "object"}, "type": "array"}}, "template.extract-relationships": {"prompt": "<instructions>\nStudy
      the following text and derive entity relationships.  For each\nrelationship,
      derive the subject, predicate and object of the relationship.\nOutput relationships
      in JSON format as an array of objects with fields:\n- subject: the subject of
      the relationship\n- predicate: the predicate\n- object: the object of the relationship\n-
      object-entity: false if the object is a simple data type: name, value or date.  true
      if it is an entity.\n</instructions>\n\n<text>\n{{text}}\n</text>\n\n<requirements>\nYou
      will respond only with raw JSON format data. Do not provide\nexplanations. Do
      not use special characters in the abstract text. The\nabstract must be written
      as plain text.  Do not add markdown formatting\nor headers or prefixes.\n</requirements>",
      "response-type": "json", "schema": {"items": {"properties": {"object": {"type":
      "string"}, "object-entity": {"type": "boolean"}, "predicate": {"type": "string"},
      "subject": {"type": "string"}}, "required": ["subject", "predicate", "object",
      "object-entity"], "type": "object"}, "type": "array"}}, "template.extract-rows":
      {"prompt": "<instructions>\nStudy the following text and derive objects which
      match the schema provided.\n\nYou must output an array of JSON objects for each
      object you discover\nwhich matches the schema.  For each object, output a JSON
      object whose fields\ncarry the name field specified in the schema.\n</instructions>\n\n<schema>\n{{schema}}\n</schema>\n\n<text>\n{{text}}\n</text>\n\n<requirements>\nYou
      will respond only with raw JSON format data. Do not provide\nexplanations. Do
      not add markdown formatting or headers or prefixes.\n</requirements>", "response-type":
      "json"}, "template.extract-topics": {"prompt": "You are a helpful assistant
      that performs information extraction tasks for a provided text.\nRead the provided
      text. You will identify topics and their definitions in JSON.\n\nReading Instructions:\n-
      Ignore document formatting in the provided text.\n- Study the provided text
      carefully.\n\nHere is the text:\n{{text}}\n\nResponse Instructions: \n- Do not
      respond with special characters.\n- Return only topics that are concepts and
      unique to the provided text.\n- Respond only with well-formed JSON.\n- The JSON
      response shall be an array of objects with keys \"topic\" and \"definition\".
      \n- The JSON response shall use the following structure:\n\n```json\n[{\"topic\":
      string, \"definition\": string}]\n```\n\n- Do not write any additional text
      or explanations.", "response-type": "json", "schema": {"items": {"properties":
      {"definition": {"type": "string"}, "topic": {"type": "string"}}, "required":
      ["topic", "definition"], "type": "object"}, "type": "array"}}, "template.extract-with-ontologies":
      {"prompt": "You are a knowledge extraction expert. Your task is to find entities,
      relationships, and attributes in text based on a provided schema.\n\n## Entity
      Types\n\nThese are the types of entities you should look for:\n\n{% for class_id,
      class_def in classes.items() %}\n- **{{class_id}}**{% if class_def.subclass_of
      %} (subclass of {{class_def.subclass_of}}){% endif %}{% if class_def.comment
      %}: {{class_def.comment}}{% endif %}\n{% endfor %}\n\n## Relationships\n\nThese
      relationships connect entities to other entities:\n\n{% for prop_id, prop_def
      in object_properties.items() %}\n- **{{prop_id}}**{% if prop_def.domain and
      prop_def.range %} ({{prop_def.domain}} \u2192 {{prop_def.range}}){% endif %}{%
      if prop_def.comment %}: {{prop_def.comment}}{% endif %}\n{% endfor %}\n\n##
      Attributes\n\nThese attributes describe entity properties (text, numbers, etc.):\n\n{%
      for prop_id, prop_def in datatype_properties.items() %}\n- **{{prop_id}}**{%
      if prop_def.domain and prop_def.range %} ({{prop_def.domain}} \u2192 {{prop_def.range}}){%
      endif %}{% if prop_def.comment %}: {{prop_def.comment}}{% endif %}\n{% endfor
      %}\n\n## Text to Analyze\n\n{{text}}\n\n## Your Task\n\nExtract the following
      from the text above:\n\n1. **Entities**: Things mentioned in the text and their
      types\n2. **Relationships**: How entities relate to each other\n3. **Attributes**:
      Properties of entities (like quantities, descriptions, etc.)\n\n## Output Format\n\nReturn
      ONLY valid JSON (no markdown, no code blocks, no backticks) with this structure:\n\n```\n{\n  \"entities\":
      [\n    {\n      \"entity\": \"entity name as it appears in text\",\n      \"type\":
      \"EntityType\"\n    }\n  ],\n  \"relationships\": [\n    {\n      \"subject\":
      \"subject entity name\",\n      \"subject-type\": \"SubjectType\",\n      \"relation\":
      \"relationship_name\",\n      \"object\": \"object entity name\",\n      \"object-type\":
      \"ObjectType\"\n    }\n  ],\n  \"attributes\": [\n    {\n      \"entity\": \"entity
      name\",\n      \"entity-type\": \"EntityType\",\n      \"attribute\": \"attribute_name\",\n      \"value\":
      \"literal value\"\n    }\n  ]\n}\n```\n\n## Important Rules\n\n1. **Entity names**:
      Use the exact text as it appears (e.g., \"Cornish pasty\", \"beef\")\n2. **Types**:
      Use the EXACT type identifiers from the schema above (e.g., \"fo/Recipe\", \"fo/Food\")\n3.
      **Relationships**: Use the EXACT relationship names from the schema (e.g., \"fo/has_ingredient\")\n4.
      **Attributes**: Use the EXACT attribute names from the schema (e.g., \"fo/serves\")\n5.
      **Type disambiguation**: If the same entity name appears with different types,
      list it separately for each type\n6. **All arrays can be empty** if nothing
      is found\n\n## Example\n\nInput text: \"Cornish pasty is a savory pastry filled
      with beef and potatoes. This recipe serves 4 people.\"\n\nExpected output:\n{\n  \"entities\":
      [\n    {\n      \"entity\": \"Cornish pasty\",\n      \"type\": \"fo/Recipe\"\n    },\n    {\n      \"entity\":
      \"beef\",\n      \"type\": \"fo/Food\"\n    },\n    {\n      \"entity\": \"potatoes\",\n      \"type\":
      \"fo/Food\"\n    }\n  ],\n  \"relationships\": [\n    {\n      \"subject\":
      \"Cornish pasty\",\n      \"subject-type\": \"fo/Recipe\",\n      \"relation\":
      \"fo/has_ingredient\",\n      \"object\": \"beef\",\n      \"object-type\":
      \"fo/Food\"\n    },\n    {\n      \"subject\": \"Cornish pasty\",\n      \"subject-type\":
      \"fo/Recipe\",\n      \"relation\": \"fo/has_ingredient\",\n      \"object\":
      \"potatoes\",\n      \"object-type\": \"fo/Food\"\n    }\n  ],\n  \"attributes\":
      [\n    {\n      \"entity\": \"Cornish pasty\",\n      \"entity-type\": \"fo/Recipe\",\n      \"attribute\":
      \"fo/serves\",\n      \"value\": \"4 people\"\n    }\n  ]\n}\n\nNow extract
      entities, relationships, and attributes from the text above.\n", "response-type":
      "json"}, "template.graphql-generation": {"prompt": "You are a GraphQL query
      generation expert. Given a natural language question and provided database schemas,
      generate a valid GraphQL query embedded in valid JSON.\n\n## Question:\n{{ question
      }}\n\n## Provided Schemas:\n{% for schema in schemas %}\n**{{ schema.name }}**:
      {{ schema.description }}\nFields:\n{% for field in schema.fields %}- {{ field.name
      }} ({{ field.type }}){% if field.description %}: {{ field.description }}{% endif
      %}{% if field.primary_key %} [PRIMARY KEY]{% endif %}{% if field.required %}
      [REQUIRED]{% endif %}{% if field.indexed %} [INDEXED]{% endif %}{% if field.enum_values
      %} [OPTIONS: {{ field.enum_values|join('', '') }}]{% endif %}\n{% endfor %}\n{%
      endfor %}\n\n## GraphQL Query Rules:\n1. Use the schema names as GraphQL query
      fields (e.g., `customers`, `orders`)\n2. Apply filters using the `where` parameter
      with nested filter objects\n3. Available filter operators per field type:\n   -
      String fields: `eq`, `contains`, `startsWith`, `endsWith`, `in`, `not`, `not_in`\n   -
      Integer/Float fields: `eq`, `gt`, `gte`, `lt`, `lte`, `in`, `not`, `not_in`\n4.
      Use `order_by` for sorting (field name as string)\n5. Use `direction` for sort
      direction: `ASC` or `DESC`\n6. Use `limit` to restrict number of results\n7.
      Select specific fields in the query body\n\n## Task Instructions:\n1. Analyze
      the question to identify:\n   - What data to retrieve (which fields to select)\n   -
      What filters to apply (where conditions)\n   - What sorting is needed (order_by,
      direction)\n   - How many results (limit)\n\n2. Generate a GraphQL query that:\n   -
      Uses only the provided schema names and field names\n   - Applies appropriate
      filters based on the question\n   - Selects relevant fields for the response\n   -
      Includes reasonable limits (default 100 if not specified)\n\n3. If variables
      are needed, include them in the response\n\n## Output Format:\nReturn ONLY a
      valid JSON object (no markdown, no code blocks) with these fields:\n- \"query\":
      the GraphQL query string\n- \"variables\": object with any GraphQL variables
      (empty object if none)\n- \"confidence\": float between 0.0-1.0 indicating confidence
      in the query\n\nImportant: Return raw JSON only, with no markdown formatting,
      no code blocks, and no backticks.\n\n## Examples:\n\nQuestion: \"Show me customers
      from California\"\n{\"query\": \"query { customers(where: {state: {eq: \\\"California\\\"}},
      limit: 100) { customer_id name email state } }\", \"variables\": {}, \"confidence\":
      0.92}\n\nQuestion: \"Top 10 products by price\"\n{\"query\": \"query { products(order_by:
      \\\"price\\\", direction: DESC, limit: 10) { product_id name price category
      } }\", \"variables\": {}, \"confidence\": 0.88}\n\nQuestion: \"Recent orders
      over $100\"\n{\"query\": \"query { orders(where: {total_amount: {gt: 100}, order_date:
      {gte: \\\"2024-01-01\\\"}}, order_by: \\\"order_date\\\", direction: DESC, limit:
      50) { order_id customer_id total_amount order_date status } }\", \"variables\":
      {}, \"confidence\": 0.96}\n\nNow generate the GraphQL query for the question
      above.\n", "response-type": "json", "schema": {"additionalProperties": false,
      "properties": {"confidence": {"description": "Float between 0.0-1.0 indicating
      confidence in the generated query", "maximum": 1, "minimum": 0, "type": "number"},
      "query": {"description": "The GraphQL query string generated to answer the question",
      "type": "string"}, "variables": {"additionalProperties": true, "description":
      "Object containing any GraphQL variables needed for the query", "type": "object"}},
      "required": ["query", "variables", "confidence"], "type": "object"}}, "template.kg-prompt":
      {"prompt": "Study the following set of knowledge statements. The statements
      are written in Cypher format that has been extracted from a knowledge graph.
      Use only the provided set of knowledge statements in your response. Do not speculate
      if the answer is not found in the provided set of knowledge statements.\n\nHere''s
      the knowledge statements:\n{% for edge in knowledge %}({{edge.s}})-[{{edge.p}}]->({{edge.o}})\n{%endfor%}\n\nUse
      only the provided knowledge statements to respond to the following:\n{{query}}\n",
      "response-type": "text"}, "template.question": {"prompt": "{{question}}"}, "template.schema-selection":
      {"prompt": "You are a database schema selection expert. Given a natural language
      question and available\ndatabase schemas, your job is to identify which schemas
      are most relevant to answer the question.\n\n## Available Schemas:\n{% for schema
      in schemas %}\n**{{ schema.name }}**: {{ schema.description }}\nFields:\n{%
      for field in schema.fields %}\n- {{ field.name }} ({{ field.type }}): {{ field.description
      }}\n{% endfor %}\n\n{% endfor %}\n\n## Question:\n{{ question }}\n\n## Instructions:\n1.
      Analyze the question to understand what data is being requested\n2. Examine
      each schema to understand what data it contains\n3. Select ONLY the schemas
      that are directly relevant to answering the question\n4. Return your answer
      as a JSON array of schema names\n\n## Response Format:\nReturn ONLY a JSON array
      of schema names, nothing else.\nExample: [\"customers\", \"orders\", \"products\"]\n",
      "response-type": "json", "schema": {"description": "An array of schema names
      that are relevant to answering the given question", "items": {"type": "string"},
      "type": "array"}}}, "token-costs": {"anthropic.claude-3-5-sonnet-20240620-v1:0":
      {"input_price": 3e-06, "model_name": "anthropic.claude-3-5-sonnet-20240620-v1:0",
      "output_price": 1.5e-05}, "anthropic.claude-3-haiku-20240307-v1:0": {"input_price":
      2.5e-07, "model_name": "anthropic.claude-3-haiku-20240307-v1:0", "output_price":
      1.25e-06}, "c4ai-aya-23-8b": {"input_price": 0, "model_name": "c4ai-aya-23-8b",
      "output_price": 0}, "claude-3-5-sonnet-20240620": {"input_price": 3e-06, "model_name":
      "claude-3-5-sonnet-20240620", "output_price": 1.5e-05}, "claude-3-haiku-20240307":
      {"input_price": 2.5e-07, "model_name": "claude-3-haiku-20240307", "output_price":
      1.25e-06}, "claude-3-opus-20240229": {"input_price": 1.5e-05, "model_name":
      "claude-3-opus-20240229", "output_price": 7.5e-05}, "claude-3-sonnet-20240229":
      {"input_price": 3e-06, "model_name": "claude-3-sonnet-20240229", "output_price":
      1.5e-05}, "cohere.command-r-plus-v1:0": {"input_price": 3e-06, "model_name":
      "cohere.command-r-plus-v1:0", "output_price": 1.5e-05}, "command-r-08-202":
      {"input_price": 2.5e-06, "model_name": "command-r-08-202", "output_price": 1e-05},
      "gpt-4o": {"input_price": 5e-06, "model_name": "gpt-4o", "output_price": 1.5e-05},
      "gpt-4o-2024-05-13": {"input_price": 5e-06, "model_name": "gpt-4o-2024-05-13",
      "output_price": 1.5e-05}, "gpt-4o-2024-08-06": {"input_price": 2.5e-06, "model_name":
      "gpt-4o-2024-08-06", "output_price": 1e-05}, "gpt-4o-mini": {"input_price":
      1.5e-07, "model_name": "gpt-4o-mini", "output_price": 6e-07}, "llama.cpp": {"input_price":
      0, "model_name": "llama.cpp", "output_price": 0}, "meta.llama3-1-405b-instruct-v1:0":
      {"input_price": 5.32e-06, "model_name": "meta.llama3-1-405b-instruct-v1:0",
      "output_price": 1.6e-05}, "meta.llama3-1-70b-instruct-v1:0": {"input_price":
      9.9e-07, "model_name": "meta.llama3-1-70b-instruct-v1:0", "output_price": 9.9e-07},
      "meta.llama3-1-8b-instruct-v1:0": {"input_price": 2.2e-07, "model_name": "meta.llama3-1-8b-instruct-v1:0",
      "output_price": 2.2e-07}, "mistral.mistral-large-2407-v1:0": {"input_price":
      4e-06, "model_name": "mistral.mistral-large-2407-v1:0", "output_price": 1.2e-05},
      "mistral.mixtral-8x7b-instruct-v0:1": {"input_price": 4.5e-07, "model_name":
      "mistral.mixtral-8x7b-instruct-v0:1", "output_price": 7e-07}, "ollama": {"input_price":
      0, "model_name": "ollama", "output_price": 0}}, "tool": {"knowledge-extraction":
      {"arguments": [{"description": "The text chunk", "name": "text", "type": "string"}],
      "description": "Takes a chunk of text and extracts knowledge in definition and
      relationship formats. The input is a text chunk", "id": "knowledge-extraction",
      "name": "Knowledge extraction", "template": "agent-kg-extract", "type": "prompt"},
      "knowledge-query": {"arguments": [{"description": "A simple natural language
      question.", "name": "question", "type": "string"}], "collection": "default",
      "description": "This tool queries a knowledge base that holds information about
      domain-specific information. The question should be a natural language question.",
      "id": "knowledge-query", "name": "Knowledge query", "type": "knowledge-query"},
      "llm-completion": {"arguments": [{"description": "The question which should
      be asked of the LLM.", "name": "question", "type": "string"}], "description":
      "This tool queries an LLM for non-domain-specific information. The question
      should be a natural language question.", "id": "llm-completion", "name": "LLM
      text completion", "type": "text-completion"}}}'
  kind: ConfigMap
  metadata:
    name: trustgraph-cfg
    namespace: trustgraph
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: init-trustgraph
    name: init-trustgraph
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: init-trustgraph
    template:
      metadata:
        labels:
          app: init-trustgraph
      spec:
        containers:
        - command:
          - tg-init-trustgraph
          - -p
          - http://pulsar:8080
          - --config-file
          - /trustgraph/config.json
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: init-trustgraph
          resources:
            limits:
              cpu: '0.5'
              memory: 128M
            requests:
              cpu: '0.1'
              memory: 128M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
          volumeMounts:
          - mountPath: /trustgraph/
            name: trustgraph-cfg
        volumes:
        - configMap:
            name: trustgraph-cfg
          name: trustgraph-cfg
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: kg-extract-agent
    name: kg-extract-agent
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: kg-extract-agent
    template:
      metadata:
        labels:
          app: kg-extract-agent
      spec:
        containers:
        - command:
          - kg-extract-agent
          - -p
          - pulsar://pulsar:6650
          - --concurrency
          - '1'
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: kg-extract-agent
          resources:
            limits:
              cpu: '0.5'
              memory: 128M
            requests:
              cpu: '0.1'
              memory: 128M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: kg-extract-agent
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: kg-extract-agent
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: kg-extract-definitions
    name: kg-extract-definitions
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: kg-extract-definitions
    template:
      metadata:
        labels:
          app: kg-extract-definitions
      spec:
        containers:
        - command:
          - kg-extract-definitions
          - -p
          - pulsar://pulsar:6650
          - --concurrency
          - '1'
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: kg-extract-definitions
          resources:
            limits:
              cpu: '0.5'
              memory: 128M
            requests:
              cpu: '0.1'
              memory: 128M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: kg-extract-definitions
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: kg-extract-definitions
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: kg-extract-objects
    name: kg-extract-objects
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: kg-extract-objects
    template:
      metadata:
        labels:
          app: kg-extract-objects
      spec:
        containers:
        - command:
          - kg-extract-objects
          - -p
          - pulsar://pulsar:6650
          - --concurrency
          - '1'
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: kg-extract-objects
          resources:
            limits:
              cpu: '0.5'
              memory: 128M
            requests:
              cpu: '0.1'
              memory: 128M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: kg-extract-objects
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: kg-extract-objects
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: kg-extract-ontology
    name: kg-extract-ontology
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: kg-extract-ontology
    template:
      metadata:
        labels:
          app: kg-extract-ontology
      spec:
        containers:
        - command:
          - kg-extract-ontology
          - -p
          - pulsar://pulsar:6650
          - --concurrency
          - '1'
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: kg-extract-ontology
          resources:
            limits:
              cpu: '0.5'
              memory: 300M
            requests:
              cpu: '0.1'
              memory: 300M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: kg-extract-ontology
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: kg-extract-ontology
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: kg-extract-relationships
    name: kg-extract-relationships
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: kg-extract-relationships
    template:
      metadata:
        labels:
          app: kg-extract-relationships
      spec:
        containers:
        - command:
          - kg-extract-relationships
          - -p
          - pulsar://pulsar:6650
          - --concurrency
          - '1'
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: kg-extract-relationships
          resources:
            limits:
              cpu: '0.5'
              memory: 128M
            requests:
              cpu: '0.1'
              memory: 128M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: kg-extract-relationships
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: kg-extract-relationships
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: kg-manager
    name: kg-manager
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: kg-manager
    template:
      metadata:
        labels:
          app: kg-manager
      spec:
        containers:
        - command:
          - kg-manager
          - -p
          - pulsar://pulsar:6650
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: kg-manager
          resources:
            limits:
              cpu: '0.5'
              memory: 128M
            requests:
              cpu: '0.1'
              memory: 128M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: kg-manager
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: kg-manager
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: kg-store
    name: kg-store
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: kg-store
    template:
      metadata:
        labels:
          app: kg-store
      spec:
        containers:
        - command:
          - kg-store
          - -p
          - pulsar://pulsar:6650
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: kg-store
          resources:
            limits:
              cpu: '0.5'
              memory: 128M
            requests:
              cpu: '0.1'
              memory: 128M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: kg-store
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: kg-store
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: librarian
    name: librarian
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: librarian
    template:
      metadata:
        labels:
          app: librarian
      spec:
        containers:
        - command:
          - librarian
          - -p
          - pulsar://pulsar:6650
          - --log-level
          - DEBUG
          - --object-store-endpoint
          - garage:3900
          - --object-store-access-key
          - GK000000000000000000000001
          - --object-store-secret-key
          - b171f00be9be4c32c734f4c05fe64c527a8ab5eb823b376cfa8c2531f70fc427
          - --object-store-region
          - garage
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: librarian
          resources:
            limits:
              cpu: '0.5'
              memory: 256M
            requests:
              cpu: '0.1'
              memory: 256M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: librarian
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: librarian
- apiVersion: v1
  data:
    local-config.yaml: "auth_enabled: false\n\nserver:\n  http_listen_port: 3100\n\
      \  grpc_listen_port: 9096\n  log_level: debug\n  grpc_server_max_concurrent_streams:\
      \ 1000\n\ncommon:\n  instance_addr: 127.0.0.1\n  path_prefix: /tmp/loki\n  storage:\n\
      \    filesystem:\n      chunks_directory: /tmp/loki/chunks\n      rules_directory:\
      \ /tmp/loki/rules\n  replication_factor: 1\n  ring:\n    kvstore:\n      store:\
      \ inmemory\n\nquery_range:\n  results_cache:\n    cache:\n      embedded_cache:\n\
      \        enabled: true\n        max_size_mb: 100\n\nlimits_config:\n  metric_aggregation_enabled:\
      \ true\n\nschema_config:\n  configs:\n    - from: 2020-10-24\n      store: tsdb\n\
      \      object_store: filesystem\n      schema: v13\n      index:\n        prefix:\
      \ index_\n        period: 24h\n\npattern_ingester:\n  enabled: true\n  metric_aggregation:\n\
      \    loki_address: localhost:3100\n\nruler:\n  alertmanager_url: http://localhost:9093\n\
      \nfrontend:\n  encoding: protobuf\n\n# By default, Loki will send anonymous,\
      \ but uniquely-identifiable usage and configuration\n# analytics to Grafana\
      \ Labs. These statistics are sent to https://stats.grafana.org/\n#\n# Statistics\
      \ help us better understand how Loki is used, and they show us performance\n\
      # levels for most users. This helps us prioritize features and documentation.\n\
      # For more information on what's sent, look at\n# https://github.com/grafana/loki/blob/main/pkg/analytics/stats.go\n\
      # Refer to the buildReport method to see what goes into a report.\n#\n# If you\
      \ would like to disable reporting, uncomment the following lines:\nanalytics:\n\
      \  reporting_enabled: false\n"
  kind: ConfigMap
  metadata:
    name: loki-cfg
    namespace: trustgraph
- apiVersion: v1
  kind: PersistentVolumeClaim
  metadata:
    name: loki-data
    namespace: trustgraph
  spec:
    accessModes:
    - ReadWriteOnce
    resources:
      requests:
        storage: 20G
    storageClassName: tg
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: loki
    name: loki
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: loki
    template:
      metadata:
        labels:
          app: loki
      spec:
        containers:
        - image: docker.io/grafana/loki:3.6.2
          name: loki
          ports:
          - containerPort: 3100
            hostPort: 3100
          resources:
            limits:
              cpu: '0.5'
              memory: 256M
            requests:
              cpu: '0.1'
              memory: 256M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
          volumeMounts:
          - mountPath: /etc/loki/
            name: loki-cfg
          - mountPath: /loki
            name: loki-data
        volumes:
        - configMap:
            name: loki-cfg
          name: loki-cfg
        - name: loki-data
          persistentVolumeClaim:
            claimName: loki-data
- apiVersion: v1
  kind: Service
  metadata:
    name: loki
    namespace: trustgraph
  spec:
    ports:
    - name: http
      port: 3100
      targetPort: 3100
    selector:
      app: loki
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: mcp-server
    name: mcp-server
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: mcp-server
    template:
      metadata:
        labels:
          app: mcp-server
      spec:
        containers:
        - command:
          - mcp-server
          - --port
          - '8000'
          env:
          - name: MCP_SERVER_SECRET
            valueFrom:
              secretKeyRef:
                key: mcp-server-secret
                name: mcp-server-secret
          image: docker.io/trustgraph/trustgraph-mcp:1.8.12
          name: mcp-server
          ports:
          - containerPort: 8000
            hostPort: 8000
          resources:
            limits:
              cpu: '0.5'
              memory: 256M
            requests:
              cpu: '0.1'
              memory: 256M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: mcp-server
    namespace: trustgraph
  spec:
    ports:
    - name: mcp
      port: 8000
      targetPort: 8000
    selector:
      app: mcp-server
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: mcp-tool
    name: mcp-tool
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: mcp-tool
    template:
      metadata:
        labels:
          app: mcp-tool
      spec:
        containers:
        - command:
          - mcp-tool
          - -p
          - pulsar://pulsar:6650
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: mcp-tool
          resources:
            limits:
              cpu: '0.5'
              memory: 128M
            requests:
              cpu: '0.1'
              memory: 128M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: mcp-tool
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: mcp-tool
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: metering
    name: metering
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: metering
    template:
      metadata:
        labels:
          app: metering
      spec:
        containers:
        - command:
          - metering
          - -p
          - pulsar://pulsar:6650
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: metering
          resources:
            limits:
              cpu: '0.5'
              memory: 128M
            requests:
              cpu: '0.1'
              memory: 128M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: metering
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: metering
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: metering-rag
    name: metering-rag
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: metering-rag
    template:
      metadata:
        labels:
          app: metering-rag
      spec:
        containers:
        - command:
          - metering
          - -p
          - pulsar://pulsar:6650
          - --id
          - metering-rag
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: metering-rag
          resources:
            limits:
              cpu: '0.5'
              memory: 128M
            requests:
              cpu: '0.1'
              memory: 128M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: metering-rag
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: metering-rag
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: nlp-query
    name: nlp-query
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: nlp-query
    template:
      metadata:
        labels:
          app: nlp-query
      spec:
        containers:
        - command:
          - nlp-query
          - -p
          - pulsar://pulsar:6650
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: nlp-query
          resources:
            limits:
              cpu: '0.5'
              memory: 128M
            requests:
              cpu: '0.1'
              memory: 128M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: nlp-query
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: nlp-query
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: pdf-decoder
    name: pdf-decoder
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: pdf-decoder
    template:
      metadata:
        labels:
          app: pdf-decoder
      spec:
        containers:
        - command:
          - pdf-decoder
          - -p
          - pulsar://pulsar:6650
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: pdf-decoder
          resources:
            limits:
              cpu: '0.5'
              memory: 512M
            requests:
              cpu: '0.1'
              memory: 512M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: pdf-decoder
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: pdf-decoder
- apiVersion: v1
  data:
    prometheus.yml: "global:\n\n  scrape_interval:     15s # By default, scrape targets\
      \ every 15 seconds.\n\n  # Attach these labels to any time series or alerts\
      \ when communicating with\n  # external systems (federation, remote storage,\
      \ Alertmanager).\n  external_labels:\n    monitor: 'trustgraph'\n\n# A scrape\
      \ configuration containing exactly one endpoint to scrape:\n# Here it's Prometheus\
      \ itself.\nscrape_configs:\n\n  # The job name is added as a label `job=<job_name>`\
      \ to any timeseries\n  # scraped from this config.\n\n  # TrustGraph services\n\
      \n  - job_name: 'agent-manager'\n    scrape_interval: 5s\n    static_configs:\n\
      \      - targets:\n        - 'agent-manager:8000'\n\n  - job_name: 'api-gateway'\n\
      \    scrape_interval: 5s\n    static_configs:\n      - targets:\n        - 'api-gateway:8000'\n\
      \n  - job_name: 'chunker'\n    scrape_interval: 5s\n    static_configs:\n  \
      \    - targets:\n        - 'chunker:8000'\n\n  - job_name: 'config-svc'\n  \
      \  scrape_interval: 5s\n    static_configs:\n      - targets:\n        - 'config-svc:8000'\n\
      \n  - job_name: 'document-embeddings'\n    scrape_interval: 5s\n    static_configs:\n\
      \      - targets:\n        - 'document-embeddings:8000'\n\n  - job_name: 'document-rag'\n\
      \    scrape_interval: 5s\n    static_configs:\n      - targets:\n        - 'document-rag:8000'\n\
      \n  - job_name: 'embeddings'\n    scrape_interval: 5s\n    static_configs:\n\
      \      - targets:\n        - 'embeddings:8000'\n\n  - job_name: 'graph-embeddings'\n\
      \    scrape_interval: 5s\n    static_configs:\n      - targets:\n        - 'graph-embeddings:8000'\n\
      \n  - job_name: 'graph-rag'\n    scrape_interval: 5s\n    static_configs:\n\
      \      - targets:\n        - 'graph-rag:8000'\n\n  - job_name: 'kg-extract-agent'\n\
      \    scrape_interval: 5s\n    static_configs:\n      - targets:\n        - 'kg-extract-agent:8000'\n\
      \n  - job_name: 'kg-extract-definitions'\n    scrape_interval: 5s\n    static_configs:\n\
      \      - targets:\n        - 'kg-extract-definitions:8000'\n\n  - job_name:\
      \ 'kg-extract-objects'\n    scrape_interval: 5s\n    static_configs:\n     \
      \ - targets:\n        - 'kg-extract-objects:8000'\n\n  - job_name: 'kg-extract-relationships'\n\
      \    scrape_interval: 5s\n    static_configs:\n      - targets:\n        - 'kg-extract-relationships:8000'\n\
      \n  - job_name: 'kg-extract-ontology'\n    scrape_interval: 5s\n    static_configs:\n\
      \      - targets:\n        - 'kg-extract-ontology:8000'\n\n  - job_name: 'kg-manager'\n\
      \    scrape_interval: 5s\n    static_configs:\n      - targets:\n        - 'kg-manager:8000'\n\
      \n  - job_name: 'kg-store'\n    scrape_interval: 5s\n    static_configs:\n \
      \     - targets:\n        - 'kg-store:8000'\n\n  - job_name: 'librarian'\n \
      \   scrape_interval: 5s\n    static_configs:\n      - targets:\n        - 'librarian:8000'\n\
      \n  - job_name: 'mcp-server'\n    scrape_interval: 5s\n    static_configs:\n\
      \      - targets:\n        - 'mcp-server:8000'\n\n  - job_name: 'mcp-tool'\n\
      \    scrape_interval: 5s\n    static_configs:\n      - targets:\n        - 'mcp-tool:8000'\n\
      \n  - job_name: 'metering'\n    scrape_interval: 5s\n    static_configs:\n \
      \     - targets:\n        - 'metering:8000'\n\n  - job_name: 'metering-rag'\n\
      \    scrape_interval: 5s\n    static_configs:\n      - targets:\n        - 'metering-rag:8000'\n\
      \n  - job_name: 'nlp-query'\n    scrape_interval: 5s\n    static_configs:\n\
      \      - targets:\n        - 'nlp-query:8000'\n\n  - job_name: 'pdf-decoder'\n\
      \    scrape_interval: 5s\n    static_configs:\n      - targets:\n        - 'pdf-decoder:8000'\n\
      \n  - job_name: 'prompt'\n    scrape_interval: 5s\n    static_configs:\n   \
      \   - targets:\n        - 'prompt:8000'\n\n  - job_name: 'prompt-rag'\n    scrape_interval:\
      \ 5s\n    static_configs:\n      - targets:\n        - 'prompt-rag:8000'\n\n\
      \  - job_name: 'query-doc-embeddings'\n    scrape_interval: 5s\n    static_configs:\n\
      \      - targets:\n        - 'query-doc-embeddings:8000'\n\n  - job_name: 'query-graph-embeddings'\n\
      \    scrape_interval: 5s\n    static_configs:\n      - targets:\n        - 'query-graph-embeddings:8000'\n\
      \n  - job_name: 'query-objects'\n    scrape_interval: 5s\n    static_configs:\n\
      \      - targets:\n        - 'query-objects:8000'\n\n  - job_name: 'query-triples'\n\
      \    scrape_interval: 5s\n    static_configs:\n      - targets:\n        - 'query-triples:8000'\n\
      \n  - job_name: 'store-doc-embeddings'\n    scrape_interval: 5s\n    static_configs:\n\
      \      - targets:\n        - 'store-doc-embeddings:8000'\n\n  - job_name: 'store-graph-embeddings'\n\
      \    scrape_interval: 5s\n    static_configs:\n      - targets:\n        - 'store-graph-embeddings:8000'\n\
      \n  - job_name: 'store-objects'\n    scrape_interval: 5s\n    static_configs:\n\
      \      - targets:\n        - 'store-objects:8000'\n\n  - job_name: 'store-triples'\n\
      \    scrape_interval: 5s\n    static_configs:\n      - targets:\n        - 'store-triples:8000'\n\
      \n  - job_name: 'structured-query'\n    scrape_interval: 5s\n    static_configs:\n\
      \      - targets:\n        - 'structured-query:8000'\n\n  - job_name: 'structured-diag'\n\
      \    scrape_interval: 5s\n    static_configs:\n      - targets:\n        - 'structured-query:8000'\n\
      \n  - job_name: 'text-completion'\n    scrape_interval: 5s\n    static_configs:\n\
      \      - targets:\n        - 'text-completion:8000'\n\n  - job_name: 'text-completion-rag'\n\
      \    scrape_interval: 5s\n    static_configs:\n      - targets:\n        - 'text-completion-rag:8000'\n\
      \n  # Non-Trustgraph services\n  - job_name: 'pulsar'\n    scrape_interval:\
      \ 5s\n    static_configs:\n      - targets:\n        - 'pulsar:8080'\n\n"
  kind: ConfigMap
  metadata:
    name: prometheus-cfg
    namespace: trustgraph
- apiVersion: v1
  kind: PersistentVolumeClaim
  metadata:
    name: prometheus-data
    namespace: trustgraph
  spec:
    accessModes:
    - ReadWriteOnce
    resources:
      requests:
        storage: 20G
    storageClassName: tg
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: prometheus
    name: prometheus
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: prometheus
    template:
      metadata:
        labels:
          app: prometheus
      spec:
        containers:
        - image: docker.io/prom/prometheus:v3.8.0
          name: prometheus
          ports:
          - containerPort: 9090
            hostPort: 9090
          resources:
            limits:
              cpu: '0.5'
              memory: 128M
            requests:
              cpu: '0.1'
              memory: 128M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
          volumeMounts:
          - mountPath: /etc/prometheus/
            name: prometheus-cfg
          - mountPath: /prometheus
            name: prometheus-data
        volumes:
        - configMap:
            name: prometheus-cfg
          name: prometheus-cfg
        - name: prometheus-data
          persistentVolumeClaim:
            claimName: prometheus-data
- apiVersion: v1
  kind: Service
  metadata:
    name: prometheus
    namespace: trustgraph
  spec:
    ports:
    - name: http
      port: 9090
      targetPort: 9090
    selector:
      app: prometheus
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: prompt
    name: prompt
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: prompt
    template:
      metadata:
        labels:
          app: prompt
      spec:
        containers:
        - command:
          - prompt-template
          - -p
          - pulsar://pulsar:6650
          - --concurrency
          - '1'
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: prompt
          resources:
            limits:
              cpu: '0.5'
              memory: 128M
            requests:
              cpu: '0.1'
              memory: 128M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: prompt
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: prompt
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: prompt-rag
    name: prompt-rag
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: prompt-rag
    template:
      metadata:
        labels:
          app: prompt-rag
      spec:
        containers:
        - command:
          - prompt-template
          - -p
          - pulsar://pulsar:6650
          - --id
          - prompt-rag
          - --concurrency
          - '1'
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: prompt-rag
          resources:
            limits:
              cpu: '0.5'
              memory: 128M
            requests:
              cpu: '0.1'
              memory: 128M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: prompt-rag
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: prompt-rag
- apiVersion: v1
  kind: PersistentVolumeClaim
  metadata:
    name: zookeeper
    namespace: trustgraph
  spec:
    accessModes:
    - ReadWriteOnce
    resources:
      requests:
        storage: 1G
    storageClassName: tg
- apiVersion: v1
  kind: PersistentVolumeClaim
  metadata:
    name: bookie
    namespace: trustgraph
  spec:
    accessModes:
    - ReadWriteOnce
    resources:
      requests:
        storage: 20G
    storageClassName: tg
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: zookeeper
    name: zookeeper
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: zookeeper
    template:
      metadata:
        labels:
          app: zookeeper
      spec:
        containers:
        - command:
          - bash
          - -c
          - bin/apply-config-from-env.py conf/zookeeper.conf && bin/generate-zookeeper-config.sh
            conf/zookeeper.conf && exec bin/pulsar zookeeper
          env:
          - name: PULSAR_MEM
            value: -Xms256m -Xmx256m -XX:MaxDirectMemorySize=256m
          - name: metadataStoreUrl
            value: zk:zookeeper:2181
          image: docker.io/apachepulsar/pulsar:4.1.0
          name: zookeeper
          ports:
          - containerPort: 2181
            hostPort: 2181
          - containerPort: 2888
            hostPort: 2888
          - containerPort: 3888
            hostPort: 3888
          resources:
            limits:
              cpu: '1'
              memory: 512M
            requests:
              cpu: '0.05'
              memory: 512M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
          volumeMounts:
          - mountPath: /pulsar/data/zookeeper
            name: zookeeper
        volumes:
        - name: zookeeper
          persistentVolumeClaim:
            claimName: zookeeper
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: pulsar-init
    name: pulsar-init
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: pulsar-init
    template:
      metadata:
        labels:
          app: pulsar-init
      spec:
        containers:
        - command:
          - bash
          - -c
          - sleep 10 && bin/pulsar initialize-cluster-metadata --cluster cluster-a
            --zookeeper zookeeper:2181 --configuration-store zookeeper:2181 --web-service-url
            http://pulsar:8080 --broker-service-url pulsar://pulsar:6650
          env:
          - name: PULSAR_MEM
            value: -Xms128m -Xmx128m -XX:MaxDirectMemorySize=128m
          image: docker.io/apachepulsar/pulsar:4.1.0
          name: pulsar-init
          resources:
            limits:
              cpu: '1'
              memory: 256M
            requests:
              cpu: '0.05'
              memory: 256M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: bookie
    name: bookie
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: bookie
    template:
      metadata:
        labels:
          app: bookie
      spec:
        containers:
        - command:
          - bash
          - -c
          - bin/apply-config-from-env.py conf/bookkeeper.conf && exec bin/pulsar bookie
          env:
          - name: BOOKIE_MEM
            value: -Xms256m -Xmx256m -XX:MaxDirectMemorySize=256m
          - name: advertisedAddress
            value: bookie
          - name: bookieId
            value: bookie
          - name: clusterName
            value: cluster-a
          - name: metadataStoreUri
            value: metadata-store:zk:zookeeper:2181
          - name: zkServers
            value: zookeeper:2181
          image: docker.io/apachepulsar/pulsar:4.1.0
          name: bookie
          ports:
          - containerPort: 3181
            hostPort: 3181
          resources:
            limits:
              cpu: '1'
              memory: 1024M
            requests:
              cpu: '0.1'
              memory: 1024M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
          volumeMounts:
          - mountPath: /pulsar/data/bookkeeper
            name: bookie
        volumes:
        - name: bookie
          persistentVolumeClaim:
            claimName: bookie
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: pulsar
    name: pulsar
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: pulsar
    template:
      metadata:
        labels:
          app: pulsar
      spec:
        containers:
        - command:
          - bash
          - -c
          - bin/apply-config-from-env.py conf/broker.conf && exec bin/pulsar broker
          env:
          - name: PULSAR_MEM
            value: -Xms384m -Xmx384m -XX:MaxDirectMemorySize=384m
          - name: advertisedAddress
            value: pulsar
          - name: advertisedListeners
            value: external:pulsar://pulsar:6650,localhost:pulsar://localhost:6650
          - name: clusterName
            value: cluster-a
          - name: managedLedgerDefaultAckQuorum
            value: '1'
          - name: managedLedgerDefaultEnsembleSize
            value: '1'
          - name: managedLedgerDefaultWriteQuorum
            value: '1'
          - name: metadataStoreUrl
            value: zk:zookeeper:2181
          - name: zookeeperServers
            value: zookeeper:2181
          image: docker.io/apachepulsar/pulsar:4.1.0
          name: pulsar
          ports:
          - containerPort: 6650
            hostPort: 6650
          - containerPort: 8080
            hostPort: 8080
          resources:
            limits:
              cpu: '1'
              memory: 800M
            requests:
              cpu: '0.1'
              memory: 800M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: zookeeper
    namespace: trustgraph
  spec:
    ports:
    - name: zookeeper
      port: 2181
      targetPort: 2181
    - name: zookeeper2
      port: 2888
      targetPort: 2888
    - name: zookeeper3
      port: 3888
      targetPort: 3888
    selector:
      app: zookeeper
- apiVersion: v1
  kind: Service
  metadata:
    name: bookie
    namespace: trustgraph
  spec:
    ports:
    - name: bookie
      port: 3181
      targetPort: 3181
    selector:
      app: bookie
- apiVersion: v1
  kind: Service
  metadata:
    name: pulsar
    namespace: trustgraph
  spec:
    ports:
    - name: pulsar
      port: 6650
      targetPort: 6650
    - name: admin
      port: 8080
      targetPort: 8080
    selector:
      app: pulsar
- apiVersion: v1
  kind: PersistentVolumeClaim
  metadata:
    name: qdrant
    namespace: trustgraph
  spec:
    accessModes:
    - ReadWriteOnce
    resources:
      requests:
        storage: 20G
    storageClassName: tg
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: qdrant
    name: qdrant
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: qdrant
    template:
      metadata:
        labels:
          app: qdrant
      spec:
        containers:
        - image: docker.io/qdrant/qdrant:v1.15.4
          name: qdrant
          ports:
          - containerPort: 6333
            hostPort: 6333
          - containerPort: 6334
            hostPort: 6334
          resources:
            limits:
              cpu: '1.0'
              memory: 1024M
            requests:
              cpu: '0.5'
              memory: 1024M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
          volumeMounts:
          - mountPath: /qdrant/storage
            name: qdrant
        volumes:
        - name: qdrant
          persistentVolumeClaim:
            claimName: qdrant
- apiVersion: v1
  kind: Service
  metadata:
    name: qdrant
    namespace: trustgraph
  spec:
    ports:
    - name: api
      port: 6333
      targetPort: 6333
    - name: api2
      port: 6334
      targetPort: 6334
    selector:
      app: qdrant
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: query-doc-embeddings
    name: query-doc-embeddings
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: query-doc-embeddings
    template:
      metadata:
        labels:
          app: query-doc-embeddings
      spec:
        containers:
        - command:
          - de-query-qdrant
          - -p
          - pulsar://pulsar:6650
          - -t
          - http://qdrant:6333
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: query-doc-embeddings
          resources:
            limits:
              cpu: '0.5'
              memory: 128M
            requests:
              cpu: '0.1'
              memory: 128M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: query-doc-embeddings
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: query-doc-embeddings
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: query-graph-embeddings
    name: query-graph-embeddings
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: query-graph-embeddings
    template:
      metadata:
        labels:
          app: query-graph-embeddings
      spec:
        containers:
        - command:
          - ge-query-qdrant
          - -p
          - pulsar://pulsar:6650
          - -t
          - http://qdrant:6333
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: query-graph-embeddings
          resources:
            limits:
              cpu: '0.5'
              memory: 128M
            requests:
              cpu: '0.1'
              memory: 128M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: query-graph-embeddings
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: query-graph-embeddings
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: query-objects
    name: query-objects
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: query-objects
    template:
      metadata:
        labels:
          app: query-objects
      spec:
        containers:
        - command:
          - objects-query-cassandra
          - -p
          - pulsar://pulsar:6650
          - --cassandra-host
          - cassandra
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: query-objects
          resources:
            limits:
              cpu: '0.5'
              memory: 512M
            requests:
              cpu: '0.1'
              memory: 512M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: query-objects
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: query-objects
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: query-triples
    name: query-triples
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: query-triples
    template:
      metadata:
        labels:
          app: query-triples
      spec:
        containers:
        - command:
          - triples-query-cassandra
          - -p
          - pulsar://pulsar:6650
          - --cassandra-host
          - cassandra
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: query-triples
          resources:
            limits:
              cpu: '0.5'
              memory: 512M
            requests:
              cpu: '0.1'
              memory: 512M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: query-triples
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: query-triples
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: store-doc-embeddings
    name: store-doc-embeddings
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: store-doc-embeddings
    template:
      metadata:
        labels:
          app: store-doc-embeddings
      spec:
        containers:
        - command:
          - de-write-qdrant
          - -p
          - pulsar://pulsar:6650
          - -t
          - http://qdrant:6333
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: store-doc-embeddings
          resources:
            limits:
              cpu: '0.5'
              memory: 128M
            requests:
              cpu: '0.1'
              memory: 128M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: store-doc-embeddings
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: store-doc-embeddings
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: store-graph-embeddings
    name: store-graph-embeddings
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: store-graph-embeddings
    template:
      metadata:
        labels:
          app: store-graph-embeddings
      spec:
        containers:
        - command:
          - ge-write-qdrant
          - -p
          - pulsar://pulsar:6650
          - -t
          - http://qdrant:6333
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: store-graph-embeddings
          resources:
            limits:
              cpu: '0.5'
              memory: 128M
            requests:
              cpu: '0.1'
              memory: 128M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: store-graph-embeddings
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: store-graph-embeddings
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: store-objects
    name: store-objects
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: store-objects
    template:
      metadata:
        labels:
          app: store-objects
      spec:
        containers:
        - command:
          - objects-write-cassandra
          - -p
          - pulsar://pulsar:6650
          - --cassandra-host
          - cassandra
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: store-objects
          resources:
            limits:
              cpu: '0.5'
              memory: 128M
            requests:
              cpu: '0.1'
              memory: 128M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: store-objects
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: store-objects
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: store-triples
    name: store-triples
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: store-triples
    template:
      metadata:
        labels:
          app: store-triples
      spec:
        containers:
        - command:
          - triples-write-cassandra
          - -p
          - pulsar://pulsar:6650
          - --cassandra-host
          - cassandra
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: store-triples
          resources:
            limits:
              cpu: '0.5'
              memory: 256M
            requests:
              cpu: '0.1'
              memory: 256M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: store-triples
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: store-triples
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: structured-diag
    name: structured-diag
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: structured-diag
    template:
      metadata:
        labels:
          app: structured-diag
      spec:
        containers:
        - command:
          - structured-diag
          - -p
          - pulsar://pulsar:6650
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: structured-diag
          resources:
            limits:
              cpu: '0.5'
              memory: 96M
            requests:
              cpu: '0.1'
              memory: 96M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: structured-diag
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: structured-diag
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: structured-query
    name: structured-query
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: structured-query
    template:
      metadata:
        labels:
          app: structured-query
      spec:
        containers:
        - command:
          - structured-query
          - -p
          - pulsar://pulsar:6650
          - --log-level
          - DEBUG
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: structured-query
          resources:
            limits:
              cpu: '0.5'
              memory: 128M
            requests:
              cpu: '0.1'
              memory: 128M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: structured-query
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: structured-query
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: text-completion
    name: text-completion
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: text-completion
    template:
      metadata:
        labels:
          app: text-completion
      spec:
        containers:
        - command:
          - text-completion-openai
          - -p
          - pulsar://pulsar:6650
          - -x
          - '4096'
          - -t
          - '0.000'
          - --log-level
          - DEBUG
          env:
          - name: OPENAI_TOKEN
            valueFrom:
              secretKeyRef:
                key: openai-token
                name: openai-credentials
          - name: OPENAI_BASE_URL
            valueFrom:
              secretKeyRef:
                key: openai-url
                name: openai-credentials
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: text-completion
          resources:
            limits:
              cpu: '0.5'
              memory: 128M
            requests:
              cpu: '0.1'
              memory: 128M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: text-completion
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: text-completion
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: text-completion-rag
    name: text-completion-rag
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: text-completion-rag
    template:
      metadata:
        labels:
          app: text-completion-rag
      spec:
        containers:
        - command:
          - text-completion-openai
          - -p
          - pulsar://pulsar:6650
          - --id
          - text-completion-rag
          - -x
          - '4096'
          - -t
          - '0.000'
          - --log-level
          - DEBUG
          env:
          - name: OPENAI_TOKEN
            valueFrom:
              secretKeyRef:
                key: openai-token
                name: openai-credentials
          - name: OPENAI_BASE_URL
            valueFrom:
              secretKeyRef:
                key: openai-url
                name: openai-credentials
          image: docker.io/trustgraph/trustgraph-flow:1.8.12
          name: text-completion-rag
          resources:
            limits:
              cpu: '0.5'
              memory: 128M
            requests:
              cpu: '0.1'
              memory: 128M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: text-completion-rag
    namespace: trustgraph
  spec:
    ports:
    - name: metrics
      port: 8000
      targetPort: 8000
    selector:
      app: text-completion-rag
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      app: workbench-ui
    name: workbench-ui
    namespace: trustgraph
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: workbench-ui
    template:
      metadata:
        labels:
          app: workbench-ui
      spec:
        containers:
        - image: docker.io/trustgraph/workbench-ui:1.4.4
          name: workbench-ui
          ports:
          - containerPort: 8888
            hostPort: 8888
          resources:
            limits:
              cpu: '0.1'
              memory: 256M
            requests:
              cpu: '0.1'
              memory: 256M
          securityContext:
            runAsGroup: 0
            runAsUser: 0
        volumes: []
- apiVersion: v1
  kind: Service
  metadata:
    name: workbench-ui
    namespace: trustgraph
  spec:
    ports:
    - name: ui
      port: 8888
      targetPort: 8888
    selector:
      app: workbench-ui
kind: List

